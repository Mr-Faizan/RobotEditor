\doxysection{point\+\_\+cloud.\+h}
\hypertarget{point__cloud_8h_source}{}\label{point__cloud_8h_source}\index{RobotLib/libraries/assimp/contrib/draco/src/draco/point\_cloud/point\_cloud.h@{RobotLib/libraries/assimp/contrib/draco/src/draco/point\_cloud/point\_cloud.h}}
\mbox{\hyperlink{point__cloud_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2016\ The\ Draco\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ DRACO\_POINT\_CLOUD\_POINT\_CLOUD\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ DRACO\_POINT\_CLOUD\_POINT\_CLOUD\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{point__attribute_8h}{draco/attributes/point\_attribute.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bounding__box_8h}{draco/core/bounding\_box.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{vector__d_8h}{draco/core/vector\_d.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}draco/draco\_features.h"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geometry__metadata_8h}{draco/metadata/geometry\_metadata.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedraco}{draco}}\ \{}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{comment}{//\ PointCloud\ is\ a\ collection\ of\ n-\/dimensional\ points\ that\ are\ described\ by\ a}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ set\ of\ PointAttributes\ that\ can\ represent\ data\ such\ as\ positions\ or\ colors}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ of\ individual\ points\ (see\ point\_attribute.h).}}
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdraco_1_1_point_cloud_a7d6f79928b0877770cd1af2238a7d62e}{PointCloud}}\ \{}
\DoxyCodeLine{00030\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud_a7d6f79928b0877770cd1af2238a7d62e}{PointCloud}}();}
\DoxyCodeLine{00032\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a71670eea94edd8251054d2d7358cf8b7}{\string~PointCloud}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifdef\ DRACO\_TRANSCODER\_SUPPORTED}}
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ Copies\ all\ data\ from\ the\ |src|\ point\ cloud.}}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordtype}{void}\ Copy(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a7d6f79928b0877770cd1af2238a7d62e}{PointCloud}}\ \&src);}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Returns\ the\ number\ of\ named\ attributes\ of\ a\ given\ type.}}
\DoxyCodeLine{00040\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_aeca5cf07529baf8c08eb114a0516bd05}{NumNamedAttributes}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{//\ Returns\ attribute\ id\ of\ the\ first\ named\ attribute\ with\ a\ given\ type\ or\ -\/1}}
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ when\ the\ attribute\ is\ not\ used\ by\ the\ point\ cloud.}}
\DoxyCodeLine{00044\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a0d0211861bb04a53cdd635075f0144f4}{GetNamedAttributeId}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ Returns\ the\ id\ of\ the\ i-\/th\ named\ attribute\ of\ a\ given\ type.}}
\DoxyCodeLine{00047\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a0d0211861bb04a53cdd635075f0144f4}{GetNamedAttributeId}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,\ \textcolor{keywordtype}{int}\ i)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{comment}{//\ Returns\ the\ first\ named\ attribute\ of\ a\ given\ type\ or\ nullptr\ if\ the}}
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ attribute\ is\ not\ used\ by\ the\ point\ cloud.}}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a39a0b2b588c170a9eff0f6eecdd07361}{GetNamedAttribute}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{comment}{//\ Returns\ the\ i-\/th\ named\ attribute\ of\ a\ given\ type.}}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a39a0b2b588c170a9eff0f6eecdd07361}{GetNamedAttribute}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//\ Returns\ the\ named\ attribute\ of\ a\ given\ unique\ id.}}
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_ab68b5c3083662c117d684cd6ec92d054}{GetNamedAttributeByUniqueId}}(}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,\ uint32\_t\ \textcolor{keywordtype}{id})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//\ Returns\ the\ attribute\ of\ a\ given\ unique\ id.}}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a0de772e43dc6ef03044c5cabc273e8c2}{GetAttributeByUniqueId}}(uint32\_t\ \textcolor{keywordtype}{id})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00063\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a9cc5e32c5559ceb5b5e77d1501962024}{GetAttributeIdByUniqueId}}(uint32\_t\ unique\_id)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a1040a77b1180416f86053d1317dcba37}{num\_attributes}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(attributes\_.size());}
\DoxyCodeLine{00067\ \ \ \}}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a8efdc537e4fd3f010ccbd9940f2c5d19}{attribute}}(int32\_t\ att\_id)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{macros_8h_aa867442622785ecf2db4a791fc4ecb5c}{DRACO\_DCHECK\_LE}}(0,\ att\_id);}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{macros_8h_a0e3e573e4d68b6bd9fd6306f7948978d}{DRACO\_DCHECK\_LT}}(att\_id,\ \textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(attributes\_.size()));}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ attributes\_[att\_id].get();}
\DoxyCodeLine{00072\ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Returned\ attribute\ can\ be\ modified,\ but\ it's\ caller's\ responsibility\ to}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ maintain\ the\ attribute's\ consistency\ with\ draco::PointCloud.}}
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a3f8f9ccad457c5f5141d10044d3e72c5}{attribute}}(int32\_t\ att\_id)\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{macros_8h_aa867442622785ecf2db4a791fc4ecb5c}{DRACO\_DCHECK\_LE}}(0,\ att\_id);}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{macros_8h_a0e3e573e4d68b6bd9fd6306f7948978d}{DRACO\_DCHECK\_LT}}(att\_id,\ \textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(attributes\_.size()));}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ attributes\_[att\_id].get();}
\DoxyCodeLine{00080\ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ Adds\ a\ new\ attribute\ to\ the\ point\ cloud.}}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ Returns\ the\ attribute\ id.}}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a042f684bdb5fe05ba4146770ae95d8a2}{AddAttribute}}(std::unique\_ptr<PointAttribute>\ pa);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \textcolor{comment}{//\ Creates\ and\ adds\ a\ new\ attribute\ to\ the\ point\ cloud.\ The\ attribute\ has}}
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ properties\ derived\ from\ the\ provided\ GeometryAttribute\ |att|.}}
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ If\ |identity\_mapping|\ is\ set\ to\ true,\ the\ attribute\ will\ use\ identity}}
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ mapping\ between\ point\ indices\ and\ attribute\ value\ indices\ (i.e.,\ each}}
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ point\ has\ a\ unique\ attribute\ value).\ If\ |identity\_mapping|\ is\ false,\ the}}
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ mapping\ between\ point\ indices\ and\ attribute\ value\ indices\ is\ set\ to}}
\DoxyCodeLine{00092\ \ \ \textcolor{comment}{//\ explicit,\ and\ it\ needs\ to\ be\ initialized\ manually\ using\ the}}
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{//\ PointAttribute::SetPointMapEntry()\ method.\ |num\_attribute\_values|\ can\ be}}
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{//\ used\ to\ specify\ the\ number\ of\ attribute\ values\ that\ are\ going\ to\ be}}
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{//\ stored\ in\ the\ newly\ created\ attribute.\ Returns\ attribute\ id\ of\ the\ newly}}
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ created\ attribute\ or\ -\/1\ in\ case\ of\ failure.}}
\DoxyCodeLine{00097\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a042f684bdb5fe05ba4146770ae95d8a2}{AddAttribute}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_geometry_attribute}{GeometryAttribute}}\ \&att,\ \textcolor{keywordtype}{bool}\ identity\_mapping,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ AttributeValueIndex::ValueType\ num\_attribute\_values);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{//\ Creates\ and\ returns\ a\ new\ attribute\ or\ nullptr\ in\ case\ of\ failure.\ This}}
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{//\ method\ is\ similar\ to\ AddAttribute(),\ except\ that\ it\ returns\ the\ new}}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ attribute\ instead\ of\ adding\ it\ to\ the\ point\ cloud.}}
\DoxyCodeLine{00103\ \ \ std::unique\_ptr<PointAttribute>\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a577b5879a5986af85b382685492c6c39}{CreateAttribute}}(}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_geometry_attribute}{GeometryAttribute}}\ \&att,\ \textcolor{keywordtype}{bool}\ identity\_mapping,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ AttributeValueIndex::ValueType\ num\_attribute\_values)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ Assigns\ an\ attribute\ id\ to\ a\ given\ PointAttribute.\ If\ an\ attribute\ with}}
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ the\ same\ attribute\ id\ already\ exists,\ it\ is\ deleted.}}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a6da3806555c5ae6b66e9c9de0ed59b23}{SetAttribute}}(\textcolor{keywordtype}{int}\ att\_id,\ std::unique\_ptr<PointAttribute>\ pa);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ Deletes\ an\ attribute\ with\ specified\ attribute\ id.\ Note\ that\ this\ changes}}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ attribute\ ids\ of\ all\ subsequent\ attributes.}}
\DoxyCodeLine{00113\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_ab77fcd73bd2eff1e5fad08b27d6049fa}{DeleteAttribute}}(\textcolor{keywordtype}{int}\ att\_id);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#ifdef\ DRACO\_ATTRIBUTE\_VALUES\_DEDUPLICATION\_SUPPORTED}}
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ Deduplicates\ all\ attribute\ values\ (all\ attribute\ entries\ with\ the\ same}}
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ value\ are\ merged\ into\ a\ single\ entry).}}
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ DeduplicateAttributeValues();}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#ifdef\ DRACO\_ATTRIBUTE\_INDICES\_DEDUPLICATION\_SUPPORTED}}
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//\ Removes\ duplicate\ point\ ids\ (two\ point\ ids\ are\ duplicate\ when\ all\ of\ their}}
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//\ attributes\ are\ mapped\ to\ the\ same\ entry\ ids).}}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ DeduplicatePointIds();}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//\ Get\ bounding\ box.}}
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{classdraco_1_1_bounding_box}{BoundingBox}}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a9b470ffd6dcc0169310eaa3abdb406e4}{ComputeBoundingBox}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \textcolor{comment}{//\ Add\ metadata.}}
\DoxyCodeLine{00131\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a28ab6ff9e0983ba97d75f3e78ad5763a}{AddMetadata}}(std::unique\_ptr<GeometryMetadata>\ \mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}})\ \{}
\DoxyCodeLine{00132\ \ \ \ \ metadata\_\ =\ std::move(\mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}});}
\DoxyCodeLine{00133\ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{comment}{//\ Add\ metadata\ for\ an\ attribute.}}
\DoxyCodeLine{00136\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a4d82116c14aa8d6ab3f43315adecacbb}{AddAttributeMetadata}}(int32\_t\ att\_id,}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<AttributeMetadata>\ \mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}})\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{if}\ (!metadata\_)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ metadata\_\ =\ std::unique\_ptr<GeometryMetadata>(\textcolor{keyword}{new}\ \mbox{\hyperlink{classdraco_1_1_geometry_metadata}{GeometryMetadata}}());}
\DoxyCodeLine{00140\ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{const}\ int32\_t\ att\_unique\_id\ =\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a8efdc537e4fd3f010ccbd9940f2c5d19}{attribute}}(att\_id)-\/>\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a1a8d0e38de35d1fc6bcc217b8bc5d09c}{unique\_id}}();}
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}}-\/>set\_att\_unique\_id(att\_unique\_id);}
\DoxyCodeLine{00143\ \ \ \ \ metadata\_-\/>AddAttributeMetadata(std::move(\mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}}));}
\DoxyCodeLine{00144\ \ \ \}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_attribute_metadata}{AttributeMetadata}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_aedcf49fe26ff0abf775b1d5e0708aa3a}{GetAttributeMetadataByAttributeId}}(}
\DoxyCodeLine{00147\ \ \ \ \ \ \ int32\_t\ att\_id)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{if}\ (metadata\_\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t\ unique\_id\ =\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a8efdc537e4fd3f010ccbd9940f2c5d19}{attribute}}(att\_id)-\/>\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a1a8d0e38de35d1fc6bcc217b8bc5d09c}{unique\_id}}();}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{return}\ metadata\_-\/>GetAttributeMetadataByUniqueId(unique\_id);}
\DoxyCodeLine{00153\ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \textcolor{comment}{//\ Returns\ the\ attribute\ metadata\ that\ has\ the\ requested\ metadata\ entry.}}
\DoxyCodeLine{00156\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_attribute_metadata}{AttributeMetadata}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_a06137562340a09c02fa5dba36fbeae75}{GetAttributeMetadataByStringEntry}}(}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&name,\ \textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keywordflow}{if}\ (metadata\_\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ metadata\_-\/>GetAttributeMetadataByStringEntry(name,\ \mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}});}
\DoxyCodeLine{00162\ \ \ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \textcolor{comment}{//\ Returns\ the\ first\ attribute\ that\ has\ the\ requested\ metadata\ entry.}}
\DoxyCodeLine{00165\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_aab8811ae1e450787fd23b92dbf665167}{GetAttributeIdByMetadataEntry}}(\textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{if}\ (metadata\_\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00169\ \ \ \ \ \}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_attribute_metadata}{AttributeMetadata}}\ *att\_metadata\ =}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ metadata\_-\/>GetAttributeMetadataByStringEntry(name,\ \mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}});}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{if}\ (!att\_metadata)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00174\ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a9cc5e32c5559ceb5b5e77d1501962024}{GetAttributeIdByUniqueId}}(att\_metadata-\/>\mbox{\hyperlink{classdraco_1_1_attribute_metadata_a2bab2a37d014282c330720ad7a9a04ed}{att\_unique\_id}}());}
\DoxyCodeLine{00176\ \ \ \}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{comment}{//\ Get\ a\ const\ pointer\ of\ the\ metadata\ of\ the\ point\ cloud.}}
\DoxyCodeLine{00179\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_geometry_metadata}{GeometryMetadata}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_ae4c90d101f49726d1948be9f123c362b}{GetMetadata}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ metadata\_.get();\ \}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ Get\ a\ pointer\ to\ the\ metadata\ of\ the\ point\ cloud.}}
\DoxyCodeLine{00182\ \ \ \mbox{\hyperlink{classdraco_1_1_geometry_metadata}{GeometryMetadata}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_af31044b39997c9e10c13d3c70faddc08}{metadata}}()\ \{\ \textcolor{keywordflow}{return}\ metadata\_.get();\ \}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ Returns\ the\ number\ of\ n-\/dimensional\ points\ stored\ within\ the\ point\ cloud.}}
\DoxyCodeLine{00185\ \ \ PointIndex::ValueType\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a045dbd723f51da5323538b1adfba8b74}{num\_points}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ num\_points\_;\ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \textcolor{comment}{//\ Sets\ the\ number\ of\ points.\ It's\ the\ caller's\ responsibility\ to\ ensure\ the}}
\DoxyCodeLine{00188\ \ \ \textcolor{comment}{//\ new\ number\ is\ valid\ with\ respect\ to\ the\ PointAttributes\ stored\ in\ the\ point}}
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{//\ cloud.}}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_a948f9ad4476b5459bf296f36f7eec0ad}{set\_num\_points}}(PointIndex::ValueType\ num)\ \{\ num\_points\_\ =\ num;\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#ifdef\ DRACO\_TRANSCODER\_SUPPORTED}}
\DoxyCodeLine{00194\ \ \ \textcolor{comment}{//\ Copies\ metadata\ from\ the\ |src|\ point\ cloud.}}
\DoxyCodeLine{00195\ \ \ \textcolor{keywordtype}{void}\ CopyMetadata(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ \&src);}
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\#ifdef\ DRACO\_ATTRIBUTE\_INDICES\_DEDUPLICATION\_SUPPORTED}}
\DoxyCodeLine{00199\ \ \ \textcolor{comment}{//\ Applies\ id\ mapping\ of\ deduplicated\ points\ (called\ by\ DeduplicatePointIds).}}
\DoxyCodeLine{00200\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ ApplyPointIdDeduplication(}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_index_type_vector}{IndexTypeVector<PointIndex,\ PointIndex>}}\ \&id\_map,}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<PointIndex>\ \&unique\_point\_ids);}
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00206\ \ \ \textcolor{comment}{//\ Metadata\ for\ the\ point\ cloud.}}
\DoxyCodeLine{00207\ \ \ std::unique\_ptr<GeometryMetadata>\ metadata\_;}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \textcolor{comment}{//\ Attributes\ describing\ the\ point\ cloud.}}
\DoxyCodeLine{00210\ \ \ std::vector<std::unique\_ptr<PointAttribute>>\ attributes\_;}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{comment}{//\ Ids\ of\ named\ attributes\ of\ the\ given\ type.}}
\DoxyCodeLine{00213\ \ \ std::vector<int32\_t>}
\DoxyCodeLine{00214\ \ \ \ \ \ \ named\_attribute\_index\_[\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800addec28d6eb1a9f1dfbd5a48b37e248d8}{GeometryAttribute::NAMED\_ATTRIBUTES\_COUNT}}];}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \textcolor{comment}{//\ The\ number\ of\ n-\/dimensional\ points.\ All\ point\ attribute\ values\ are\ stored}}
\DoxyCodeLine{00217\ \ \ \textcolor{comment}{//\ in\ corresponding\ PointAttribute\ instances\ in\ the\ |attributes\_|\ array.}}
\DoxyCodeLine{00218\ \ \ PointIndex::ValueType\ num\_points\_;}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{classdraco_1_1_point_cloud_ad3b523c7be49fb004baa2dd070d4fb3e}{PointCloudHasher}};}
\DoxyCodeLine{00221\ \};}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \textcolor{comment}{//\ Functor\ for\ computing\ a\ hash\ from\ data\ stored\ within\ a\ point\ cloud.}}
\DoxyCodeLine{00224\ \textcolor{comment}{//\ Note\ that\ this\ can\ be\ quite\ slow.\ Two\ point\ clouds\ will\ have\ the\ same\ hash}}
\DoxyCodeLine{00225\ \textcolor{comment}{//\ only\ when\ all\ points\ have\ the\ same\ order\ and\ when\ all\ attribute\ values\ are}}
\DoxyCodeLine{00226\ \textcolor{comment}{//\ exactly\ the\ same.}}
\DoxyCodeLine{00227\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structdraco_1_1_point_cloud_hasher}{PointCloudHasher}}\ \{}
\DoxyCodeLine{00228\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structdraco_1_1_point_cloud_hasher_ad2c63d575fe5bda640bd2ece9e775520}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ \&pc)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ hash\ =\ pc.num\_points\_;}
\DoxyCodeLine{00230\ \ \ \ \ hash\ =\ \mbox{\hyperlink{namespacedraco_a96fe28770f9457d72d61459e389aa643}{HashCombine}}(pc.attributes\_.size(),\ hash);}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800addec28d6eb1a9f1dfbd5a48b37e248d8}{GeometryAttribute::NAMED\_ATTRIBUTES\_COUNT}};\ ++i)\ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ hash\ =\ \mbox{\hyperlink{namespacedraco_a96fe28770f9457d72d61459e389aa643}{HashCombine}}(pc.named\_attribute\_index\_[i].size(),\ hash);}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ static\_cast<int>(pc.named\_attribute\_index\_[i].size());}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ ++j)\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ hash\ =\ \mbox{\hyperlink{namespacedraco_a96fe28770f9457d72d61459e389aa643}{HashCombine}}(pc.named\_attribute\_index\_[i][j],\ hash);}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{comment}{//\ Hash\ attributes.}}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ static\_cast<int>(pc.attributes\_.size());\ ++i)\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \mbox{\hyperlink{structdraco_1_1_point_attribute_hasher}{PointAttributeHasher}}\ att\_hasher;}
\DoxyCodeLine{00241\ \ \ \ \ \ \ hash\ =\ \mbox{\hyperlink{namespacedraco_a96fe28770f9457d72d61459e389aa643}{HashCombine}}(att\_hasher(*pc.attributes\_[i]),\ hash);}
\DoxyCodeLine{00242\ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{comment}{//\ Hash\ metadata.}}
\DoxyCodeLine{00244\ \ \ \ \ \mbox{\hyperlink{structdraco_1_1_geometry_metadata_hasher}{GeometryMetadataHasher}}\ metadata\_hasher;}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordflow}{if}\ (pc.metadata\_)\ \{}
\DoxyCodeLine{00246\ \ \ \ \ \ \ hash\ =\ \mbox{\hyperlink{namespacedraco_a96fe28770f9457d72d61459e389aa643}{HashCombine}}(metadata\_hasher(*pc.metadata\_),\ hash);}
\DoxyCodeLine{00247\ \ \ \ \ \}}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{return}\ hash;}
\DoxyCodeLine{00249\ \ \ \}}
\DoxyCodeLine{00250\ \};}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \}\ \ \textcolor{comment}{//\ namespace\ draco}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ DRACO\_POINT\_CLOUD\_POINT\_CLOUD\_H\_}}

\end{DoxyCode}
