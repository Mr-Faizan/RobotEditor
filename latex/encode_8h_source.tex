\doxysection{encode.\+h}
\hypertarget{encode_8h_source}{}\label{encode_8h_source}\index{RobotLib/libraries/assimp/contrib/draco/src/draco/compression/encode.h@{RobotLib/libraries/assimp/contrib/draco/src/draco/compression/encode.h}}
\mbox{\hyperlink{encode_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2016\ The\ Draco\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ DRACO\_COMPRESSION\_ENCODE\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ DRACO\_COMPRESSION\_ENCODE\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{compression__shared_8h}{draco/compression/config/compression\_shared.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{encoder__options_8h}{draco/compression/config/encoder\_options.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{encode__base_8h}{draco/compression/encode\_base.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{encoder__buffer_8h}{draco/core/encoder\_buffer.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{status_8h}{draco/core/status.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{assimp_2contrib_2draco_2src_2draco_2mesh_2mesh_8h}{draco/mesh/mesh.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedraco}{draco}}\ \{}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{comment}{//\ Basic\ helper\ class\ for\ encoding\ geometry\ using\ the\ Draco\ compression\ library.}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ The\ class\ provides\ various\ methods\ that\ can\ be\ used\ to\ control\ several\ common}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ options\ used\ during\ the\ encoding,\ such\ as\ the\ number\ of\ quantization\ bits\ for}}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ a\ given\ attribute.\ All\ these\ options\ are\ defined\ per\ attribute\ type,\ i.e.,}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ if\ there\ are\ more\ attributes\ of\ the\ same\ type\ (such\ as\ multiple\ texture}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ coordinate\ attributes),\ the\ same\ options\ are\ going\ to\ be\ used\ for\ all\ of\ the}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ attributes\ of\ this\ type.\ If\ different\ attributes\ of\ the\ same\ type\ need\ to}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ use\ different\ options,\ use\ ExpertEncoder\ in\ expert\_encode.h.}}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdraco_1_1_encoder_ab5d9324930644abeb150da7a7747ffe3}{Encoder}}}
\DoxyCodeLine{00036\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classdraco_1_1_encoder_base_aaa0feb9c3422f31bc9132b2385356eb5}{EncoderBase}}<EncoderOptionsBase<GeometryAttribute::Type>>\ \{}
\DoxyCodeLine{00037\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classdraco_1_1_encoder_base_aaa0feb9c3422f31bc9132b2385356eb5}{EncoderBase<EncoderOptionsBase<GeometryAttribute::Type>}}>\ \mbox{\hyperlink{classdraco_1_1_encoder_aed8614af9bc3593e88f7106c328d8859}{Base}};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classdraco_1_1_encoder_ab5d9324930644abeb150da7a7747ffe3}{Encoder}}();}
\DoxyCodeLine{00041\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdraco_1_1_encoder_add6c48be68fcfd33c1f2388d9fc3c454}{\string~Encoder}}()\ \{\}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ Encodes\ a\ point\ cloud\ to\ the\ provided\ buffer.}}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_encoder_a66710ebde65a87f79123ba146989f06d}{EncodePointCloudToBuffer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ \&pc,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_encoder_buffer}{EncoderBuffer}}\ *out\_buffer);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{//\ Encodes\ a\ mesh\ to\ the\ provided\ buffer.}}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_encoder_a2779c52488f8c04d3bfe7f77134ad1c8}{EncodeMeshToBuffer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_mesh}{Mesh}}\ \&m,\ \mbox{\hyperlink{classdraco_1_1_encoder_buffer}{EncoderBuffer}}\ *out\_buffer);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ Set\ encoder\ options\ used\ during\ the\ geometry\ encoding.\ Note\ that\ this\ call}}
\DoxyCodeLine{00051\ \ \ \textcolor{comment}{//\ overwrites\ any\ modifications\ to\ the\ options\ done\ with\ the\ functions\ below,}}
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ i.e.,\ it\ resets\ the\ encoder.}}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_a4375bf4d88d56f5f5d09860f9062d691}{Reset}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_encoder_options_base}{EncoderOptionsBase<GeometryAttribute::Type>}}\ \&\mbox{\hyperlink{classdraco_1_1_encoder_base_af496d9abd462df087f9839047bed5d1d}{options}});}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_a4375bf4d88d56f5f5d09860f9062d691}{Reset}}();}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ Sets\ the\ desired\ encoding\ and\ decoding\ speed\ for\ the\ given\ options.}}
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ \ 0\ =\ slowest\ speed,\ but\ the\ best\ compression.}}
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ 10\ =\ fastest,\ but\ the\ worst\ compression.}}
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ -\/1\ =\ undefined.}}
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00062\ \ \ \textcolor{comment}{//\ Note\ that\ both\ speed\ options\ affect\ the\ encoder\ choice\ of\ used\ methods\ and}}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ algorithms.\ For\ example,\ a\ requirement\ for\ fast\ decoding\ may\ prevent\ the}}
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{//\ encoder\ from\ using\ the\ best\ compression\ methods\ even\ if\ the\ encoding\ speed}}
\DoxyCodeLine{00065\ \ \ \textcolor{comment}{//\ is\ set\ to\ 0.\ In\ general,\ the\ faster\ of\ the\ two\ options\ limits\ the\ choice\ of}}
\DoxyCodeLine{00066\ \ \ \textcolor{comment}{//\ features\ that\ can\ be\ used\ by\ the\ encoder.\ Additionally,\ setting}}
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ |decoding\_speed|\ to\ be\ faster\ than\ the\ |encoding\_speed|\ may\ allow\ the}}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ encoder\ to\ choose\ the\ optimal\ method\ out\ of\ the\ available\ features\ for\ the}}
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{//\ given\ |decoding\_speed|.}}
\DoxyCodeLine{00070\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_a04f5041f0778b8575036270af92d6aed}{SetSpeedOptions}}(\textcolor{keywordtype}{int}\ encoding\_speed,\ \textcolor{keywordtype}{int}\ decoding\_speed);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{//\ Sets\ the\ quantization\ compression\ options\ for\ a\ named\ attribute.\ The}}
\DoxyCodeLine{00073\ \ \ \textcolor{comment}{//\ attribute\ values\ will\ be\ quantized\ in\ a\ box\ defined\ by\ the\ maximum\ extent}}
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ of\ the\ attribute\ values.\ I.e.,\ the\ actual\ precision\ of\ this\ option\ depends}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ on\ the\ scale\ of\ the\ attribute\ values.}}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_add67f0aafa7199e7005a351116bea34d}{SetAttributeQuantization}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ quantization\_bits);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ Sets\ the\ explicit\ quantization\ compression\ for\ a\ named\ attribute.\ The}}
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ attribute\ values\ will\ be\ quantized\ in\ a\ coordinate\ system\ defined\ by\ the}}
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//\ provided\ origin\ and\ range\ (the\ input\ values\ should\ be\ within\ interval:}}
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ <origin,\ origin\ +\ range>).}}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_a1860246bc521cf29454ec29f8c18782f}{SetAttributeExplicitQuantization}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ quantization\_bits,\ \textcolor{keywordtype}{int}\ num\_dims,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ *\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a5f189a59b66f135978bce54f9d0fcade}{origin}},\ \textcolor{keywordtype}{float}\ range);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ Sets\ the\ desired\ prediction\ method\ for\ a\ given\ attribute.\ By\ default,}}
\DoxyCodeLine{00088\ \ \ \textcolor{comment}{//\ prediction\ scheme\ is\ selected\ automatically\ by\ the\ encoder\ using\ other}}
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{//\ provided\ options\ (such\ as\ speed)\ and\ input\ geometry\ type\ (mesh,\ point}}
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ cloud).\ This\ function\ should\ be\ called\ only\ when\ a\ specific\ prediction\ is}}
\DoxyCodeLine{00091\ \ \ \textcolor{comment}{//\ preferred\ (e.g.,\ when\ it\ is\ known\ that\ the\ encoder\ would\ select\ a\ less}}
\DoxyCodeLine{00092\ \ \ \textcolor{comment}{//\ optimal\ prediction\ for\ the\ given\ input\ data).}}
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{//\ |prediction\_scheme\_method|\ should\ be\ one\ of\ the\ entries\ defined\ in}}
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{//\ compression/config/compression\_shared.h\ :}}
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00097\ \ \ \textcolor{comment}{//\ \ \ PREDICTION\_NONE\ -\/\ use\ no\ prediction.}}
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ \ \ PREDICTION\_DIFFERENCE\ -\/\ delta\ coding}}
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ \ \ MESH\_PREDICTION\_PARALLELOGRAM\ -\/\ parallelogram\ prediction\ for\ meshes.}}
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{//\ \ \ MESH\_PREDICTION\_CONSTRAINED\_PARALLELOGRAM}}
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{//\ \ \ \ \ \ -\/\ better\ and\ more\ costly\ version\ of\ the\ parallelogram\ prediction.}}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ \ \ MESH\_PREDICTION\_TEX\_COORDS\_PORTABLE}}
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ \ \ \ \ \ -\/\ specialized\ predictor\ for\ tex\ coordinates.}}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ \ \ MESH\_PREDICTION\_GEOMETRIC\_NORMAL}}
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ \ \ \ \ \ -\/\ specialized\ predictor\ for\ normal\ coordinates.}}
\DoxyCodeLine{00106\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ Note\ that\ in\ case\ the\ desired\ prediction\ cannot\ be\ used,\ the\ default}}
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ prediction\ will\ be\ automatically\ used\ instead.}}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_encoder_ad36d236ec2aefcf31075d1b91218ebbb}{SetAttributePredictionScheme}}(\mbox{\hyperlink{classdraco_1_1_geometry_attribute_affa28359c6ae310b23a9af78a9dc4800}{GeometryAttribute::Type}}\ type,}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ prediction\_scheme\_method);}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ Sets\ the\ desired\ encoding\ method\ for\ a\ given\ geometry.\ By\ default,\ encoding}}
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{//\ method\ is\ selected\ based\ on\ the\ properties\ of\ the\ input\ geometry\ and\ based}}
\DoxyCodeLine{00114\ \ \ \textcolor{comment}{//\ on\ the\ other\ options\ selected\ in\ the\ used\ EncoderOptions\ (such\ as\ desired}}
\DoxyCodeLine{00115\ \ \ \textcolor{comment}{//\ encoding\ and\ decoding\ speed).\ This\ function\ should\ be\ called\ only\ when\ a}}
\DoxyCodeLine{00116\ \ \ \textcolor{comment}{//\ specific\ method\ is\ required.}}
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{//\ |encoding\_method|\ can\ be\ one\ of\ the\ values\ defined\ in}}
\DoxyCodeLine{00119\ \ \ \textcolor{comment}{//\ compression/config/compression\_shared.h\ based\ on\ the\ type\ of\ the\ input}}
\DoxyCodeLine{00120\ \ \ \textcolor{comment}{//\ geometry\ that\ is\ going\ to\ be\ encoded.\ For\ point\ clouds,\ allowed\ entries\ are}}
\DoxyCodeLine{00121\ \ \ \textcolor{comment}{//\ \ \ POINT\_CLOUD\_SEQUENTIAL\_ENCODING}}
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//\ \ \ POINT\_CLOUD\_KD\_TREE\_ENCODING}}
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{//\ For\ meshes\ the\ input\ can\ be}}
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{//\ \ \ MESH\_SEQUENTIAL\_ENCODING}}
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//\ \ \ MESH\_EDGEBREAKER\_ENCODING}}
\DoxyCodeLine{00127\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{//\ If\ the\ selected\ method\ cannot\ be\ used\ for\ the\ given\ input,\ the\ subsequent}}
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//\ call\ of\ EncodePointCloudToBuffer\ or\ EncodeMeshToBuffer\ is\ going\ to\ fail.}}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classdraco_1_1_encoder_a5dfa99804e240f8ef00f88db722ae5b9}{SetEncodingMethod}}(\textcolor{keywordtype}{int}\ encoding\_method);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//\ Creates\ encoder\ options\ for\ the\ expert\ encoder\ used\ during\ the\ actual}}
\DoxyCodeLine{00133\ \ \ \textcolor{comment}{//\ encoding.}}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{namespacedraco_ab66b946bef87fd44eecee018c9ce9dd3}{EncoderOptions}}\ \mbox{\hyperlink{classdraco_1_1_encoder_aade46429f5c274b4a5f3d3eeafca2eb5}{CreateExpertEncoderOptions}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ \&pc)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00135\ \};}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \}\ \ \textcolor{comment}{//\ namespace\ draco}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ DRACO\_COMPRESSION\_ENCODE\_H\_}}

\end{DoxyCode}
