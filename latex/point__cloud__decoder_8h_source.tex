\doxysection{point\+\_\+cloud\+\_\+decoder.\+h}
\hypertarget{point__cloud__decoder_8h_source}{}\label{point__cloud__decoder_8h_source}\index{RobotLib/libraries/assimp/contrib/draco/src/draco/compression/point\_cloud/point\_cloud\_decoder.h@{RobotLib/libraries/assimp/contrib/draco/src/draco/compression/point\_cloud/point\_cloud\_decoder.h}}
\mbox{\hyperlink{point__cloud__decoder_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2016\ The\ Draco\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ DRACO\_COMPRESSION\_POINT\_CLOUD\_POINT\_CLOUD\_DECODER\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ DRACO\_COMPRESSION\_POINT\_CLOUD\_POINT\_CLOUD\_DECODER\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{attributes__decoder__interface_8h}{draco/compression/attributes/attributes\_decoder\_interface.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{compression__shared_8h}{draco/compression/config/compression\_shared.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{decoder__options_8h}{draco/compression/config/decoder\_options.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{status_8h}{draco/core/status.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{point__cloud_8h}{draco/point\_cloud/point\_cloud.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedraco}{draco}}\ \{}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{comment}{//\ Abstract\ base\ class\ for\ all\ point\ cloud\ and\ mesh\ decoders.\ It\ provides\ a}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ basic\ functionality\ that\ is\ shared\ between\ different\ decoders.}}
\DoxyCodeLine{00028\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a10041f3c0fbcd8c3a24bea0f02b4f982}{PointCloudDecoder}}\ \{}
\DoxyCodeLine{00029\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a10041f3c0fbcd8c3a24bea0f02b4f982}{PointCloudDecoder}}();}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ab178a2fe31566387211542f4780c7adb}{\string~PointCloudDecoder}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{namespacedraco_a4838aae0aeb6b2aa8b79d480018e5904}{EncodedGeometryType}}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a82c7b2077ea7f329f0e9f536723c211d}{GetGeometryType}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacedraco_a4838aae0aeb6b2aa8b79d480018e5904acb19ed53ec30bffe0a31e687056e4369}{POINT\_CLOUD}};\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ Decodes\ a\ Draco\ header\ int\ other\ provided\ |out\_header|.}}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ Returns\ false\ on\ error.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a26cc54283f3b9ba8f4ddd19e7dba054c}{DecodeHeader}}(\mbox{\hyperlink{classdraco_1_1_decoder_buffer}{DecoderBuffer}}\ *buffer,\ \mbox{\hyperlink{structdraco_1_1_draco_header}{DracoHeader}}\ *out\_header);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ The\ main\ entry\ point\ for\ point\ cloud\ decoding.}}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a340387ccdc2ecec4237161c5bee50e37}{Decode}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedraco_ad78b45d3b4365dbb8aef6c0fdb5ce005}{DecoderOptions}}\ \&\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ad37c8d8dfb465a956f64a5950b81f155}{options}},\ \mbox{\hyperlink{classdraco_1_1_decoder_buffer}{DecoderBuffer}}\ *in\_buffer,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ *out\_point\_cloud);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a611e2f6709ed5561dc4bd8911a78933c}{SetAttributesDecoder}}(}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ att\_decoder\_id,\ std::unique\_ptr<AttributesDecoderInterface>\ decoder)\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (att\_decoder\_id\ <\ 0)\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (att\_decoder\_id\ >=\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(attributes\_decoders\_.size()))\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ attributes\_decoders\_.resize(att\_decoder\_id\ +\ 1);}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \ \ attributes\_decoders\_[att\_decoder\_id]\ =\ std::move(decoder);}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Returns\ an\ attribute\ containing\ decoded\ data\ in\ their\ portable\ form\ that}}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ is\ guaranteed\ to\ be\ the\ same\ for\ both\ encoder\ and\ decoder.\ I.e.,\ it\ returns}}
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//\ an\ attribute\ before\ it\ was\ transformed\ back\ into\ its\ final\ form\ which\ may}}
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ be\ slightly\ different\ (non-\/portable)\ across\ platforms.\ For\ example,\ for}}
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ attributes\ encoded\ with\ quantization,\ this\ method\ returns\ an\ attribute}}
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ that\ contains\ the\ quantized\ values\ (before\ the\ dequantization\ step).}}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_attribute}{PointAttribute}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ab9129fa06d324660a109ae9fe0ce9640}{GetPortableAttribute}}(int32\_t\ point\_attribute\_id);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ uint16\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ab69d05b92e2d85811c5223733a5e549b}{bitstream\_version}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{macros_8h_a6732649b03e16a7fd23539e2132d057a}{DRACO\_BITSTREAM\_VERSION}}(version\_major\_,\ version\_minor\_);}
\DoxyCodeLine{00065\ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_attributes_decoder_interface}{AttributesDecoderInterface}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a1310af40a55b3c88dd968d6e6d425ada}{attributes\_decoder}}(\textcolor{keywordtype}{int}\ dec\_id)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{return}\ attributes\_decoders\_[dec\_id].get();}
\DoxyCodeLine{00069\ \ \ \}}
\DoxyCodeLine{00070\ \ \ int32\_t\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a721b8ff49f82cd5516efaeb9e5fd4aab}{num\_attributes\_decoders}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(attributes\_decoders\_.size());}
\DoxyCodeLine{00072\ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Get\ a\ mutable\ pointer\ to\ the\ decoded\ point\ cloud.\ This\ is\ intended\ to\ be}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ used\ mostly\ by\ other\ decoder\ subsystems.}}
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a114ca8c5698adde62c133a4da9d08dee}{point\_cloud}}()\ \{\ \textcolor{keywordflow}{return}\ point\_cloud\_;\ \}}
\DoxyCodeLine{00077\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a0fd6cce6bb67b3a0b0d4774b352cddd6}{point\_cloud}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ point\_cloud\_;\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{classdraco_1_1_decoder_buffer}{DecoderBuffer}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a433e6598b25f05c63e42a3fd651610ec}{buffer}}()\ \{\ \textcolor{keywordflow}{return}\ buffer\_;\ \}}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedraco_ad78b45d3b4365dbb8aef6c0fdb5ce005}{DecoderOptions}}\ *\mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ad37c8d8dfb465a956f64a5950b81f155}{options}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ options\_;\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ Can\ be\ implemented\ by\ derived\ classes\ to\ perform\ any\ custom\ initialization}}
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{//\ of\ the\ decoder.\ Called\ in\ the\ Decode()\ method.}}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a5ada243ebeab0b32198df80eebf69d56}{InitializeDecoder}}()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ Creates\ an\ attribute\ decoder.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ab0333feb1158ab6ff575f46abbf8e9ec}{CreateAttributesDecoder}}(int32\_t\ att\_decoder\_id)\ =\ 0;}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a28bf71c1dcdd60b1b5dc9e285b3f3fcd}{DecodeGeometryData}}()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00090\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a1c966fa23476cfa6a4acd6938105839b}{DecodePointAttributes}}();}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a4ecb0807df68fe9e1ad77ca0ae3b99e7}{DecodeAllAttributes}}();}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_a4332dc43d243c5ae3391e1d909af50f0}{OnAttributesDecoded}}()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \mbox{\hyperlink{classdraco_1_1_status}{Status}}\ \mbox{\hyperlink{classdraco_1_1_point_cloud_decoder_ad088d1b5560135f12637c4ecc5d1edc6}{DecodeMetadata}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ Point\ cloud\ that\ is\ being\ filled\ in\ by\ the\ decoder.}}
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{classdraco_1_1_point_cloud}{PointCloud}}\ *point\_cloud\_;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ std::vector<std::unique\_ptr<AttributesDecoderInterface>>\ attributes\_decoders\_;}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ Map\ between\ attribute\ id\ and\ decoder\ id.}}
\DoxyCodeLine{00104\ \ \ std::vector<int32\_t>\ attribute\_to\_decoder\_map\_;}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{comment}{//\ Input\ buffer\ holding\ the\ encoded\ data.}}
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{classdraco_1_1_decoder_buffer}{DecoderBuffer}}\ *buffer\_;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{//\ Bit-\/stream\ version\ of\ the\ encoder\ that\ encoded\ the\ input\ data.}}
\DoxyCodeLine{00110\ \ \ uint8\_t\ version\_major\_;}
\DoxyCodeLine{00111\ \ \ uint8\_t\ version\_minor\_;}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacedraco_ad78b45d3b4365dbb8aef6c0fdb5ce005}{DecoderOptions}}\ *options\_;}
\DoxyCodeLine{00114\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \}\ \ \textcolor{comment}{//\ namespace\ draco}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ DRACO\_COMPRESSION\_POINT\_CLOUD\_POINT\_CLOUD\_DECODER\_H\_}}

\end{DoxyCode}
