\doxysection{core.\+h}
\hypertarget{core_8h_source}{}\label{core_8h_source}\index{RobotLib/libraries/assimp/contrib/utf8cpp/source/utf8/core.h@{RobotLib/libraries/assimp/contrib/utf8cpp/source/utf8/core.h}}
\mbox{\hyperlink{core_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2006\ Nemanja\ Trifunovic}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{comment}{/*}}
\DoxyCodeLine{00004\ \textcolor{comment}{Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ or\ organization}}
\DoxyCodeLine{00005\ \textcolor{comment}{obtaining\ a\ copy\ of\ the\ software\ and\ accompanying\ documentation\ covered\ by}}
\DoxyCodeLine{00006\ \textcolor{comment}{this\ license\ (the\ "{}Software"{})\ to\ use,\ reproduce,\ display,\ distribute,}}
\DoxyCodeLine{00007\ \textcolor{comment}{execute,\ and\ transmit\ the\ Software,\ and\ to\ prepare\ derivative\ works\ of\ the}}
\DoxyCodeLine{00008\ \textcolor{comment}{Software,\ and\ to\ permit\ third-\/parties\ to\ whom\ the\ Software\ is\ furnished\ to}}
\DoxyCodeLine{00009\ \textcolor{comment}{do\ so,\ all\ subject\ to\ the\ following:}}
\DoxyCodeLine{00010\ \textcolor{comment}{}}
\DoxyCodeLine{00011\ \textcolor{comment}{The\ copyright\ notices\ in\ the\ Software\ and\ this\ entire\ statement,\ including}}
\DoxyCodeLine{00012\ \textcolor{comment}{the\ above\ license\ grant,\ this\ restriction\ and\ the\ following\ disclaimer,}}
\DoxyCodeLine{00013\ \textcolor{comment}{must\ be\ included\ in\ all\ copies\ of\ the\ Software,\ in\ whole\ or\ in\ part,\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{all\ derivative\ works\ of\ the\ Software,\ unless\ such\ copies\ or\ derivative}}
\DoxyCodeLine{00015\ \textcolor{comment}{works\ are\ solely\ in\ the\ form\ of\ machine-\/executable\ object\ code\ generated\ by}}
\DoxyCodeLine{00016\ \textcolor{comment}{a\ source\ language\ processor.}}
\DoxyCodeLine{00017\ \textcolor{comment}{}}
\DoxyCodeLine{00018\ \textcolor{comment}{THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,\ EXPRESS\ OR}}
\DoxyCodeLine{00019\ \textcolor{comment}{IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF\ MERCHANTABILITY,}}
\DoxyCodeLine{00020\ \textcolor{comment}{FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE,\ TITLE\ AND\ NON-\/INFRINGEMENT.\ IN\ NO\ EVENT}}
\DoxyCodeLine{00021\ \textcolor{comment}{SHALL\ THE\ COPYRIGHT\ HOLDERS\ OR\ ANYONE\ DISTRIBUTING\ THE\ SOFTWARE\ BE\ LIABLE}}
\DoxyCodeLine{00022\ \textcolor{comment}{FOR\ ANY\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ CONTRACT,\ TORT\ OR\ OTHERWISE,}}
\DoxyCodeLine{00023\ \textcolor{comment}{ARISING\ FROM,\ OUT\ OF\ OR\ IN\ CONNECTION\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER}}
\DoxyCodeLine{00024\ \textcolor{comment}{DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00025\ \textcolor{comment}{*/}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#ifndef\ UTF8\_FOR\_CPP\_CORE\_H\_2675DCD0\_9480\_4c0c\_B92A\_CC14C027B731}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ UTF8\_FOR\_CPP\_CORE\_H\_2675DCD0\_9480\_4c0c\_B92A\_CC14C027B731}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <iterator>}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{comment}{//\ Determine\ the\ C++\ standard\ version.}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ If\ the\ user\ defines\ UTF\_CPP\_CPLUSPLUS,\ use\ that.}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ Otherwise,\ trust\ the\ unreliable\ predefined\ macro\ \_\_cplusplus}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#if\ !defined\ UTF\_CPP\_CPLUSPLUS}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF\_CPP\_CPLUSPLUS\ \_\_cplusplus}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#if\ UTF\_CPP\_CPLUSPLUS\ >=\ 201103L\ }\textcolor{comment}{//\ C++\ 11\ or\ later}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF\_CPP\_OVERRIDE\ override}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF\_CPP\_NOEXCEPT\ noexcept}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ C++\ 98/03}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF\_CPP\_OVERRIDE}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF\_CPP\_NOEXCEPT\ throw()}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ C++\ 11\ or\ later}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceutf8}{utf8}}}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//\ The\ typedefs\ for\ 8-\/bit,\ 16-\/bit\ and\ 32-\/bit\ unsigned\ integers}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ You\ may\ need\ to\ change\ them\ to\ match\ your\ system.}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ These\ typedefs\ have\ the\ same\ names\ as\ ones\ from\ cstdint,\ or\ boost/cstdint}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \ \ \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}};}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ \ \ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{comment}{//\ Helper\ code\ -\/\ not\ intended\ to\ be\ directly\ called\ by\ the\ library\ users.\ May\ be\ changed\ at\ any\ time}}
\DoxyCodeLine{00060\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}}
\DoxyCodeLine{00061\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ Unicode\ constants}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{comment}{//\ Leading\ (high)\ surrogates:\ 0xd800\ -\/\ 0xdbff}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Trailing\ (low)\ surrogates:\ 0xdc00\ -\/\ 0xdfff}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}}\ \ =\ 0xd800u;}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_af6038b4ebd9b71391eba050cc29720b8}{LEAD\_SURROGATE\_MAX}}\ \ =\ 0xdbffu;}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{TRAIL\_SURROGATE\_MIN}}\ =\ 0xdc00u;}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}}\ =\ 0xdfffu;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a47b04bad75525ea9b01ff095c70fa081}{LEAD\_OFFSET}}\ \ \ \ \ \ \ \ \ =\ 0xd7c0u;\ \ \ \ \ \ \ \textcolor{comment}{//\ LEAD\_SURROGATE\_MIN\ -\/\ (0x10000\ >>\ 10)}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a31ff17e602e8e7e15db5ebfb5e93a3fb}{SURROGATE\_OFFSET}}\ \ \ \ =\ 0xfca02400u;\ \ \ \textcolor{comment}{//\ 0x10000u\ -\/\ (LEAD\_SURROGATE\_MIN\ <<\ 10)\ -\/\ TRAIL\_SURROGATE\_MIN}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Maximum\ valid\ value\ for\ a\ Unicode\ code\ point}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a0a30055cabb6e5cefb5dafc8812cb123}{CODE\_POINT\_MAX}}\ \ \ \ \ \ =\ 0x0010ffffu;}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ octet\_type>}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{mask8}}(octet\_type\ oc)}
\DoxyCodeLine{00077\ \ \ \ \ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}}\textcolor{keyword}{>}(0xff\ \&\ oc);}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ u16\_type>}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_ab1e3c2fe2296ac185993a183d1bd0678}{mask16}}(u16\_type\ oc)}
\DoxyCodeLine{00082\ \ \ \ \ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}\textcolor{keyword}{>}(0xffff\ \&\ oc);}
\DoxyCodeLine{00084\ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ octet\_type>}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_ab4820484159ba613b4901476ceb24516}{is\_trail}}(octet\_type\ oc)}
\DoxyCodeLine{00087\ \ \ \ \ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(oc)\ >>\ 6)\ ==\ 0x2);}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ u16>}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a1a4095fb207096e04f94f21eb23d2723}{is\_lead\_surrogate}}(u16\ cp)}
\DoxyCodeLine{00093\ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (cp\ >=\ \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}}\ \&\&\ cp\ <=\ \mbox{\hyperlink{namespaceutf8_1_1internal_af6038b4ebd9b71391eba050cc29720b8}{LEAD\_SURROGATE\_MAX}});}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ u16>}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a295b2873fce985213937e5f1193fcb13}{is\_trail\_surrogate}}(u16\ cp)}
\DoxyCodeLine{00099\ \ \ \ \ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (cp\ >=\ \mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{TRAIL\_SURROGATE\_MIN}}\ \&\&\ cp\ <=\ \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}});}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ u16>}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a31a185a6bc8b9bf454191a8a95a93595}{is\_surrogate}}(u16\ cp)}
\DoxyCodeLine{00105\ \ \ \ \ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (cp\ >=\ \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}}\ \&\&\ cp\ <=\ \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}});}
\DoxyCodeLine{00107\ \ \ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ u32>}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a97b553137aaeda6e8ca6f8d46f78fd79}{is\_code\_point\_valid}}(u32\ cp)}
\DoxyCodeLine{00111\ \ \ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (cp\ <=\ \mbox{\hyperlink{namespaceutf8_1_1internal_a0a30055cabb6e5cefb5dafc8812cb123}{CODE\_POINT\_MAX}}\ \&\&\ !\mbox{\hyperlink{namespaceutf8_1_1internal_a31a185a6bc8b9bf454191a8a95a93595}{utf8::internal::is\_surrogate}}(cp));}
\DoxyCodeLine{00113\ \ \ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ std::iterator\_traits<octet\_iterator>::difference\_type}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_adb347cc81d32ebb0fd22d849f7bff5ea}{sequence\_length}}(octet\_iterator\ lead\_it)}
\DoxyCodeLine{00118\ \ \ \ \ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}}\ lead\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*lead\_it);}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lead\ <\ 0x80)}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((lead\ >>\ 5)\ ==\ 0x6)}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 2;}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((lead\ >>\ 4)\ ==\ 0xe)}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 3;}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((lead\ >>\ 3)\ ==\ 0x1e)}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 4;}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00130\ \ \ \ \ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_difference\_type>}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a3160f6f24dff465f64f83cb0e66995c6}{is\_overlong\_sequence}}(\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp,\ octet\_difference\_type\ length)}
\DoxyCodeLine{00134\ \ \ \ \ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cp\ <\ 0x80)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ !=\ 1)\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cp\ <\ 0x800)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ !=\ 2)\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cp\ <\ 0x10000)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (length\ !=\ 3)\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00149\ \ \ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \{\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}},\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}},\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca316f29394dbc76011590cfe20e8ebc21}{INVALID\_LEAD}},\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca0a7c549a77d50c327e177fafc3a8f537}{INCOMPLETE\_SEQUENCE}},\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca74987a94eef8d6936f8d6475e6605373}{OVERLONG\_SEQUENCE}},\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca8591209ee2d80f2d3728ffb82928c3fa}{INVALID\_CODE\_POINT}}\};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a369641e705a3d7c91eb160868a6705f7}{increase\_safely}}(octet\_iterator\&\ it,\ octet\_iterator\ end)}
\DoxyCodeLine{00156\ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (++it\ ==\ end)}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespaceutf8_1_1internal_ab4820484159ba613b4901476ceb24516}{utf8::internal::is\_trail}}(*it))}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca0a7c549a77d50c327e177fafc3a8f537}{INCOMPLETE\_SEQUENCE}};}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\ \ \ \ \#define\ UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR(IT,\ END)\ \{utf\_error\ ret\ =\ increase\_safely(IT,\ END);\ if\ (ret\ !=\ UTF8\_OK)\ return\ ret;\}\ \ \ \ }}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a6e5df73716136aec55e8fcf3309038b6}{get\_sequence\_1}}(octet\_iterator\&\ it,\ octet\_iterator\ end,\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\&\ code\_point)}
\DoxyCodeLine{00171\ \ \ \ \ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ end)}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ code\_point\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it);}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9d641b9546be985f9f0fd4955ac42a24}{get\_sequence\_2}}(octet\_iterator\&\ it,\ octet\_iterator\ end,\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\&\ code\_point)}
\DoxyCodeLine{00182\ \ \ \ \ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ end)\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ code\_point\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ code\_point\ =\ ((code\_point\ <<\ 6)\ \&\ 0x7ff)\ +\ ((*it)\ \&\ 0x3f);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_ac1809a1fb3fa6983d64a0d3a39646008}{get\_sequence\_3}}(octet\_iterator\&\ it,\ octet\_iterator\ end,\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\&\ code\_point)}
\DoxyCodeLine{00197\ \ \ \ \ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ end)}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ code\_point\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it);}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ code\_point\ =\ ((code\_point\ <<\ 12)\ \&\ 0xffff)\ +\ ((\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it)\ <<\ 6)\ \&\ 0xfff);}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ code\_point\ +=\ (*it)\ \&\ 0x3f;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00212\ \ \ \ \ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00215\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_ad1958e7c6746ba6b1fbb0d81b88b346c}{get\_sequence\_4}}(octet\_iterator\&\ it,\ octet\_iterator\ end,\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\&\ code\_point)}
\DoxyCodeLine{00216\ \ \ \ \ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ end)}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ code\_point\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it);}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ code\_point\ =\ ((code\_point\ <<\ 18)\ \&\ 0x1fffff)\ +\ ((\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it)\ <<\ 12)\ \&\ 0x3ffff);}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ code\_point\ +=\ (\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it)\ <<\ 6)\ \&\ 0xfff;}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it,\ end)}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ code\_point\ +=\ (*it)\ \&\ 0x3f;}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00235\ \ \ \ \ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\ \ \ \ \#undef\ UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00240\ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{validate\_next}}(octet\_iterator\&\ it,\ octet\_iterator\ end,\ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\&\ code\_point)}
\DoxyCodeLine{00241\ \ \ \ \ \{}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ end)}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Save\ the\ original\ value\ of\ it\ so\ we\ can\ go\ back\ in\ case\ of\ failure}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Of\ course,\ it\ does\ not\ make\ much\ sense\ with\ i.e.\ stream\ iterators}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ octet\_iterator\ original\_it\ =\ it;}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp\ =\ 0;}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Determine\ the\ sequence\ length\ based\ on\ the\ lead\ octet}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ std::iterator\_traits<octet\_iterator>::difference\_type\ octet\_difference\_type;}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ octet\_difference\_type\ length\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_adb347cc81d32ebb0fd22d849f7bff5ea}{utf8::internal::sequence\_length}}(it);}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ trail\ octets\ and\ calculate\ the\ code\ point}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (length)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 0:}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca316f29394dbc76011590cfe20e8ebc21}{INVALID\_LEAD}};}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_a6e5df73716136aec55e8fcf3309038b6}{utf8::internal::get\_sequence\_1}}(it,\ end,\ cp);}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 2:}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9d641b9546be985f9f0fd4955ac42a24}{utf8::internal::get\_sequence\_2}}(it,\ end,\ cp);}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_ac1809a1fb3fa6983d64a0d3a39646008}{utf8::internal::get\_sequence\_3}}(it,\ end,\ cp);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 4:}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_ad1958e7c6746ba6b1fbb0d81b88b346c}{utf8::internal::get\_sequence\_4}}(it,\ end,\ cp);}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\ ==\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}})\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Decoding\ succeeded.\ Now,\ security\ checks...}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceutf8_1_1internal_a97b553137aaeda6e8ca6f8d46f78fd79}{utf8::internal::is\_code\_point\_valid}}(cp))\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespaceutf8_1_1internal_a3160f6f24dff465f64f83cb0e66995c6}{utf8::internal::is\_overlong\_sequence}}(cp,\ length))\{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Passed!\ Return\ here.}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ code\_point\ =\ cp;}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++it;}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca74987a94eef8d6936f8d6475e6605373}{OVERLONG\_SEQUENCE}};}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ }
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca8591209ee2d80f2d3728ffb82928c3fa}{INVALID\_CODE\_POINT}};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Failure\ branch\ -\/\ restore\ the\ original\ value\ of\ the\ iterator}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ it\ =\ original\_it;}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ err;}
\DoxyCodeLine{00292\ \ \ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}}\ \mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{validate\_next}}(octet\_iterator\&\ it,\ octet\_iterator\ end)\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ ignored;}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{utf8::internal::validate\_next}}(it,\ end,\ ignored);}
\DoxyCodeLine{00298\ \ \ \ \ \}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ Internal\ implementation\ of\ both\ checked\ and\ unchecked\ append()\ function}}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{//\ This\ function\ will\ be\ invoked\ by\ the\ overloads\ below,\ as\ they\ will\ know}}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{comment}{//\ the\ octet\_type.}}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator,\ \textcolor{keyword}{typename}\ octet\_type>}
\DoxyCodeLine{00304\ \ \ \ \ octet\_iterator\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append}}(\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp,\ octet\_iterator\ result)\ \{}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cp\ <\ 0x80)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ one\ octet}}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}(cp);}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cp\ <\ 0x800)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ two\ octets}}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ >>\ 6)\ \ \ \ \ \ \ \ \ \ |\ 0xc0);}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ \&\ 0x3f)\ \ \ \ \ \ \ \ |\ 0x80);}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cp\ <\ 0x10000)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ three\ octets}}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ >>\ 12)\ \ \ \ \ \ \ \ \ |\ 0xe0);}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}(((cp\ >>\ 6)\ \&\ 0x3f)\ |\ 0x80);}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ \&\ 0x3f)\ \ \ \ \ \ \ \ |\ 0x80);}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ four\ octets}}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ >>\ 18)\ \ \ \ \ \ \ \ \ |\ 0xf0);}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}(((cp\ >>\ 12)\ \&\ 0x3f)|\ 0x80);}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}(((cp\ >>\ 6)\ \&\ 0x3f)\ |\ 0x80);}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ *(result++)\ =\ \textcolor{keyword}{static\_cast<}octet\_type\textcolor{keyword}{>}((cp\ \&\ 0x3f)\ \ \ \ \ \ \ \ |\ 0x80);}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00323\ \ \ \ \ \}}
\DoxyCodeLine{00324\ \ \ \ \ }
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ One\ of\ the\ following\ overloads\ will\ be\ invoked\ from\ the\ API\ calls}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{comment}{//\ A\ simple\ (but\ dangerous)\ case:\ the\ caller\ appends\ byte(s)\ to\ a\ char\ array}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append}}(\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp,\ \textcolor{keywordtype}{char}*\ result)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append<char*,\ char>}}(cp,\ result);}
\DoxyCodeLine{00330\ \ \ \ \ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{comment}{//\ Hopefully,\ most\ common\ case:\ the\ caller\ uses\ back\_inserter}}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{comment}{//\ i.e.\ append(cp,\ std::back\_inserter(str));}}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ container\_type>}
\DoxyCodeLine{00335\ \ \ \ \ std::back\_insert\_iterator<container\_type>\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append}}}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp,\ std::back\_insert\_iterator<container\_type>\ result)\ \{}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append<std::back\_insert\_iterator<container\_type>}},}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ container\_type::value\_type>(cp,\ result);}
\DoxyCodeLine{00339\ \ \ \ \ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{comment}{//\ The\ caller\ uses\ some\ other\ kind\ of\ output\ operator\ -\/\ not\ covered\ above}}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{comment}{//\ Note\ that\ in\ this\ case\ we\ are\ not\ able\ to\ determine\ octet\_type}}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{comment}{//\ so\ we\ assume\ it's\ uint\_8;\ that\ can\ cause\ a\ conversion\ warning\ if\ we\ are\ wrong.}}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00345\ \ \ \ \ octet\_iterator\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append}}(\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\ cp,\ octet\_iterator\ result)\ \{}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceutf8_1_1internal_afb9a134ea6f9939f8f9a8f041eae5d86}{append<octet\_iterator,\ uint8\_t>}}(cp,\ result);}
\DoxyCodeLine{00347\ \ \ \ \ \}}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{comment}{//\ Byte\ order\ mark}}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}}\ \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[]\ =\ \{0xef,\ 0xbb,\ 0xbf\};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00357\ \ \ \ \ octet\_iterator\ \mbox{\hyperlink{namespaceutf8_ae29721faca762865e83ffea06605acc5}{find\_invalid}}(octet\_iterator\ start,\ octet\_iterator\ end)}
\DoxyCodeLine{00358\ \ \ \ \ \{}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ octet\_iterator\ result\ =\ start;}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (result\ !=\ end)\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf8::internal::utf\_error}}\ err\_code\ =\ \mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{utf8::internal::validate\_next}}(result,\ end);}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err\_code\ !=\ \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{internal::UTF8\_OK}})}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00366\ \ \ \ \ \}}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_add2dbec3d058aa66500ec4f97cc8174b}{is\_valid}}(octet\_iterator\ start,\ octet\_iterator\ end)}
\DoxyCodeLine{00370\ \ \ \ \ \{}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{namespaceutf8_ae29721faca762865e83ffea06605acc5}{utf8::find\_invalid}}(start,\ end)\ ==\ end);}
\DoxyCodeLine{00372\ \ \ \ \ \}}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ octet\_iterator>}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceutf8_a498c8e7d7a6fd92d4672ef05661dc783}{starts\_with\_bom}}\ (octet\_iterator\ it,\ octet\_iterator\ end)}
\DoxyCodeLine{00376\ \ \ \ \ \{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ ((it\ !=\ end)\ \&\&\ (\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it++))\ ==\ \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[0])\ \&\&}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ ((it\ !=\ end)\ \&\&\ (\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it++))\ ==\ \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[1])\ \&\&}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ ((it\ !=\ end)\ \&\&\ (\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{utf8::internal::mask8}}(*it))\ \ \ ==\ \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[2])}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00382\ \ \ \ \ \}\ \ \ }
\DoxyCodeLine{00383\ \}\ \textcolor{comment}{//\ namespace\ utf8}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ header\ guard}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ }

\end{DoxyCode}
