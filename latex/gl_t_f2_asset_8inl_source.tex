\doxysection{gl\+TF2\+Asset.\+inl}
\hypertarget{gl_t_f2_asset_8inl_source}{}\label{gl_t_f2_asset_8inl_source}\index{RobotLib/libraries/assimp/code/AssetLib/glTF2/glTF2Asset.inl@{RobotLib/libraries/assimp/code/AssetLib/glTF2/glTF2Asset.inl}}
\mbox{\hyperlink{gl_t_f2_asset_8inl}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Open\ Asset\ Import\ Library\ (assimp)}}
\DoxyCodeLine{00003\ \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{Copyright\ (c)\ 2006-\/2024,\ assimp\ team}}
\DoxyCodeLine{00006\ \textcolor{comment}{}}
\DoxyCodeLine{00007\ \textcolor{comment}{All\ rights\ reserved.}}
\DoxyCodeLine{00008\ \textcolor{comment}{}}
\DoxyCodeLine{00009\ \textcolor{comment}{Redistribution\ and\ use\ of\ this\ software\ in\ source\ and\ binary\ forms,}}
\DoxyCodeLine{00010\ \textcolor{comment}{with\ or\ without\ modification,\ are\ permitted\ provided\ that\ the}}
\DoxyCodeLine{00011\ \textcolor{comment}{following\ conditions\ are\ met:}}
\DoxyCodeLine{00012\ \textcolor{comment}{}}
\DoxyCodeLine{00013\ \textcolor{comment}{*\ Redistributions\ of\ source\ code\ must\ retain\ the\ above}}
\DoxyCodeLine{00014\ \textcolor{comment}{copyright\ notice,\ this\ list\ of\ conditions\ and\ the}}
\DoxyCodeLine{00015\ \textcolor{comment}{following\ disclaimer.}}
\DoxyCodeLine{00016\ \textcolor{comment}{}}
\DoxyCodeLine{00017\ \textcolor{comment}{*\ Redistributions\ in\ binary\ form\ must\ reproduce\ the\ above}}
\DoxyCodeLine{00018\ \textcolor{comment}{copyright\ notice,\ this\ list\ of\ conditions\ and\ the}}
\DoxyCodeLine{00019\ \textcolor{comment}{following\ disclaimer\ in\ the\ documentation\ and/or\ other}}
\DoxyCodeLine{00020\ \textcolor{comment}{materials\ provided\ with\ the\ distribution.}}
\DoxyCodeLine{00021\ \textcolor{comment}{}}
\DoxyCodeLine{00022\ \textcolor{comment}{*\ Neither\ the\ name\ of\ the\ assimp\ team,\ nor\ the\ names\ of\ its}}
\DoxyCodeLine{00023\ \textcolor{comment}{contributors\ may\ be\ used\ to\ endorse\ or\ promote\ products}}
\DoxyCodeLine{00024\ \textcolor{comment}{derived\ from\ this\ software\ without\ specific\ prior}}
\DoxyCodeLine{00025\ \textcolor{comment}{written\ permission\ of\ the\ assimp\ team.}}
\DoxyCodeLine{00026\ \textcolor{comment}{}}
\DoxyCodeLine{00027\ \textcolor{comment}{THIS\ SOFTWARE\ IS\ PROVIDED\ BY\ THE\ COPYRIGHT\ HOLDERS\ AND\ CONTRIBUTORS}}
\DoxyCodeLine{00028\ \textcolor{comment}{"{}AS\ IS"{}\ AND\ ANY\ EXPRESS\ OR\ IMPLIED\ WARRANTIES,\ INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00029\ \textcolor{comment}{LIMITED\ TO,\ THE\ IMPLIED\ WARRANTIES\ OF\ MERCHANTABILITY\ AND\ FITNESS\ FOR}}
\DoxyCodeLine{00030\ \textcolor{comment}{A\ PARTICULAR\ PURPOSE\ ARE\ DISCLAIMED.\ IN\ NO\ EVENT\ SHALL\ THE\ COPYRIGHT}}
\DoxyCodeLine{00031\ \textcolor{comment}{OWNER\ OR\ CONTRIBUTORS\ BE\ LIABLE\ FOR\ ANY\ DIRECT,\ INDIRECT,\ INCIDENTAL,}}
\DoxyCodeLine{00032\ \textcolor{comment}{SPECIAL,\ EXEMPLARY,\ OR\ CONSEQUENTIAL\ DAMAGES\ (INCLUDING,\ BUT\ NOT}}
\DoxyCodeLine{00033\ \textcolor{comment}{LIMITED\ TO,\ PROCUREMENT\ OF\ SUBSTITUTE\ GOODS\ OR\ SERVICES;\ LOSS\ OF\ USE,}}
\DoxyCodeLine{00034\ \textcolor{comment}{DATA,\ OR\ PROFITS;\ OR\ BUSINESS\ INTERRUPTION)\ HOWEVER\ CAUSED\ AND\ ON\ ANY}}
\DoxyCodeLine{00035\ \textcolor{comment}{THEORY\ OF\ LIABILITY,\ WHETHER\ IN\ CONTRACT,\ STRICT\ LIABILITY,\ OR\ TORT}}
\DoxyCodeLine{00036\ \textcolor{comment}{(INCLUDING\ NEGLIGENCE\ OR\ OTHERWISE)\ ARISING\ IN\ ANY\ WAY\ OUT\ OF\ THE\ USE}}
\DoxyCodeLine{00037\ \textcolor{comment}{OF\ THIS\ SOFTWARE,\ EVEN\ IF\ ADVISED\ OF\ THE\ POSSIBILITY\ OF\ SUCH\ DAMAGE.}}
\DoxyCodeLine{00038\ \textcolor{comment}{}}
\DoxyCodeLine{00039\ \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00040\ \textcolor{comment}{*/}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gl_t_f_common_8h}{AssetLib/glTF/glTFCommon.h}}"{}}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ <assimp/MemoryIOWrapper.h>}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#include\ <assimp/StringUtils.h>}}
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ <assimp/DefaultLogger.hpp>}}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#include\ <assimp/Base64.hpp>}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{document_8h}{rapidjson/document.h}}>}}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{schema_8h}{rapidjson/schema.h}}>}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{stringbuffer_8h}{rapidjson/stringbuffer.h}}>}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{comment}{//\ clang-\/format\ off}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#ifdef\ ASSIMP\_ENABLE\_DRACO}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{comment}{//\ Google\ draco\ library\ headers\ spew\ many\ warnings.\ Bad\ Google,\ no\ cookie}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#\ \ \ if\ \_MSC\_VER}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(push)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(disable\ :\ 4018)\ }\textcolor{comment}{//\ Signed/unsigned\ mismatch}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ warning(disable\ :\ 4804)\ }\textcolor{comment}{//\ Unsafe\ use\ of\ type\ 'bool'}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#\ \ \ elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ clang\ diagnostic\ push}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ clang\ diagnostic\ ignored\ "{}-\/Wsign-\/compare"{}}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#\ \ \ elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ if\ (\_\_GNUC\_\_\ >\ 4)}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ \ \ \ \ pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wbool-\/compare"{}}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#\ \ \ \ \ \ \ endif}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#\ \ \ pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wsign-\/compare"{}}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{decode_8h}{draco/compression/decode.h}}"{}}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{decoder__buffer_8h}{draco/core/decoder\_buffer.h}}"{}}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#if\ \_MSC\_VER}}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#\ \ \ pragma\ warning(pop)}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#\ \ \ pragma\ clang\ diagnostic\ pop}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#\ \ \ pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#ifndef\ DRACO\_MESH\_COMPRESSION\_SUPPORTED}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#\ \ \ error\ glTF:\ KHR\_draco\_mesh\_compression:\ draco\ library\ must\ have\ DRACO\_MESH\_COMPRESSION\_SUPPORTED}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00085\ \textcolor{comment}{//\ clang-\/format\ on}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_assimp}{Assimp}};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacegl_t_f2}{glTF2}}\ \{}
\DoxyCodeLine{00090\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_aea30069c714cdc1b3788898b18dbd985}{glTFCommon::FindStringInContext}};}
\DoxyCodeLine{00091\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_a5f4c540e98fa2b2186cb45b418c49b3f}{glTFCommon::FindNumberInContext}};}
\DoxyCodeLine{00092\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_a19652e1ba1d9bd5ec8ecfb6cd7c26c4b}{glTFCommon::FindUIntInContext}};}
\DoxyCodeLine{00093\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_ac61cc29295c452acbbe7fed7d762209b}{glTFCommon::FindArrayInContext}};}
\DoxyCodeLine{00094\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_aafb32c802777a624f3be6186297b592c}{glTFCommon::FindObjectInContext}};}
\DoxyCodeLine{00095\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_ab4421757aa9049f24fa360f043d3ce4e}{glTFCommon::FindExtensionInContext}};}
\DoxyCodeLine{00096\ \textcolor{keyword}{using\ }glTFCommon::MemberOrDefault;}
\DoxyCodeLine{00097\ \textcolor{keyword}{using\ }glTFCommon::ReadMember;}
\DoxyCodeLine{00098\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_ae42c62866e5b3361c3c2f5d03e013dbb}{glTFCommon::FindMember}};}
\DoxyCodeLine{00099\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_a3af2e37e2f400f1a9c4e0489a68e7f65}{glTFCommon::FindObject}};}
\DoxyCodeLine{00100\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_a73864af4740aadf6f9895ee9f5744ab9}{glTFCommon::FindUInt}};}
\DoxyCodeLine{00101\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_ad381d1d227cc641c8141e5701c09c7bb}{glTFCommon::FindArray}};}
\DoxyCodeLine{00102\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacegl_t_f_common_ad381d1d227cc641c8141e5701c09c7bb}{glTFCommon::FindArray}};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{comment}{//}}
\DoxyCodeLine{00107\ \textcolor{comment}{//\ JSON\ Value\ reading\ helpers}}
\DoxyCodeLine{00108\ \textcolor{comment}{//}}
\DoxyCodeLine{00109\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structgl_t_f2_1_1_custom_extension}{CustomExtension}}\ ReadExtensions(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name,\ \mbox{\hyperlink{document_8h_a071cf97155ba72ac9a1fc4ad7e63d481}{Value}}\ \&obj)\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_custom_extension}{CustomExtension}}\ ret;}
\DoxyCodeLine{00111\ \ \ \ \ ret.\mbox{\hyperlink{structgl_t_f2_1_1_custom_extension_a44c145efa847299349157a2784851aaa}{name}}\ =\ \mbox{\hyperlink{namespace_assimp_1_1_d3_m_f_1_1_xml_tag_a121de9e28240c888f0e81487b195bf88}{name}};}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (obj.IsObject())\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ ret.mValues.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ obj.MemberBegin();\ it\ !=\ obj.MemberEnd();\ ++it)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&val\ =\ it-\/>value;}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mValues.value.push\_back(ReadExtensions(it-\/>name.GetString(),\ val));}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsArray())\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ ret.mValues.value.reserve(obj.Size());}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ ret.mValues.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ obj.Size();\ ++i)\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mValues.value.push\_back(ReadExtensions(name,\ obj[i]));}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsNumber())\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (obj.IsUint64())\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mUint64Value.value\ =\ obj.GetUint64();}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mUint64Value.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsInt64())\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mInt64Value.value\ =\ obj.GetInt64();}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mInt64Value.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsDouble())\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mDoubleValue.value\ =\ obj.GetDouble();}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ ret.mDoubleValue.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsString())\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ ReadValue(obj,\ ret.mStringValue);}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ ret.mStringValue.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00138\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (obj.IsBool())\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ ret.mBoolValue.value\ =\ obj.GetBool();}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ ret.mBoolValue.isPresent\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00143\ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structgl_t_f2_1_1_extras}{Extras}}\ ReadExtras(\mbox{\hyperlink{document_8h_a071cf97155ba72ac9a1fc4ad7e63d481}{Value}}\ \&obj)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_extras}{Extras}}\ ret;}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ ret.\mbox{\hyperlink{structgl_t_f2_1_1_extras_aea3b790cde33bea103d42caaba0b1ff1}{mValues}}.reserve(obj.MemberCount());}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ obj.MemberBegin();\ it\ !=\ obj.MemberEnd();\ ++it)\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&val\ =\ it-\/>value;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ ret.mValues.emplace\_back(ReadExtensions(it-\/>name.GetString(),\ val));}
\DoxyCodeLine{00152\ \ \ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ CopyData(\textcolor{keywordtype}{size\_t}\ count,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *src,\ \textcolor{keywordtype}{size\_t}\ src\_stride,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *dst,\ \textcolor{keywordtype}{size\_t}\ dst\_stride)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (src\_stride\ ==\ dst\_stride)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ memcpy(dst,\ src,\ count\ *\ src\_stride);}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00162\ \ \ \ \ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ sz\ =\ std::min(src\_stride,\ dst\_stride);}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ count;\ ++i)\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ memcpy(dst,\ src,\ sz);}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sz\ <\ dst\_stride)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ memset(dst\ +\ sz,\ 0,\ dst\_stride\ -\/\ sz);}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ src\ +=\ src\_stride;}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ dst\ +=\ dst\_stride;}
\DoxyCodeLine{00172\ \ \ \ \ \}}
\DoxyCodeLine{00173\ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keywordtype}{void}\ SetVector(vec4\ \&v,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ (\&in)[4])\ \{}
\DoxyCodeLine{00176\ \ \ \ \ v[0]\ =\ in[0];}
\DoxyCodeLine{00177\ \ \ \ \ v[1]\ =\ in[1];}
\DoxyCodeLine{00178\ \ \ \ \ v[2]\ =\ in[2];}
\DoxyCodeLine{00179\ \ \ \ \ v[3]\ =\ in[3];}
\DoxyCodeLine{00180\ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{keywordtype}{void}\ SetVector(vec3\ \&v,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ (\&in)[3])\ \{}
\DoxyCodeLine{00183\ \ \ \ \ v[0]\ =\ in[0];}
\DoxyCodeLine{00184\ \ \ \ \ v[1]\ =\ in[1];}
\DoxyCodeLine{00185\ \ \ \ \ v[2]\ =\ in[2];}
\DoxyCodeLine{00186\ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ N>}
\DoxyCodeLine{00189\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ Compare(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ (\&str)[\mbox{\hyperlink{crc32_8c_a0240ac851181b84ac374872dc5434ee4}{N}}])\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{return}\ (strncmp(attr,\ str,\ \mbox{\hyperlink{crc32_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\ -\/\ 1)\ ==\ 0)\ ?\ \mbox{\hyperlink{crc32_8c_a0240ac851181b84ac374872dc5434ee4}{N}}\ -\/\ 1\ :\ 0;}
\DoxyCodeLine{00191\ \}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{preprocessor}{\#if\ \_MSC\_VER}}
\DoxyCodeLine{00194\ \textcolor{preprocessor}{\#pragma\ warning(push)}}
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#pragma\ warning(disable\ :\ 4706)}}
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ GetAttribVector(\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive}{Mesh::Primitive}}\ \&p,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr,\ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a2f0f97cabdb5a25407fd7f865127ce59}{Mesh::AccessorList}}\ *\&v,\ \textcolor{keywordtype}{int}\ \&pos)\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}POSITION"{}})))\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.position);}
\DoxyCodeLine{00201\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}NORMAL"{}})))\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.normal);}
\DoxyCodeLine{00203\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}TANGENT"{}})))\ \{}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.tangent);}
\DoxyCodeLine{00205\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}TEXCOORD"{}})))\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.texcoord);}
\DoxyCodeLine{00207\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}COLOR"{}})))\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.color);}
\DoxyCodeLine{00209\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}JOINTS"{}})))\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.joint);}
\DoxyCodeLine{00211\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}JOINTMATRIX"{}})))\ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.jointmatrix);}
\DoxyCodeLine{00213\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}WEIGHTS"{}})))\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ v\ =\ \&(p.attributes.weight);}
\DoxyCodeLine{00215\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00218\ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ GetAttribTargetVector(\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive}{Mesh::Primitive}}\ \&p,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ targetIndex,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr,\ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a2f0f97cabdb5a25407fd7f865127ce59}{Mesh::AccessorList}}\ *\&v,\ \textcolor{keywordtype}{int}\ \&pos)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}POSITION"{}})))\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ v\ =\ \&(p.targets[targetIndex].position);}
\DoxyCodeLine{00223\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}NORMAL"{}})))\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ v\ =\ \&(p.targets[targetIndex].normal);}
\DoxyCodeLine{00225\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((pos\ =\ Compare(attr,\ \textcolor{stringliteral}{"{}TANGENT"{}})))\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ v\ =\ \&(p.targets[targetIndex].tangent);}
\DoxyCodeLine{00227\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00230\ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \}\ \textcolor{comment}{//\ namespace}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{Object::FindString}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *memberId)\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_aea30069c714cdc1b3788898b18dbd985}{FindStringInContext}}(val,\ memberId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_a4758bfa7973a678a7ed82b9da7bb052b}{Object::FindNumber}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *memberId)\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_a5f4c540e98fa2b2186cb45b418c49b3f}{FindNumberInContext}}(val,\ memberId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00240\ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{Object::FindUInt}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *memberId)\ \{}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_a19652e1ba1d9bd5ec8ecfb6cd7c26c4b}{FindUIntInContext}}(val,\ memberId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00244\ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{Object::FindArray}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *memberId)\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_ac61cc29295c452acbbe7fed7d762209b}{FindArrayInContext}}(val,\ memberId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00248\ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{Object::FindObject}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *memberId)\ \{}
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_aafb32c802777a624f3be6186297b592c}{FindObjectInContext}}(val,\ memberId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00252\ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_value}{Value}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_object_a134b928e19a34e99bd9ad77da72c9664}{Object::FindExtension}}(\mbox{\hyperlink{class_value}{Value}}\ \&val,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *extensionId)\ \{}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacegl_t_f2_ab4421757aa9049f24fa360f043d3ce4e}{FindExtensionInContext}}(val,\ extensionId,\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.c\_str());}
\DoxyCodeLine{00256\ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a81088fc04dc4c6f1fe09b612f9e747d8}{Object::ReadExtensions}}(\mbox{\hyperlink{class_value}{Value}}\ \&val)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curExtensions\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(val,\ \textcolor{stringliteral}{"{}extensions"{}}))\ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_object_a0c85d4430482e3a634c64cd68d32a469}{customExtensions}}\ =\ glTF2::ReadExtensions(\textcolor{stringliteral}{"{}extensions"{}},\ *curExtensions);}
\DoxyCodeLine{00261\ \ \ \ \ \}}
\DoxyCodeLine{00262\ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a482d80578d0e65eb6cde21aeb4cb05c8}{Object::ReadExtras}}(\mbox{\hyperlink{class_value}{Value}}\ \&val)\ \{}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curExtras\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(val,\ \textcolor{stringliteral}{"{}extras"{}}))\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_object_aeb5e92f1aaa5ee5aeb37b79390bcbbc9}{extras}}\ =\ glTF2::ReadExtras(*curExtras);}
\DoxyCodeLine{00267\ \ \ \ \ \}}
\DoxyCodeLine{00268\ \}}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#ifdef\ ASSIMP\_ENABLE\_DRACO}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00273\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ CopyFaceIndex\_Draco(\mbox{\hyperlink{structgl_t_f2_1_1_buffer}{Buffer}}\ \&decodedIndexBuffer,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_mesh}{draco::Mesh}}\ \&draco\_mesh)\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ faceStride\ =\ \textcolor{keyword}{sizeof}(T)\ *\ 3;}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespacedraco_ae8d73eb8b85a102ee0f4928acf80f3cf}{draco::FaceIndex}}\ f(0);\ f\ <\ draco\_mesh.\mbox{\hyperlink{classdraco_1_1_mesh_a3c98cfdc0dcffc72586b3d4e06df3032}{num\_faces}}();\ ++f)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classdraco_1_1_mesh_ac2ca6da8ad1aa11c7934ed0a4054e7fc}{draco::Mesh::Face}}\ \&face\ =\ draco\_mesh.\mbox{\hyperlink{classdraco_1_1_mesh_a919b04968098a079c2e8802a2da1de5b}{face}}(f);}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ T\ indices[3]\ =\ \{\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(face[0].value()),\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(face[1].value()),\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(face[2].value())\ \};}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ memcpy(decodedIndexBuffer.\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a5a258ddf7999b75b3a50474cd85acceb}{GetPointer}}()\ +\ (f.value()\ *\ faceStride),\ \&indices[0],\ faceStride);}
\DoxyCodeLine{00279\ \ \ \ \ \}}
\DoxyCodeLine{00280\ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SetDecodedIndexBuffer\_Draco(\textcolor{keyword}{const}\ draco::Mesh\ \&dracoMesh,\ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive}{Mesh::Primitive}}\ \&prim)\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordflow}{if}\ (!prim.indices\ ||\ dracoMesh.\mbox{\hyperlink{classdraco_1_1_mesh_a3c98cfdc0dcffc72586b3d4e06df3032}{num\_faces}}()\ ==\ 0)}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ decoded\ Index\ buffer\ (if\ there\ is\ one)}}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ componentBytes\ =\ prim.indices-\/>GetBytesPerComponent();}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ std::unique\_ptr<Buffer>\ decodedIndexBuffer(\textcolor{keyword}{new}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer}{Buffer}}());}
\DoxyCodeLine{00290\ \ \ \ \ decodedIndexBuffer-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a9ac72d14deaaf630f9727d277024474a}{Grow}}(dracoMesh.\mbox{\hyperlink{classdraco_1_1_mesh_a3c98cfdc0dcffc72586b3d4e06df3032}{num\_faces}}()\ *\ 3\ *\ componentBytes);}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{comment}{//\ If\ accessor\ uses\ the\ same\ size\ as\ draco\ implementation,\ copy\ the\ draco\ buffer\ directly}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{comment}{//\ Usually\ uint32\_t\ but\ shouldn't\ assume}}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(dracoMesh.\mbox{\hyperlink{classdraco_1_1_mesh_a919b04968098a079c2e8802a2da1de5b}{face}}(\mbox{\hyperlink{namespacedraco_ae8d73eb8b85a102ee0f4928acf80f3cf}{draco::FaceIndex}}(0))[0])\ ==\ componentBytes)\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ memcpy(decodedIndexBuffer-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a5a258ddf7999b75b3a50474cd85acceb}{GetPointer}}(),\ \&dracoMesh.\mbox{\hyperlink{classdraco_1_1_mesh_a919b04968098a079c2e8802a2da1de5b}{face}}(\mbox{\hyperlink{namespacedraco_ae8d73eb8b85a102ee0f4928acf80f3cf}{draco::FaceIndex}}(0))[0],\ decodedIndexBuffer-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}});}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00298\ \ \ \ \ \}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ Not\ same\ size,\ convert}}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{keywordflow}{switch}\ (componentBytes)\ \{}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}):}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ CopyFaceIndex\_Draco<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}>(*decodedIndexBuffer,\ dracoMesh);}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a32fb567579d9a01528a96c60d962cdc6}{uint16\_t}}):}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ CopyFaceIndex\_Draco<uint16\_t>(*decodedIndexBuffer,\ dracoMesh);}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}):}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ CopyFaceIndex\_Draco<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}>(*decodedIndexBuffer,\ dracoMesh);}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00314\ \ \ \ \ \}}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{comment}{//\ Assign\ this\ alternate\ data\ buffer\ to\ the\ accessor}}
\DoxyCodeLine{00317\ \ \ \ \ prim.indices-\/>decodedBuffer.swap(decodedIndexBuffer);}
\DoxyCodeLine{00318\ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00321\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ GetAttributeForAllPoints\_Draco(\textcolor{keyword}{const}\ draco::Mesh\ \&dracoMesh,}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ draco::PointAttribute\ \&dracoAttribute,}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer}{Buffer}}\ \&outBuffer)\ \{}
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ byteOffset\ =\ 0;}
\DoxyCodeLine{00325\ \ \ \ \ T\ values[4]\ =\ \{\ 0,\ 0,\ 0,\ 0\ \};}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordflow}{for}\ (draco::PointIndex\ i(0);\ i\ <\ dracoMesh.\mbox{\hyperlink{classdraco_1_1_point_cloud_a045dbd723f51da5323538b1adfba8b74}{num\_points}}();\ ++i)\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ draco::AttributeValueIndex\ val\_index\ =\ dracoAttribute.\mbox{\hyperlink{classdraco_1_1_point_attribute_a7d6f9d6b243c2c8fe3869e59486613c2}{mapped\_index}}(i);}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!dracoAttribute.\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a815ce31af6f09cf527fc502fdbeff58a}{ConvertValue}}<T>(val\_index,\ dracoAttribute.\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a232064d60edaad1dba572da058382925}{num\_components}}(),\ values))\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ memcpy(outBuffer.GetPointer()\ +\ byteOffset,\ \&values[0],\ \textcolor{keyword}{sizeof}(T)\ *\ dracoAttribute.\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a232064d60edaad1dba572da058382925}{num\_components}}());}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ byteOffset\ +=\ \textcolor{keyword}{sizeof}(T)\ *\ dracoAttribute.\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a232064d60edaad1dba572da058382925}{num\_components}}();}
\DoxyCodeLine{00334\ \ \ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00337\ \}}
\DoxyCodeLine{00338\ }
\DoxyCodeLine{00339\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SetDecodedAttributeBuffer\_Draco(\textcolor{keyword}{const}\ draco::Mesh\ \&dracoMesh,\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}\ dracoAttribId,\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor}{Accessor}}\ \&accessor)\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{comment}{//\ Create\ decoded\ buffer}}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{keyword}{const}\ draco::PointAttribute\ *pDracoAttribute\ =\ dracoMesh.\mbox{\hyperlink{classdraco_1_1_point_cloud_a0de772e43dc6ef03044c5cabc273e8c2}{GetAttributeByUniqueId}}(dracoAttribId);}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{keywordflow}{if}\ (pDracoAttribute\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ draco\ attribute\ id:\ "{}},\ dracoAttribId);}
\DoxyCodeLine{00344\ \ \ \ \ \}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ componentBytes\ =\ accessor.GetBytesPerComponent();}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ std::unique\_ptr<Buffer>\ decodedAttribBuffer(\textcolor{keyword}{new}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer}{Buffer}}());}
\DoxyCodeLine{00349\ \ \ \ \ decodedAttribBuffer-\/>Grow(dracoMesh.\mbox{\hyperlink{classdraco_1_1_point_cloud_a045dbd723f51da5323538b1adfba8b74}{num\_points}}()\ *\ pDracoAttribute-\/>\mbox{\hyperlink{classdraco_1_1_geometry_attribute_a232064d60edaad1dba572da058382925}{num\_components}}()\ *\ componentBytes);}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordflow}{switch}\ (accessor.componentType)\ \{}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8bffc0a491be3cdb859ac512c193eb6d}{ComponentType\_BYTE}}:}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<int8\_t>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8dc005c1eca4f6f6b27f0f4472f4dbac}{ComponentType\_UNSIGNED\_BYTE}}:}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<uint8\_t>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6ad3b116b9328b71cbe7d3f757ee47f864}{ComponentType\_SHORT}}:}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<int16\_t>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8c5290cf280f6081f092b18f01666e63}{ComponentType\_UNSIGNED\_SHORT}}:}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<uint16\_t>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a2073bc8b3528c023dcf8cb4e77d7c1cf}{ComponentType\_UNSIGNED\_INT}}:}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<uint32\_t>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a1750931a05f3552c3bb64bf73a69afe1}{ComponentType\_FLOAT}}:}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ GetAttributeForAllPoints\_Draco<float>(dracoMesh,\ *pDracoAttribute,\ *decodedAttribBuffer);}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00370\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00373\ \ \ \ \ \}}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{comment}{//\ Assign\ this\ alternate\ data\ buffer\ to\ the\ accessor}}
\DoxyCodeLine{00376\ \ \ \ \ accessor.decodedBuffer.swap(decodedAttribBuffer);}
\DoxyCodeLine{00377\ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ASSIMP\_ENABLE\_DRACO}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \textcolor{comment}{//}}
\DoxyCodeLine{00382\ \textcolor{comment}{//\ LazyDict\ methods}}
\DoxyCodeLine{00383\ \textcolor{comment}{//}}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00386\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_a1cb1f0f55258b81502a429868f73422a}{LazyDict<T>::LazyDict}}(\mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_abbb2d6439646427912dc314907398c42}{Asset}}\ \&asset,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *dictId,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *extId)\ :}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ mDictId(dictId),}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ mExtId(extId),}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ mDict(\mbox{\hyperlink{_open_d_d_l_common_8h_ab979d9d4b4923f7c54d6caa6e1a61936}{nullptr}}),}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ mAsset(asset)\ \{}
\DoxyCodeLine{00391\ \ \ \ \ asset.mDicts.push\_back(\textcolor{keyword}{this});\ \textcolor{comment}{//\ register\ to\ the\ list\ of\ dictionaries}}
\DoxyCodeLine{00392\ \}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00395\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_aee4f308624f50a874c62228968b83288}{LazyDict<T>::\string~LazyDict}}()\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ mObjs.size();\ ++i)\ \{}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ mObjs[i];}
\DoxyCodeLine{00398\ \ \ \ \ \}}
\DoxyCodeLine{00399\ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00402\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ LazyDict<T>::AttachToDocument(\mbox{\hyperlink{document_8h_ac6ea5b168e3fe8c7fa532450fc9391f7}{Document}}\ \&doc)\ \{}
\DoxyCodeLine{00403\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *container\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *context\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}\ (mExtId)\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *exts\ =\ \mbox{\hyperlink{namespacegl_t_f2_a3af2e37e2f400f1a9c4e0489a68e7f65}{FindObject}}(doc,\ \textcolor{stringliteral}{"{}extensions"{}}))\ \{}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ container\ =\ \mbox{\hyperlink{namespacegl_t_f2_aafb32c802777a624f3be6186297b592c}{FindObjectInContext}}(*exts,\ mExtId,\ \textcolor{stringliteral}{"{}extensions"{}});}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ context\ =\ mExtId;}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00411\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ container\ =\ \&doc;}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ context\ =\ \textcolor{stringliteral}{"{}the\ document"{}};}
\DoxyCodeLine{00414\ \ \ \ \ \}}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keywordflow}{if}\ (container)\ \{}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ mDict\ =\ \mbox{\hyperlink{namespacegl_t_f2_ac61cc29295c452acbbe7fed7d762209b}{FindArrayInContext}}(*container,\ mDictId,\ context);}
\DoxyCodeLine{00418\ \ \ \ \ \}}
\DoxyCodeLine{00419\ \}}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00421\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00422\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_base_acd94a3aea86200ffaf6fc8b0152cf559}{LazyDict<T>::DetachFromDocument}}()\ \{}
\DoxyCodeLine{00423\ \ \ \ \ mDict\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00424\ \}}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00427\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_a0e703d9a69d5f44be5619bbfb80fd8fa}{LazyDict<T>::Remove}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ T::TranslateId(mAsset,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keyword}{typename}\ IdDict::iterator\ objIt\ =\ mObjsById.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ \ \ \textcolor{keywordflow}{if}\ (objIt\ ==\ mObjsById.end())\ \{}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_export_error}{DeadlyExportError}}(\textcolor{stringliteral}{"{}GLTF:\ Object\ with\ id\ \(\backslash\)"{}"{}}\ +\ std::string(\textcolor{keywordtype}{id})\ +\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ is\ not\ found"{}});}
\DoxyCodeLine{00434\ \ \ \ \ \}}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ index\ =\ objIt-\/>second;}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ mAsset.mUsedIds[id]\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00439\ \ \ \ \ mObjsById.erase(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00440\ \ \ \ \ mObjsByOIndex.erase(index);}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keyword}{delete}\ mObjs[index];}
\DoxyCodeLine{00442\ \ \ \ \ mObjs.erase(mObjs.begin()\ +\ index);}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{comment}{//update\ index\ of\ object\ in\ mObjs;}}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ index;\ i\ <\ mObjs.size();\ ++i)\ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ T\ *obj\ =\ mObjs[i];}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ obj-\/>index\ =\ i;}
\DoxyCodeLine{00449\ \ \ \ \ \}}
\DoxyCodeLine{00450\ }
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keywordflow}{for}\ (IdDict::iterator\ it\ =\ mObjsById.begin();\ it\ !=\ mObjsById.end();\ ++it)\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it-\/>second\ <=\ index)\ \{}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ mObjsById[it-\/>first]\ =\ it-\/>second\ -\/\ 1;}
\DoxyCodeLine{00457\ \ \ \ \ \}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ \ \ \textcolor{keywordflow}{for}\ (Dict::iterator\ it\ =\ mObjsByOIndex.begin();\ it\ !=\ mObjsByOIndex.end();\ ++it)\ \{}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it-\/>second\ <=\ index)\ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ mObjsByOIndex[it-\/>first]\ =\ it-\/>second\ -\/\ 1;}
\DoxyCodeLine{00465\ \ \ \ \ \}}
\DoxyCodeLine{00466\ }
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordflow}{return}\ index;}
\DoxyCodeLine{00468\ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00471\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_ad6c9ea8996d7425324ae31a9f9ac00c9}{LazyDict<T>::Retrieve}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i)\ \{}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keyword}{typename}\ Dict::iterator\ it\ =\ mObjsByOIndex.find(i);}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ mObjsByOIndex.end())\ \{\ \textcolor{comment}{//\ already\ created?}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}(mObjs,\ it-\/>second);}
\DoxyCodeLine{00476\ \ \ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \ \ \textcolor{comment}{//\ read\ it\ from\ the\ JSON\ object}}
\DoxyCodeLine{00479\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mDict)\ \{}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Missing\ section\ \(\backslash\)"{}"{}},\ mDictId,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{00481\ \ \ \ \ \}}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mDict-\/>IsArray())\ \{}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Field\ \(\backslash\)"{}"{}},\ mDictId,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ \ is\ not\ an\ array"{}});}
\DoxyCodeLine{00485\ \ \ \ \ \}}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ >=\ mDict-\/>Size())\ \{}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Array\ index\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ is\ out\ of\ bounds\ ("{}},\ mDict-\/>Size(),\ \textcolor{stringliteral}{"{})\ for\ \(\backslash\)"{}"{}},\ mDictId,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{00489\ \ \ \ \ \}}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&obj\ =\ (*mDict)[i];}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{if}\ (!obj.IsObject())\ \{}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Object\ at\ index\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ in\ array\ \(\backslash\)"{}"{}},\ mDictId,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ is\ not\ a\ JSON\ object"{}});}
\DoxyCodeLine{00495\ \ \ \ \ \}}
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{if}\ (mRecursiveReferenceCheck.find(i)\ !=\ mRecursiveReferenceCheck.end())\ \{}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Object\ at\ index\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ in\ array\ \(\backslash\)"{}"{}},\ mDictId,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ has\ recursive\ reference\ to\ itself"{}});}
\DoxyCodeLine{00499\ \ \ \ \ \}}
\DoxyCodeLine{00500\ \ \ \ \ mRecursiveReferenceCheck.insert(i);}
\DoxyCodeLine{00501\ }
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{comment}{//\ Unique\ ptr\ prevents\ memory\ leak\ in\ case\ of\ Read\ throws\ an\ exception}}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keyword}{auto}\ inst\ =\ std::unique\_ptr<T>(\textcolor{keyword}{new}\ T());}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{comment}{//\ Try\ to\ make\ this\ human\ readable\ so\ it\ can\ be\ used\ in\ error\ messages.}}
\DoxyCodeLine{00505\ \ \ \ \ inst-\/>id\ =\ std::string(mDictId)\ +\ \textcolor{stringliteral}{"{}["{}}\ +\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(i)\ +\ \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{00506\ \ \ \ \ inst-\/>oIndex\ =\ i;}
\DoxyCodeLine{00507\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}name"{}},\ inst-\/>name);}
\DoxyCodeLine{00508\ \ \ \ \ inst-\/>Read(obj,\ mAsset);}
\DoxyCodeLine{00509\ \ \ \ \ inst-\/>ReadExtensions(obj);}
\DoxyCodeLine{00510\ \ \ \ \ inst-\/>ReadExtras(obj);}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ result\ =\ Add(inst.release());}
\DoxyCodeLine{00513\ \ \ \ \ mRecursiveReferenceCheck.erase(i);}
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00515\ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00518\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_afd26464d9a44c3cd68a65cfe92e3fef1}{LazyDict<T>::Get}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}(mObjs,\ i);}
\DoxyCodeLine{00520\ \}}
\DoxyCodeLine{00521\ }
\DoxyCodeLine{00522\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00523\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_afd26464d9a44c3cd68a65cfe92e3fef1}{LazyDict<T>::Get}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00524\ \ \ \ \ \textcolor{keywordtype}{id}\ =\ T::TranslateId(mAsset,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \ \ \textcolor{keyword}{typename}\ IdDict::iterator\ it\ =\ mObjsById.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ mObjsById.end())\ \{\ \textcolor{comment}{//\ already\ created?}}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}(mObjs,\ it-\/>second);}
\DoxyCodeLine{00529\ \ \ \ \ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}();}
\DoxyCodeLine{00532\ \}}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00535\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ LazyDict<T>::Add(T\ *obj)\ \{}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ idx\ =\ unsigned(mObjs.size());}
\DoxyCodeLine{00537\ \ \ \ \ mObjs.push\_back(obj);}
\DoxyCodeLine{00538\ \ \ \ \ mObjsByOIndex[obj-\/>oIndex]\ =\ idx;}
\DoxyCodeLine{00539\ \ \ \ \ mObjsById[obj-\/>id]\ =\ idx;}
\DoxyCodeLine{00540\ \ \ \ \ mAsset.mUsedIds[obj-\/>id]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}(mObjs,\ idx);}
\DoxyCodeLine{00542\ \}}
\DoxyCodeLine{00543\ }
\DoxyCodeLine{00544\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00545\ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<T>}}\ \mbox{\hyperlink{classgl_t_f2_1_1_lazy_dict_a9afc6a68b1f247ea36aa193d0f7a9507}{LazyDict<T>::Create}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00546\ \ \ \ \ Asset::IdMap::iterator\ it\ =\ mAsset.mUsedIds.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00547\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ mAsset.mUsedIds.end())\ \{}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ two\ objects\ with\ the\ same\ ID\ exist"{}});}
\DoxyCodeLine{00549\ \ \ \ \ \}}
\DoxyCodeLine{00550\ \ \ \ \ T\ *inst\ =\ \textcolor{keyword}{new}\ T();}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ idx\ =\ unsigned(mObjs.size());}
\DoxyCodeLine{00552\ \ \ \ \ inst-\/>id\ =\ id;}
\DoxyCodeLine{00553\ \ \ \ \ inst-\/>index\ =\ idx;}
\DoxyCodeLine{00554\ \ \ \ \ inst-\/>oIndex\ =\ idx;}
\DoxyCodeLine{00555\ \ \ \ \ \textcolor{keywordflow}{return}\ Add(inst);}
\DoxyCodeLine{00556\ \}}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \textcolor{comment}{//}}
\DoxyCodeLine{00559\ \textcolor{comment}{//\ glTF\ dictionary\ objects\ methods}}
\DoxyCodeLine{00560\ \textcolor{comment}{//}}
\DoxyCodeLine{00561\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a0df8e9209c9d0d4d289d89a027b7fe4e}{Buffer::Buffer}}()\ :}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}(0),}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a1ac764f28455e2772f2f845654defe04}{type}}(\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a8980cd9c39dad43863762fbeb710c9e5abb09af26160354c27a51936d6f4050de}{Type\_arraybuffer}}),}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_aa5d2d75beb8c1e9d4700b134b0601606}{EncodedRegion\_Current}}(\mbox{\hyperlink{_open_d_d_l_common_8h_ab979d9d4b4923f7c54d6caa6e1a61936}{nullptr}}),}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ mIsSpecial(false)\ \{\}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a6df8a020ac1d2ecf0a945a0f2f48f2ed}{Buffer::\string~Buffer}}()\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_1_1_s_encoded_region}{SEncodedRegion}}\ *reg\ :\ EncodedRegion\_List)}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ reg;}
\DoxyCodeLine{00570\ \}}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2121f6ae5f1a1fcd15942817b5a64ade}{Buffer::TranslateId}}(\mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&\ \textcolor{comment}{/*r*/},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00573\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_object_abd944756283e5577b6ce4d6056b171d8}{id}};}
\DoxyCodeLine{00574\ \}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_af06909b08e477626cb9deb4ce861dc91}{Buffer::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ statedLength\ =\ MemberOrDefault<size\_t>(obj,\ \textcolor{stringliteral}{"{}byteLength"{}},\ 0);}
\DoxyCodeLine{00578\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ =\ statedLength;}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00580\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *it\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(obj,\ \textcolor{stringliteral}{"{}uri"{}});}
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{keywordflow}{if}\ (!it)\ \{}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (statedLength\ >\ 0)\ \{}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ buffer\ with\ non-\/zero\ length\ missing\ the\ \(\backslash\)"{}uri\(\backslash\)"{}\ attribute"{}});}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00586\ \ \ \ \ \}}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *uri\ =\ it-\/>GetString();}
\DoxyCodeLine{00589\ }
\DoxyCodeLine{00590\ \ \ \ \ \mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i}{glTFCommon::Util::DataURI}}\ dataURI;}
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{keywordflow}{if}\ (ParseDataURI(uri,\ it-\/>GetStringLength(),\ dataURI))\ \{}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a6ee33d11f41fd66be4b050360674790e}{base64}})\ \{}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ =\ \mbox{\hyperlink{namespace_assimp_1_1_base64_a2010870026463f4fd8d73b4e15d831ae}{Base64::Decode}}(dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a61ced58e2594f195696576e33e503a4e}{data}},\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}},\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}});}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>mData.reset(\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00596\ }
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (statedLength\ >\ 0\ \&\&\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ !=\ statedLength)\ \{}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ buffer\ \(\backslash\)"{}"{}},\ \textcolor{keywordtype}{id},\ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ expected\ "{}},\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(statedLength),}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ bytes,\ but\ found\ "{}},\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}}));}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ assume\ raw\ data}}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (statedLength\ !=\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}})\ \{}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ buffer\ \(\backslash\)"{}"{}},\ \textcolor{keywordtype}{id},\ \textcolor{stringliteral}{"{}\(\backslash\)"{},\ expected\ "{}},\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(statedLength),}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ bytes,\ but\ found\ "{}},\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}}));}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>mData.reset(\textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}}],\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ memcpy(this-\/>mData.get(),\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a61ced58e2594f195696576e33e503a4e}{data}},\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}});}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00610\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ Local\ file}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ >\ 0)\ \{}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ dir\ =\ !r.mCurrentAssetDir.empty()\ ?\ (r.mCurrentAssetDir.back()\ ==\ \textcolor{charliteral}{'/'}\ ?\ r.mCurrentAssetDir\ :\ r.mCurrentAssetDir\ +\ \textcolor{charliteral}{'/'})\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_i_o_stream}{IOStream}}\ *file\ =\ r.OpenFile(dir\ +\ uri,\ \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (file)\ \{}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ ok\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a9ce6d04097ea76d03320ef7b2e2165ac}{LoadFromStream}}(*file,\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}});}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ file;}
\DoxyCodeLine{00618\ }
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!ok)}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ error\ while\ reading\ referenced\ file\ \(\backslash\)"{}"{}},\ uri,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ could\ not\ open\ referenced\ file\ \(\backslash\)"{}"{}},\ uri,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00625\ \ \ \ \ \}}
\DoxyCodeLine{00626\ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00628\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a9ce6d04097ea76d03320ef7b2e2165ac}{Buffer::LoadFromStream}}(\mbox{\hyperlink{classgl_t_f_common_1_1_i_o_stream}{IOStream}}\ \&\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ \textcolor{keywordtype}{size\_t}\ length,\ \textcolor{keywordtype}{size\_t}\ baseOffset)\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ =\ length\ ?\ length\ :\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.FileSize();}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ >\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.FileSize())\ \{}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ byteLength\ exceeds\ size\ of\ actual\ data."{}});}
\DoxyCodeLine{00633\ \ \ \ \ \}}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ \ \ \textcolor{keywordflow}{if}\ (baseOffset)\ \{}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Seek(baseOffset,\ \mbox{\hyperlink{assimp-install_2include_2assimp_2types_8h_ac50fbaa57d78776ca99e42104d9b2786a94a44e681b6c891e39767c518b64b56f}{aiOrigin\_SET}});}
\DoxyCodeLine{00637\ \ \ \ \ \}}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \ \ \ \ mData.reset(\textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}],\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(mData.get(),\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}},\ 1)\ !=\ 1)\ \{}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00643\ \ \ \ \ \}}
\DoxyCodeLine{00644\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00645\ \}}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00647\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_afbc932964d390dd3e2c3a4a3c7d4180a}{Buffer::EncodedRegion\_Mark}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pOffset,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pEncodedData\_Length,\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *pDecodedData,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pDecodedData\_Length,\ \textcolor{keyword}{const}\ std::string\ \&pID)\ \{}
\DoxyCodeLine{00648\ \ \ \ \ \textcolor{comment}{//\ Check\ pointer\ to\ data}}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{keywordflow}{if}\ (pDecodedData\ ==\ \textcolor{keyword}{nullptr})\ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ for\ marking\ encoded\ region\ pointer\ to\ decoded\ data\ must\ be\ provided."{}});}
\DoxyCodeLine{00650\ }
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{comment}{//\ Check\ offset}}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{keywordflow}{if}\ (pOffset\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}})\ \{}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ val\_size\ =\ 32;}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ val[val\_size];}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a15ab1a7a316884426fdd86b1c9706ce2}{ai\_snprintf}}(val,\ val\_size,\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a601991d1ef362fc516bb5a9198e7a46f}{AI\_SIZEFMT}},\ pOffset);}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ incorrect\ offset\ value\ ("{}},\ val,\ \textcolor{stringliteral}{"{})\ for\ marking\ encoded\ region."{}});}
\DoxyCodeLine{00659\ \ \ \ \ \}}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{comment}{//\ Check\ length}}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pOffset\ +\ pEncodedData\_Length)\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}})\ \{}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ val\_size\ =\ 64;}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ val[val\_size];}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a15ab1a7a316884426fdd86b1c9706ce2}{ai\_snprintf}}(val,\ val\_size,\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a601991d1ef362fc516bb5a9198e7a46f}{AI\_SIZEFMT}}\ \textcolor{stringliteral}{"{}/"{}}\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a601991d1ef362fc516bb5a9198e7a46f}{AI\_SIZEFMT}},\ pOffset,\ pEncodedData\_Length);}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ encoded\ region\ with\ offset/length\ ("{}},\ val,\ \textcolor{stringliteral}{"{})\ is\ out\ of\ range."{}});}
\DoxyCodeLine{00669\ \ \ \ \ \}}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \ \ \ \ \textcolor{comment}{//\ Add\ new\ region}}
\DoxyCodeLine{00672\ \ \ \ \ EncodedRegion\_List.push\_back(\textcolor{keyword}{new}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_1_1_s_encoded_region}{SEncodedRegion}}(pOffset,\ pEncodedData\_Length,\ pDecodedData,\ pDecodedData\_Length,\ pID));}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{comment}{//\ And\ set\ new\ value\ for\ "{}byteLength"{}}}
\DoxyCodeLine{00674\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +=\ (pDecodedData\_Length\ -\/\ pEncodedData\_Length);}
\DoxyCodeLine{00675\ \}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_acb07f30c85d38a23d606aec8fbc71b29}{Buffer::EncodedRegion\_SetCurrent}}(\textcolor{keyword}{const}\ std::string\ \&pID)\ \{}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{structgl_t_f2_1_1_buffer_aa5d2d75beb8c1e9d4700b134b0601606}{EncodedRegion\_Current}}\ !=\ \textcolor{keyword}{nullptr})\ \&\&\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_aa5d2d75beb8c1e9d4700b134b0601606}{EncodedRegion\_Current}}-\/>ID\ ==\ pID))\ \{}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00680\ \ \ \ \ \}}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00682\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_1_1_s_encoded_region}{SEncodedRegion}}\ *reg\ :\ EncodedRegion\_List)\ \{}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (reg-\/>ID\ ==\ pID)\ \{}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_aa5d2d75beb8c1e9d4700b134b0601606}{EncodedRegion\_Current}}\ =\ reg;}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00687\ \ \ \ \ \}}
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ EncodedRegion\ with\ ID:\ \(\backslash\)"{}"{}},\ pID,\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ not\ found."{}});}
\DoxyCodeLine{00690\ \}}
\DoxyCodeLine{00691\ }
\DoxyCodeLine{00692\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a1e45c67dff2dbb1c47fac0fdd97c6c6d}{Buffer::ReplaceData}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pBufferData\_Offset,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pBufferData\_Count,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *pReplace\_Data,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pReplace\_Count)\ \{}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pBufferData\_Count\ ==\ 0)\ ||\ (pReplace\_Count\ ==\ 0)\ ||\ (pReplace\_Data\ ==\ \textcolor{keyword}{nullptr}))\ \{}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00696\ \ \ \ \ \}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ new\_data\_size\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +\ pReplace\_Count\ -\/\ pBufferData\_Count;}
\DoxyCodeLine{00699\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *new\_data\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[new\_data\_size];}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{comment}{//\ Copy\ data\ which\ place\ before\ replacing\ part.}}
\DoxyCodeLine{00701\ \ \ \ \ ::memcpy(new\_data,\ mData.get(),\ pBufferData\_Offset);}
\DoxyCodeLine{00702\ \ \ \ \ \textcolor{comment}{//\ Copy\ new\ data.}}
\DoxyCodeLine{00703\ \ \ \ \ ::memcpy(\&new\_data[pBufferData\_Offset],\ pReplace\_Data,\ pReplace\_Count);}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{comment}{//\ Copy\ data\ which\ place\ after\ replacing\ part.}}
\DoxyCodeLine{00705\ \ \ \ \ ::memcpy(\&new\_data[pBufferData\_Offset\ +\ pReplace\_Count],\ \&mData.get()[pBufferData\_Offset\ +\ pBufferData\_Count],\ pBufferData\_Offset);}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{comment}{//\ Apply\ new\ data}}
\DoxyCodeLine{00707\ \ \ \ \ mData.reset(new\_data,\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00708\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ =\ new\_data\_size;}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00711\ \}}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a97ee6717f524ac790668f4400e5ac372}{Buffer::ReplaceData\_joint}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pBufferData\_Offset,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pBufferData\_Count,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *pReplace\_Data,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ pReplace\_Count)\ \{}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{if}\ ((pBufferData\_Count\ ==\ 0)\ ||\ (pReplace\_Count\ ==\ 0)\ ||\ (pReplace\_Data\ ==\ \textcolor{keyword}{nullptr}))\ \{}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00716\ \ \ \ \ \}}
\DoxyCodeLine{00717\ }
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ new\_data\_size\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +\ pReplace\_Count\ -\/\ pBufferData\_Count;}
\DoxyCodeLine{00719\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *new\_data\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[new\_data\_size];}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{comment}{//\ Copy\ data\ which\ place\ before\ replacing\ part.}}
\DoxyCodeLine{00721\ \ \ \ \ memcpy(new\_data,\ mData.get(),\ pBufferData\_Offset);}
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{comment}{//\ Copy\ new\ data.}}
\DoxyCodeLine{00723\ \ \ \ \ memcpy(\&new\_data[pBufferData\_Offset],\ pReplace\_Data,\ pReplace\_Count);}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{comment}{//\ Copy\ data\ which\ place\ after\ replacing\ part.}}
\DoxyCodeLine{00725\ \ \ \ \ memcpy(\&new\_data[pBufferData\_Offset\ +\ pReplace\_Count],\ \&mData.get()[pBufferData\_Offset\ +\ pBufferData\_Count],\ new\_data\_size\ -\/\ (pBufferData\_Offset\ +\ pReplace\_Count));}
\DoxyCodeLine{00726\ \ \ \ \ \textcolor{comment}{//\ Apply\ new\ data}}
\DoxyCodeLine{00727\ \ \ \ \ mData.reset(new\_data,\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00728\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ =\ new\_data\_size;}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00731\ \}}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_ab7ee40e0e0c3f78207350f26ebb52edb}{Buffer::AppendData}}(\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ \textcolor{keywordtype}{size\_t}\ length)\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}};}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{comment}{//\ Force\ alignment\ to\ 4\ bits}}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ paddedLength\ =\ (length\ +\ 3)\ \&\ \string~3;}
\DoxyCodeLine{00738\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a9ac72d14deaaf630f9727d277024474a}{Grow}}(paddedLength);}
\DoxyCodeLine{00739\ \ \ \ \ memcpy(mData.get()\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}},\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ length);}
\DoxyCodeLine{00740\ \ \ \ \ memset(mData.get()\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ +\ length,\ 0,\ paddedLength\ -\/\ length);}
\DoxyCodeLine{00741\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00742\ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00744\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a9ac72d14deaaf630f9727d277024474a}{Buffer::Grow}}(\textcolor{keywordtype}{size\_t}\ amount)\ \{}
\DoxyCodeLine{00745\ \ \ \ \ \textcolor{keywordflow}{if}\ (amount\ <=\ 0)\ \{}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00747\ \ \ \ \ \}}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{comment}{//\ Capacity\ is\ big\ enough}}
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a5ebec0a81ca969ed43812825a01bd773}{capacity}}\ >=\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +\ amount)\ \{}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +=\ amount;}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00753\ \ \ \ \ \}}
\DoxyCodeLine{00754\ }
\DoxyCodeLine{00755\ \ \ \ \ \textcolor{comment}{//\ Just\ allocate\ data\ which\ we\ need}}
\DoxyCodeLine{00756\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a5ebec0a81ca969ed43812825a01bd773}{capacity}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +\ amount;}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *b\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[\mbox{\hyperlink{structgl_t_f2_1_1_buffer_a5ebec0a81ca969ed43812825a01bd773}{capacity}}];}
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ mData)\ \{}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ memcpy(b,\ mData.get(),\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}});}
\DoxyCodeLine{00761\ \ \ \ \ \}}
\DoxyCodeLine{00762\ \ \ \ \ mData.reset(b,\ std::default\_delete<\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[]>());}
\DoxyCodeLine{00763\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_a2bb4ea3bec7f0b4f215c386805749ba0}{byteLength}}\ +=\ amount;}
\DoxyCodeLine{00764\ \}}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \textcolor{comment}{//}}
\DoxyCodeLine{00767\ \textcolor{comment}{//\ struct\ BufferView}}
\DoxyCodeLine{00768\ \textcolor{comment}{//}}
\DoxyCodeLine{00769\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7f08bdd2aec3fc97bf18b13cfe4e71b7}{BufferView::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *bufferVal\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}buffer"{}}))\ \{}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_aab6dc30f3ecbebf57949b09c98f3550b}{buffers}}.Retrieve(bufferVal-\/>GetUint());}
\DoxyCodeLine{00772\ \ \ \ \ \}}
\DoxyCodeLine{00773\ }
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}})\ \{}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Buffer\ view\ without\ valid\ buffer."{}});}
\DoxyCodeLine{00776\ \ \ \ \ \}}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7062ca971c73608e6be24f715cda4c69}{byteOffset}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}byteOffset"{}},\ \textcolor{keywordtype}{size\_t}(0));}
\DoxyCodeLine{00779\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_ae5b9c4ddb40262f0d65e18851db133af}{byteLength}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}byteLength"{}},\ \textcolor{keywordtype}{size\_t}(0));}
\DoxyCodeLine{00780\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7678a62e4a4718a52e95815dd54f5079}{byteStride}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}byteStride"{}},\ 0u);}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{comment}{//\ Check\ length}}
\DoxyCodeLine{00783\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7062ca971c73608e6be24f715cda4c69}{byteOffset}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_ae5b9c4ddb40262f0d65e18851db133af}{byteLength}})\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>byteLength)\ \{}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Buffer\ view\ with\ offset/length\ ("{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7062ca971c73608e6be24f715cda4c69}{byteOffset}},\ \textcolor{stringliteral}{"{}/"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_ae5b9c4ddb40262f0d65e18851db133af}{byteLength}},\ \textcolor{stringliteral}{"{})\ is\ out\ of\ range."{}});}
\DoxyCodeLine{00785\ \ \ \ \ \}}
\DoxyCodeLine{00786\ \}}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a4d152eda2c967dabe27d07b2660dfe64}{BufferView::GetPointerAndTailSize}}(\textcolor{keywordtype}{size\_t}\ accOffset,\ \textcolor{keywordtype}{size\_t}\&\ outTailSize)\ \{}
\DoxyCodeLine{00789\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}})\ \{}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ outTailSize\ =\ 0;}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00792\ \ \ \ \ \}}
\DoxyCodeLine{00793\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\ \textcolor{keyword}{const}\ basePtr\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>GetPointer();}
\DoxyCodeLine{00794\ \ \ \ \ \textcolor{keywordflow}{if}\ (!basePtr)\ \{}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ outTailSize\ =\ 0;}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00797\ \ \ \ \ \}}
\DoxyCodeLine{00798\ }
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ accOffset\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a7062ca971c73608e6be24f715cda4c69}{byteOffset}};}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>EncodedRegion\_Current\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ begin\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>EncodedRegion\_Current-\/>Offset;}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ end\ =\ begin\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>EncodedRegion\_Current-\/>DecodedData\_Length;}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ >=\ begin)\ \&\&\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ <\ end))\ \{}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \ \ \ \ outTailSize\ =\ end\ -\/\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>EncodedRegion\_Current-\/>DecodedData[\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ -\/\ begin];}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00807\ \ \ \ \ \}}
\DoxyCodeLine{00808\ }
\DoxyCodeLine{00809\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ >=\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>byteLength)}
\DoxyCodeLine{00810\ \ \ \ \ \{}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ outTailSize\ =\ 0;}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00813\ \ \ \ \ \}}
\DoxyCodeLine{00814\ \ \ \ \ }
\DoxyCodeLine{00815\ \ \ \ \ outTailSize\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_buffer_view_a3d5435987a58abe0a7738c7e6a69427d}{buffer}}-\/>byteLength\ -\/\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{return}\ basePtr\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00817\ \}}
\DoxyCodeLine{00818\ }
\DoxyCodeLine{00819\ \textcolor{comment}{//}}
\DoxyCodeLine{00820\ \textcolor{comment}{//\ struct\ Accessor}}
\DoxyCodeLine{00821\ \textcolor{comment}{//}}
\DoxyCodeLine{00822\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6f68f3142fe4de47c8f07df9fb3e09fe}{Accessor::Sparse::PopulateData}}(\textcolor{keywordtype}{size\_t}\ numBytes,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *bytes)\ \{}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes)\ \{}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6d89c56b834934d54da07fe60cd271e5}{data}}.assign(bytes,\ bytes\ +\ numBytes);}
\DoxyCodeLine{00825\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6d89c56b834934d54da07fe60cd271e5}{data}}.resize(numBytes,\ 0x00);}
\DoxyCodeLine{00827\ \ \ \ \ \}}
\DoxyCodeLine{00828\ \}}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a0ca58b144ce718666d14934c281bf12d}{Accessor::Sparse::PatchData}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ elementSize)\ \{}
\DoxyCodeLine{00831\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ indicesTailDataSize;}
\DoxyCodeLine{00832\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *pIndices\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a3d990e07313efc568288919a1bbd8dfb}{indices}}-\/>GetPointerAndTailSize(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6c66b76f2e86e90427ceba70e311e00b}{indicesByteOffset}},\ indicesTailDataSize);}
\DoxyCodeLine{00833\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ indexSize\ =\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a787fa3cf048117ba7123753c1e74fcd6}{int}}(\mbox{\hyperlink{namespacegl_t_f2_a0b29080817054fbdd77a3ac1e7919ba8}{ComponentTypeSize}}(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a1f54f97c08c6fad07c37ecdba6aad1ca}{indicesType}}));}
\DoxyCodeLine{00834\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *indicesEnd\ =\ pIndices\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a0119ac6a3fef3f48fa7a3bc531a02a71}{count}}\ *\ indexSize;}
\DoxyCodeLine{00835\ }
\DoxyCodeLine{00836\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_af43ba723543d6a1127ef65a686ece1c9}{uint64\_t}})indicesEnd\ >\ (\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_af43ba723543d6a1127ef65a686ece1c9}{uint64\_t}})pIndices\ +\ indicesTailDataSize)\ \{}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}Invalid\ sparse\ accessor.\ Indices\ outside\ allocated\ memory."{}});}
\DoxyCodeLine{00838\ \ \ \ \ \}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ valuesTailDataSize;}
\DoxyCodeLine{00841\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}*\ pValues\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6b2afda8cfcf5172a598581ee9d809b5}{values}}-\/>GetPointerAndTailSize(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_ae8ca4ddda71e0bee224fa5b5bd5ef5f0}{valuesByteOffset}},\ valuesTailDataSize);}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{keywordflow}{if}\ (elementSize\ *\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a0119ac6a3fef3f48fa7a3bc531a02a71}{count}}\ >\ valuesTailDataSize)\ \{}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}Invalid\ sparse\ accessor.\ Indices\ outside\ allocated\ memory."{}});}
\DoxyCodeLine{00845\ \ \ \ \ \}}
\DoxyCodeLine{00846\ \ \ \ \ \textcolor{keywordflow}{while}\ (pIndices\ !=\ indicesEnd)\ \{}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a1f54f97c08c6fad07c37ecdba6aad1ca}{indicesType}})\ \{}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8dc005c1eca4f6f6b27f0f4472f4dbac}{ComponentType\_UNSIGNED\_BYTE}}:}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ *pIndices;}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8c5290cf280f6081f092b18f01666e63}{ComponentType\_UNSIGNED\_SHORT}}:}
\DoxyCodeLine{00853\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ *\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a32fb567579d9a01528a96c60d962cdc6}{uint16\_t}}\ *\textcolor{keyword}{>}(pIndices);}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a2073bc8b3528c023dcf8cb4e77d7c1cf}{ComponentType\_UNSIGNED\_INT}}:}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ *\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}\ *\textcolor{keyword}{>}(pIndices);}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00858\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ have\ fun\ with\ float\ and\ negative\ values\ from\ signed\ types\ as\ indices.}}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}Unsupported\ component\ type\ in\ index."{}});}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00862\ }
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ *=\ elementSize;}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ +\ elementSize\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6d89c56b834934d54da07fe60cd271e5}{data}}.size())\ \{}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}Invalid\ sparse\ accessor.\ Byte\ offset\ for\ patching\ points\ outside\ allocated\ memory."{}});}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ std::memcpy(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse_a6d89c56b834934d54da07fe60cd271e5}{data}}.data()\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}},\ pValues,\ elementSize);}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ pValues\ +=\ elementSize;}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ pIndices\ +=\ indexSize;}
\DoxyCodeLine{00873\ \ \ \ \ \}}
\DoxyCodeLine{00874\ \}}
\DoxyCodeLine{00875\ }
\DoxyCodeLine{00876\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_ad08de15555a37e5a0e4253ce285dd584}{Accessor::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{00877\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *bufferViewVal\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}bufferView"{}}))\ \{}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Retrieve(bufferViewVal-\/>GetUint());}
\DoxyCodeLine{00879\ \ \ \ \ \}}
\DoxyCodeLine{00880\ }
\DoxyCodeLine{00881\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}byteOffset"{}},\ \textcolor{keywordtype}{size\_t}(0));}
\DoxyCodeLine{00882\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7e3b6cdb6b071ea1b5e92e2825c78cdc}{componentType}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}componentType"{}},\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8bffc0a491be3cdb859ac512c193eb6d}{ComponentType\_BYTE}});}
\DoxyCodeLine{00883\ \ \ \ \ \{}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_value}{Value}}\ *countValue\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}count"{}});}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!countValue)\ \{}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}A\ count\ value\ is\ required,\ when\ reading\ "{}},\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.empty()\ ?\ \textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}\ ("{}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}}\ =\ countValue-\/>GetUint();}
\DoxyCodeLine{00889\ \ \ \ \ \}}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *typestr;}
\DoxyCodeLine{00892\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a3ac4417359eb7595ce6b48243240702d}{type}}\ =\ ReadMember(obj,\ \textcolor{stringliteral}{"{}type"{}},\ typestr)\ ?\ \mbox{\hyperlink{classgl_t_f2_1_1_attrib_type_a69eb88ff342469a7c1857d3a174f19e4}{AttribType::FromString}}(typestr)\ :\ \mbox{\hyperlink{classgl_t_f2_1_1_attrib_type_ab44309f14fbb4082ccd858a732fc353aaaadf200404dc0daa1c1f790bd6476fd6}{AttribType::SCALAR}};}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}})\ \{}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ length}}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ byteLength\ =\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a3c7b35ad9dab18b8310343c201f7b27e}{long}})\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a53f6deec831b1fc4f91c851948c61e86}{GetBytesPerComponent}}()\ *\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a3c7b35ad9dab18b8310343c201f7b27e}{long}})\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}};}
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00898\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ handle\ integer\ overflow}}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (byteLength\ <\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}})\ \{}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Accessor\ with\ offset/count\ ("{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}},\ \textcolor{stringliteral}{"{}/"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}},\ \textcolor{stringliteral}{"{})\ is\ out\ of\ range."{}});}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}}\ +\ byteLength)\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteLength\ ||\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteOffset\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}}\ +\ byteLength)\ >\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>byteLength)\ \{}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Accessor\ with\ offset/length\ ("{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}},\ \textcolor{stringliteral}{"{}/"{}},\ byteLength,\ \textcolor{stringliteral}{"{})\ is\ out\ of\ range."{}});}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00906\ \ \ \ \ \}}
\DoxyCodeLine{00907\ }
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *sparseValue\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(obj,\ \textcolor{stringliteral}{"{}sparse"{}}))\ \{}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}.reset(\textcolor{keyword}{new}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_1_1_sparse}{Sparse}});}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ count}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ ReadMember(*sparseValue,\ \textcolor{stringliteral}{"{}count"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>count);}
\DoxyCodeLine{00912\ }
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ indices}}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *indicesValue\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*sparseValue,\ \textcolor{stringliteral}{"{}indices"{}}))\ \{}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//indices\ bufferView}}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *indiceViewID\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*indicesValue,\ \textcolor{stringliteral}{"{}bufferView"{}});}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!indiceViewID)\ \{}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}A\ bufferView\ value\ is\ required,\ when\ reading\ "{}},\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.empty()\ ?\ \textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}\ ("{}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indices\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Retrieve(indiceViewID-\/>GetUint());}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//indices\ byteOffset}}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indicesByteOffset\ =\ MemberOrDefault(*indicesValue,\ \textcolor{stringliteral}{"{}byteOffset"{}},\ \textcolor{keywordtype}{size\_t}(0));}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//indices\ componentType}}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indicesType\ =\ MemberOrDefault(*indicesValue,\ \textcolor{stringliteral}{"{}componentType"{}},\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8bffc0a491be3cdb859ac512c193eb6d}{ComponentType\_BYTE}});}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//sparse-\/>indices-\/>Read(*indicesValue,\ r);}}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00927\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ indicesType}}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indicesType\ =\ MemberOrDefault(*sparseValue,\ \textcolor{stringliteral}{"{}componentType"{}},\ \mbox{\hyperlink{namespacegl_t_f2_a5d7a631555fc805282809bce2b7f1be6a8c5290cf280f6081f092b18f01666e63}{ComponentType\_UNSIGNED\_SHORT}});}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00930\ }
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ value}}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *valuesValue\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*sparseValue,\ \textcolor{stringliteral}{"{}values"{}}))\ \{}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//value\ bufferView}}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *valueViewID\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*valuesValue,\ \textcolor{stringliteral}{"{}bufferView"{}});}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!valueViewID)\ \{}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}A\ bufferView\ value\ is\ required,\ when\ reading\ "{}},\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.empty()\ ?\ \textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}\ ("{}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00937\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>values\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Retrieve(valueViewID-\/>GetUint());}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//value\ byteOffset}}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>valuesByteOffset\ =\ MemberOrDefault(*valuesValue,\ \textcolor{stringliteral}{"{}byteOffset"{}},\ \textcolor{keywordtype}{size\_t}(0));}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//sparse-\/>values-\/>Read(*valuesValue,\ r);}}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ }
\DoxyCodeLine{00945\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ elementSize\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{GetElementSize}}();}
\DoxyCodeLine{00946\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ dataSize\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}}\ *\ elementSize;}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}})\ \{}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bufferViewTailSize;}
\DoxyCodeLine{00949\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}*\ bufferViewPointer\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>GetPointerAndTailSize(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}},\ bufferViewTailSize);}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dataSize\ >\ bufferViewTailSize)\ \{}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}Invalid\ buffer\ when\ reading\ "{}},\ \textcolor{keywordtype}{id}.c\_str(),\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.empty()\ ?\ \textcolor{stringliteral}{"{}"{}}\ :\ \textcolor{stringliteral}{"{}\ ("{}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ +\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00952\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00953\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>PopulateData(dataSize,\ bufferViewPointer);}
\DoxyCodeLine{00954\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00955\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>PopulateData(dataSize,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00957\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>PatchData(elementSize);}
\DoxyCodeLine{00959\ \ \ \ \ \}}
\DoxyCodeLine{00960\ \}}
\DoxyCodeLine{00961\ }
\DoxyCodeLine{00962\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a8464dee96bd57d649bf95c4c71101925}{Accessor::GetNumComponents}}()\ \{}
\DoxyCodeLine{00963\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classgl_t_f2_1_1_attrib_type_a86988d7bb6834ab8124f2d72426078d3}{AttribType::GetNumComponents}}(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a3ac4417359eb7595ce6b48243240702d}{type}});}
\DoxyCodeLine{00964\ \}}
\DoxyCodeLine{00965\ }
\DoxyCodeLine{00966\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a53f6deec831b1fc4f91c851948c61e86}{Accessor::GetBytesPerComponent}}()\ \{}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a787fa3cf048117ba7123753c1e74fcd6}{int}}(\mbox{\hyperlink{namespacegl_t_f2_a0b29080817054fbdd77a3ac1e7919ba8}{ComponentTypeSize}}(\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7e3b6cdb6b071ea1b5e92e2825c78cdc}{componentType}}));}
\DoxyCodeLine{00968\ \}}
\DoxyCodeLine{00969\ }
\DoxyCodeLine{00970\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{Accessor::GetElementSize}}()\ \{}
\DoxyCodeLine{00971\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a8464dee96bd57d649bf95c4c71101925}{GetNumComponents}}()\ *\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a53f6deec831b1fc4f91c851948c61e86}{GetBytesPerComponent}}();}
\DoxyCodeLine{00972\ \}}
\DoxyCodeLine{00973\ }
\DoxyCodeLine{00974\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a52bd8600e69c51df2b56181897c70705}{Accessor::GetPointer}}()\ \{}
\DoxyCodeLine{00975\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac8ec3fe34d6d645921934ced5fa25259}{decodedBuffer}})}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac8ec3fe34d6d645921934ced5fa25259}{decodedBuffer}}-\/>GetPointer();}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}})}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>data.data();}
\DoxyCodeLine{00980\ }
\DoxyCodeLine{00981\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}\ ||\ !\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00982\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *basePtr\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>GetPointer();}
\DoxyCodeLine{00983\ \ \ \ \ \textcolor{keywordflow}{if}\ (!basePtr)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00984\ }
\DoxyCodeLine{00985\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteOffset;}
\DoxyCodeLine{00986\ }
\DoxyCodeLine{00987\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ region\ is\ encoded.}}
\DoxyCodeLine{00988\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>EncodedRegion\_Current\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ begin\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>EncodedRegion\_Current-\/>Offset;}
\DoxyCodeLine{00990\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ end\ =\ begin\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>EncodedRegion\_Current-\/>DecodedData\_Length;}
\DoxyCodeLine{00991\ }
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ >=\ begin)\ \&\&\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ <\ end))}
\DoxyCodeLine{00993\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>EncodedRegion\_Current-\/>DecodedData[\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ -\/\ begin];}
\DoxyCodeLine{00994\ \ \ \ \ \}}
\DoxyCodeLine{00995\ }
\DoxyCodeLine{00996\ \ \ \ \ \textcolor{keywordflow}{return}\ basePtr\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}};}
\DoxyCodeLine{00997\ \}}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a6cf6ad846a2e9b9a49c914c5c9f7f2c4}{Accessor::GetStride}}()\ \{}
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{comment}{//\ Decoded\ buffer\ is\ always\ packed}}
\DoxyCodeLine{01001\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac8ec3fe34d6d645921934ced5fa25259}{decodedBuffer}})}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{GetElementSize}}();}
\DoxyCodeLine{01003\ }
\DoxyCodeLine{01004\ \ \ \ \ \textcolor{comment}{//\ Sparse\ and\ normal\ bufferView}}
\DoxyCodeLine{01005\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}\ \&\&\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteStride\ ?\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteStride\ :\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{GetElementSize}}());}
\DoxyCodeLine{01006\ \}}
\DoxyCodeLine{01007\ }
\DoxyCodeLine{01008\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aaa8643d0fc2e0fa9d1ab72f2c338b101}{Accessor::GetMaxByteSize}}()\ \{}
\DoxyCodeLine{01009\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac8ec3fe34d6d645921934ced5fa25259}{decodedBuffer}})}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac8ec3fe34d6d645921934ced5fa25259}{decodedBuffer}}-\/>byteLength;}
\DoxyCodeLine{01011\ }
\DoxyCodeLine{01012\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}\ ?\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteLength\ :\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>data.size());}
\DoxyCodeLine{01013\ \}}
\DoxyCodeLine{01014\ }
\DoxyCodeLine{01015\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{01016\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_ac45bd6e36094eeb9574354d3732812ac}{Accessor::ExtractData}}(T\ *\&outData,\ \textcolor{keyword}{const}\ std::vector<unsigned\ int>\ *remappingIndices)\ \{}
\DoxyCodeLine{01017\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a52bd8600e69c51df2b56181897c70705}{GetPointer}}();}
\DoxyCodeLine{01018\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}})\ \{}
\DoxyCodeLine{01019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF2:\ data\ is\ null\ when\ extracting\ data\ from\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}));}
\DoxyCodeLine{01020\ \ \ \ \ \}}
\DoxyCodeLine{01021\ }
\DoxyCodeLine{01022\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ usedCount\ =\ (remappingIndices\ !=\ \textcolor{keyword}{nullptr})\ ?\ remappingIndices-\/>size()\ :\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}};}
\DoxyCodeLine{01023\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ elemSize\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{GetElementSize}}();}
\DoxyCodeLine{01024\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ totalSize\ =\ elemSize\ *\ usedCount;}
\DoxyCodeLine{01025\ }
\DoxyCodeLine{01026\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ stride\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a6cf6ad846a2e9b9a49c914c5c9f7f2c4}{GetStride}}();}
\DoxyCodeLine{01027\ }
\DoxyCodeLine{01028\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ targetElemSize\ =\ \textcolor{keyword}{sizeof}(T);}
\DoxyCodeLine{01029\ }
\DoxyCodeLine{01030\ \ \ \ \ \textcolor{keywordflow}{if}\ (elemSize\ >\ targetElemSize)\ \{}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ elemSize\ "{}},\ elemSize,\ \textcolor{stringliteral}{"{}\ >\ targetElemSize\ "{}},\ targetElemSize,\ \textcolor{stringliteral}{"{}\ in\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}));}
\DoxyCodeLine{01032\ \ \ \ \ \}}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ maxSize\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aaa8643d0fc2e0fa9d1ab72f2c338b101}{GetMaxByteSize}}();}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \ \ outData\ =\ \textcolor{keyword}{new}\ T[usedCount];}
\DoxyCodeLine{01037\ }
\DoxyCodeLine{01038\ \ \ \ \ \textcolor{keywordflow}{if}\ (remappingIndices\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ maxIndex\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\textcolor{keyword}{>}(maxSize\ /\ stride\ -\/\ 1);}
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ usedCount;\ ++i)\ \{}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ srcIdx\ =\ (*remappingIndices)[i];}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (srcIdx\ >\ maxIndex)\ \{}
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ index*stride\ "{}},\ (srcIdx\ *\ stride),\ \textcolor{stringliteral}{"{}\ >\ maxSize\ "{}},\ maxSize,\ \textcolor{stringliteral}{"{}\ in\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}));}
\DoxyCodeLine{01044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \ \ \ \ memcpy(outData\ +\ i,\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}}\ +\ srcIdx\ *\ stride,\ elemSize);}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01047\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ non-\/indexed\ cases}}
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (usedCount\ *\ stride\ >\ maxSize)\ \{}
\DoxyCodeLine{01049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ count*stride\ "{}},\ (usedCount\ *\ stride),\ \textcolor{stringliteral}{"{}\ >\ maxSize\ "{}},\ maxSize,\ \textcolor{stringliteral}{"{}\ in\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}));}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (stride\ ==\ elemSize\ \&\&\ targetElemSize\ ==\ elemSize)\ \{}
\DoxyCodeLine{01052\ \ \ \ \ \ \ \ \ \ \ \ \ memcpy(outData,\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ totalSize);}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ usedCount;\ ++i)\ \{}
\DoxyCodeLine{01055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ memcpy(outData\ +\ i,\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}}\ +\ i\ *\ stride,\ elemSize);}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01058\ \ \ \ \ \}}
\DoxyCodeLine{01059\ \ \ \ \ \textcolor{keywordflow}{return}\ usedCount;}
\DoxyCodeLine{01060\ \}}
\DoxyCodeLine{01061\ }
\DoxyCodeLine{01062\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a4e4e23170ae9820145a803dcd75803b0}{Accessor::WriteData}}(\textcolor{keywordtype}{size\_t}\ \_count,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *src\_buffer,\ \textcolor{keywordtype}{size\_t}\ src\_stride)\ \{}
\DoxyCodeLine{01063\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *buffer\_ptr\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>buffer-\/>GetPointer();}
\DoxyCodeLine{01064\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a7f3a9c727053b1d853a4ef25a40bced1}{byteOffset}}\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aa1f234336d034d3a7e95f0a951cf5e15}{bufferView}}-\/>byteOffset;}
\DoxyCodeLine{01065\ }
\DoxyCodeLine{01066\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ dst\_stride\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a8464dee96bd57d649bf95c4c71101925}{GetNumComponents}}()\ *\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a53f6deec831b1fc4f91c851948c61e86}{GetBytesPerComponent}}();}
\DoxyCodeLine{01067\ }
\DoxyCodeLine{01068\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *src\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(src\_buffer);}
\DoxyCodeLine{01069\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *dst\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(buffer\_ptr\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}});}
\DoxyCodeLine{01070\ }
\DoxyCodeLine{01071\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(dst\ +\ \_count\ *\ dst\_stride\ <=\ buffer\_ptr\ +\ bufferView-\/>buffer-\/>byteLength);}
\DoxyCodeLine{01072\ \ \ \ \ CopyData(\_count,\ src,\ src\_stride,\ dst,\ dst\_stride);}
\DoxyCodeLine{01073\ \}}
\DoxyCodeLine{01074\ }
\DoxyCodeLine{01075\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aac54fb055e481fef270b61560ef52233}{Accessor::WriteSparseValues}}(\textcolor{keywordtype}{size\_t}\ \_count,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *src\_data,\ \textcolor{keywordtype}{size\_t}\ src\_dataStride)\ \{}
\DoxyCodeLine{01076\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}})}
\DoxyCodeLine{01077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01078\ }
\DoxyCodeLine{01079\ \ \ \ \ \textcolor{comment}{//\ values}}
\DoxyCodeLine{01080\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *value\_buffer\_ptr\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>values-\/>buffer-\/>GetPointer();}
\DoxyCodeLine{01081\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ value\_offset\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>valuesByteOffset\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>values-\/>byteOffset;}
\DoxyCodeLine{01082\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ value\_dst\_stride\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a8464dee96bd57d649bf95c4c71101925}{GetNumComponents}}()\ *\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a53f6deec831b1fc4f91c851948c61e86}{GetBytesPerComponent}}();}
\DoxyCodeLine{01083\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *value\_src\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(src\_data);}
\DoxyCodeLine{01084\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *value\_dst\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(value\_buffer\_ptr\ +\ value\_offset);}
\DoxyCodeLine{01085\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(value\_dst\ +\ \_count\ *\ value\_dst\_stride\ <=\ value\_buffer\_ptr\ +\ sparse-\/>values-\/>buffer-\/>byteLength);}
\DoxyCodeLine{01086\ \ \ \ \ CopyData(\_count,\ value\_src,\ src\_dataStride,\ value\_dst,\ value\_dst\_stride);}
\DoxyCodeLine{01087\ \}}
\DoxyCodeLine{01088\ }
\DoxyCodeLine{01089\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_a1d7d65addc62d524554b3ba1a9754744}{Accessor::WriteSparseIndices}}(\textcolor{keywordtype}{size\_t}\ \_count,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *src\_idx,\ \textcolor{keywordtype}{size\_t}\ src\_idxStride)\ \{}
\DoxyCodeLine{01090\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}})}
\DoxyCodeLine{01091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01092\ }
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{comment}{//\ indices}}
\DoxyCodeLine{01094\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *indices\_buffer\_ptr\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indices-\/>buffer-\/>GetPointer();}
\DoxyCodeLine{01095\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ indices\_offset\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indicesByteOffset\ +\ \mbox{\hyperlink{structgl_t_f2_1_1_accessor_aadade627541b9af0a738d2c6e201585f}{sparse}}-\/>indices-\/>byteOffset;}
\DoxyCodeLine{01096\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ indices\_dst\_stride\ =\ 1\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned}\ short);}
\DoxyCodeLine{01097\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *indices\_src\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(src\_idx);}
\DoxyCodeLine{01098\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *indices\_dst\ =\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\textcolor{keyword}{>}(indices\_buffer\_ptr\ +\ indices\_offset);}
\DoxyCodeLine{01099\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(indices\_dst\ +\ \_count\ *\ indices\_dst\_stride\ <=\ indices\_buffer\_ptr\ +\ sparse-\/>indices-\/>buffer-\/>byteLength);}
\DoxyCodeLine{01100\ \ \ \ \ CopyData(\_count,\ indices\_src,\ src\_idxStride,\ indices\_dst,\ indices\_dst\_stride);}
\DoxyCodeLine{01101\ \}}
\DoxyCodeLine{01102\ }
\DoxyCodeLine{01103\ \textcolor{keyword}{inline}\ Accessor::Indexer::Indexer(\mbox{\hyperlink{structgl_t_f2_1_1_accessor}{Accessor}}\ \&acc)\ :}
\DoxyCodeLine{01104\ \ \ \ \ accessor(acc),}
\DoxyCodeLine{01105\ \ \ \ \ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}}(acc.\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a52bd8600e69c51df2b56181897c70705}{GetPointer}}()),}
\DoxyCodeLine{01106\ \ \ \ \ elemSize(acc.\mbox{\hyperlink{structgl_t_f2_1_1_accessor_acbe256bcfc1df1e963af1fd945ee951d}{GetElementSize}}()),}
\DoxyCodeLine{01107\ \ \ \ \ stride(acc.\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a6cf6ad846a2e9b9a49c914c5c9f7f2c4}{GetStride}}())\ \{}
\DoxyCodeLine{01108\ \}}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01111\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{01112\ T\ \mbox{\hyperlink{classgl_t_f2_1_1_accessor_1_1_indexer_a351996cd73a1a82824a248d899b6b2f4}{Accessor::Indexer::GetValue}}(\textcolor{keywordtype}{int}\ i)\ \{}
\DoxyCodeLine{01113\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2ai__assert_8h_a8cda16916af68d32c6add71ef3bb7af3}{ai\_assert}}(data);}
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ *\ stride\ >=\ \mbox{\hyperlink{classgl_t_f2_1_1_accessor_1_1_indexer_a94c4a6b0bab00f58ba9afdadfc9e780a}{accessor}}.GetMaxByteSize())\ \{}
\DoxyCodeLine{01115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ index\ "{}},\ i,\ \textcolor{stringliteral}{"{},\ count\ out\ of\ range\ for\ buffer\ with\ stride\ "{}},\ stride,\ \textcolor{stringliteral}{"{}\ and\ size\ "{}},\ \mbox{\hyperlink{classgl_t_f2_1_1_accessor_1_1_indexer_a94c4a6b0bab00f58ba9afdadfc9e780a}{accessor}}.GetMaxByteSize(),\ \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{01116\ \ \ \ \ \}}
\DoxyCodeLine{01117\ \ \ \ \ \textcolor{comment}{//\ Ensure\ that\ the\ memcpy\ doesn't\ overwrite\ the\ local.}}
\DoxyCodeLine{01118\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ sizeToCopy\ =\ std::min(elemSize,\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{01119\ \ \ \ \ T\ \mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}}\ =\ T();}
\DoxyCodeLine{01120\ \ \ \ \ \textcolor{comment}{//\ Assume\ platform\ endianness\ matches\ GLTF\ binary\ data\ (which\ is\ little-\/endian).}}
\DoxyCodeLine{01121\ \ \ \ \ memcpy(\&\mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\ data\ +\ i\ *\ stride,\ sizeToCopy);}
\DoxyCodeLine{01122\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{pointer_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}};}
\DoxyCodeLine{01123\ \}}
\DoxyCodeLine{01124\ }
\DoxyCodeLine{01125\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structgl_t_f2_1_1_image_ab6c64d126cc73e26656e014268d57f01}{Image::Image}}()\ :}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_a0a254309c3abd6be8f6a0d45047c2bfb}{width}}(0),}
\DoxyCodeLine{01127\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_acdbf3576d97c145e2a689921bcd43d81}{height}}(0),}
\DoxyCodeLine{01128\ \ \ \ \ \ \ \ \ mDataLength(0)\ \{}
\DoxyCodeLine{01129\ \}}
\DoxyCodeLine{01130\ }
\DoxyCodeLine{01131\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_image_ad6286aa4939612542a91e25cbb95ab8d}{Image::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01132\ \ \ \ \ \textcolor{comment}{//basisu:\ no\ need\ to\ handle\ .ktx2,\ .basis,\ load\ as\ is}}
\DoxyCodeLine{01133\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mDataLength)\ \{}
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curUri\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(obj,\ \textcolor{stringliteral}{"{}uri"{}});}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curUri)\ \{}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *uristr\ =\ curUri-\/>GetString();}
\DoxyCodeLine{01137\ }
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i}{glTFCommon::Util::DataURI}}\ dataURI;}
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ParseDataURI(uristr,\ curUri-\/>GetStringLength(),\ dataURI))\ \{}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_ac24af71f86f9b3afea3ae094f1c1e4fd}{mimeType}}\ =\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a5c90535e4b04378eec9d43a136f6c70f}{mediaType}};}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a6ee33d11f41fd66be4b050360674790e}{base64}})\ \{}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *ptr\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mDataLength\ =\ \mbox{\hyperlink{namespace_assimp_1_1_base64_a2010870026463f4fd8d73b4e15d831ae}{Base64::Decode}}(dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_a61ced58e2594f195696576e33e503a4e}{data}},\ dataURI.\mbox{\hyperlink{structgl_t_f_common_1_1_util_1_1_data_u_r_i_adf4fbde42b89d1129821c5235b42225d}{dataLength}},\ ptr);}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mData.reset(ptr);}
\DoxyCodeLine{01145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_a1491c77458aba41c6d1ba1c6ce10a20a}{uri}}\ =\ uristr;}
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *bufferViewVal\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}bufferView"{}}))\ \{}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Retrieve(bufferViewVal-\/>GetUint());}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *mtype\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(obj,\ \textcolor{stringliteral}{"{}mimeType"{}}))\ \{}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_ac24af71f86f9b3afea3ae094f1c1e4fd}{mimeType}}\ =\ mtype-\/>GetString();}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}\ ||\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_ac24af71f86f9b3afea3ae094f1c1e4fd}{mimeType}}.empty())\ \{}
\DoxyCodeLine{01155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF2:\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}),\ \textcolor{stringliteral}{"{}\ does\ not\ have\ a\ URI,\ so\ it\ must\ have\ a\ valid\ bufferView\ and\ mimetype"{}});}
\DoxyCodeLine{01156\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01157\ }
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Buffer>}}\ buffer\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}-\/>buffer;}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>mDataLength\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}-\/>byteLength;}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ maybe\ this\ memcpy\ could\ be\ avoided\ if\ aiTexture\ does\ not\ delete[]\ pcData\ at\ destruction.}}
\DoxyCodeLine{01162\ }
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>mData.reset(\textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[this-\/>mDataLength]);}
\DoxyCodeLine{01164\ \ \ \ \ \ \ \ \ \ \ \ \ memcpy(this-\/>mData.get(),\ buffer-\/>GetPointer()\ +\ this-\/>bufferView-\/>byteOffset,\ this-\/>mDataLength);}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF2:\ "{}},\ \mbox{\hyperlink{namespacegl_t_f2_ab6fc511f4b3ece19097893f89ce0e05f}{getContextForErrorMessages}}(\textcolor{keywordtype}{id},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}),\ \textcolor{stringliteral}{"{}\ should\ have\ either\ a\ URI\ of\ a\ bufferView\ and\ mimetype"{}});}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01168\ \ \ \ \ \}}
\DoxyCodeLine{01169\ \}}
\DoxyCodeLine{01170\ }
\DoxyCodeLine{01171\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{structgl_t_f2_1_1_image_a61f3c4b29bbfa44344655e627e4ea82d}{Image::StealData}}()\ \{}
\DoxyCodeLine{01172\ \ \ \ \ mDataLength\ =\ 0;}
\DoxyCodeLine{01173\ \ \ \ \ \textcolor{keywordflow}{return}\ mData.release();}
\DoxyCodeLine{01174\ \}}
\DoxyCodeLine{01175\ }
\DoxyCodeLine{01176\ \textcolor{comment}{//\ Never\ take\ over\ the\ ownership\ of\ data\ whenever\ binary\ or\ not}}
\DoxyCodeLine{01177\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_image_abc75936f0bf06da6dc6a3c35b9207af2}{Image::SetData}}(\mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ \textcolor{keywordtype}{size\_t}\ length,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01178\ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Buffer>}}\ b\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a729caf822bea1f7f0d9df5b0a1d2c219}{GetBodyBuffer}}();}
\DoxyCodeLine{01179\ \ \ \ \ \textcolor{keywordflow}{if}\ (b)\ \{\ \textcolor{comment}{//\ binary\ file:\ append\ to\ body}}
\DoxyCodeLine{01180\ \ \ \ \ \ \ \ \ std::string\ bvId\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_af50cc41ccf4373727fb68d7248774771}{FindUniqueID}}(this-\/>\textcolor{keywordtype}{id},\ \textcolor{stringliteral}{"{}imgdata"{}});}
\DoxyCodeLine{01181\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Create(bvId);}
\DoxyCodeLine{01182\ }
\DoxyCodeLine{01183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}-\/>buffer\ =\ b;}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}-\/>byteLength\ =\ length;}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_image_a3027d0e2e16e57592bf3fbbc9ac340cd}{bufferView}}-\/>byteOffset\ =\ b-\/>AppendData(\mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ length);}
\DoxyCodeLine{01186\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ text\ file:\ will\ be\ stored\ as\ a\ data\ uri}}
\DoxyCodeLine{01187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}\ *temp\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a3b92b71d545861a454609c69bc062261}{uint8\_t}}[length];}
\DoxyCodeLine{01188\ \ \ \ \ \ \ \ \ memcpy(temp,\ \mbox{\hyperlink{ut_default_i_o_stream_8cpp_ac89b5786f65419c30c7a97e2d5c40fe9}{data}},\ length);}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ this-\/>mData.reset(temp);}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ this-\/>mDataLength\ =\ length;}
\DoxyCodeLine{01191\ \ \ \ \ \}}
\DoxyCodeLine{01192\ \}}
\DoxyCodeLine{01193\ }
\DoxyCodeLine{01194\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a26489b6548c58051c13f0f24abddcdbe}{Sampler::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&\ \textcolor{comment}{/*r*/})\ \{}
\DoxyCodeLine{01195\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a0ccf59eee9524a78d3652ec16a628061}{SetDefaults}}();}
\DoxyCodeLine{01196\ }
\DoxyCodeLine{01197\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}name"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}});}
\DoxyCodeLine{01198\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}magFilter"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a8447fc1f973b8764f3d9ae73a8833d4d}{magFilter}});}
\DoxyCodeLine{01199\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}minFilter"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a7b949ac015c64e62324f6c91534fc011}{minFilter}});}
\DoxyCodeLine{01200\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}wrapS"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a97cd6e9c557682945b47afe4ebbe7eb9}{wrapS}});}
\DoxyCodeLine{01201\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}wrapT"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_ac46a363c157896427761c2340aee39dc}{wrapT}});}
\DoxyCodeLine{01202\ \}}
\DoxyCodeLine{01203\ }
\DoxyCodeLine{01204\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a0ccf59eee9524a78d3652ec16a628061}{Sampler::SetDefaults}}()\ \{}
\DoxyCodeLine{01205\ \ \ \ \ \textcolor{comment}{//only\ wrapping\ modes\ have\ defaults}}
\DoxyCodeLine{01206\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a97cd6e9c557682945b47afe4ebbe7eb9}{wrapS}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a553ce3165e319d74eeb04ca5eb35224ea7020426cfb0a204051be4b3053d2acc8}{SamplerWrap::Repeat}};}
\DoxyCodeLine{01207\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_ac46a363c157896427761c2340aee39dc}{wrapT}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a553ce3165e319d74eeb04ca5eb35224ea7020426cfb0a204051be4b3053d2acc8}{SamplerWrap::Repeat}};}
\DoxyCodeLine{01208\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a8447fc1f973b8764f3d9ae73a8833d4d}{magFilter}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_ae4403252abdba6e3741ea68d4dea9c16a666a87025ab0d8965e221050c8948001}{SamplerMagFilter::UNSET}};}
\DoxyCodeLine{01209\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_sampler_a7b949ac015c64e62324f6c91534fc011}{minFilter}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_aac39ef4340da7cc29a237a18a57df9e9a666a87025ab0d8965e221050c8948001}{SamplerMinFilter::UNSET}};}
\DoxyCodeLine{01210\ \}}
\DoxyCodeLine{01211\ }
\DoxyCodeLine{01212\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_texture_a2de5b29e7f25805519e94f5407f3c87d}{Texture::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01213\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *sourceVal\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}source"{}}))\ \{}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_texture_aee38c3d475a84a2a9b4309c696f71e67}{source}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a6d5d7e401a9fa42c515720a46d3471ab}{images}}.Retrieve(sourceVal-\/>GetUint());}
\DoxyCodeLine{01215\ \ \ \ \ \}}
\DoxyCodeLine{01216\ }
\DoxyCodeLine{01217\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *samplerVal\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}sampler"{}}))\ \{}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_texture_a3f20c231895ef95b9d8613d80e203396}{sampler}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a11b895315d9cf114f39985ba79639f66}{samplers}}.Retrieve(samplerVal-\/>GetUint());}
\DoxyCodeLine{01219\ \ \ \ \ \}}
\DoxyCodeLine{01220\ \}}
\DoxyCodeLine{01221\ }
\DoxyCodeLine{01222\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa2f413acd6a11ade44f158f4b2f2e401}{Material::SetTextureProperties}}(\mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r,\ \mbox{\hyperlink{class_value}{Value}}\ *prop,\ \mbox{\hyperlink{structgl_t_f2_1_1_texture_info}{TextureInfo}}\ \&\mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}})\ \{}
\DoxyCodeLine{01223\ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_a32b58187e38fee1d752616983867efa2}{KHR\_texture\_transform}})\ \{}
\DoxyCodeLine{01224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *pKHR\_texture\_transform\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a134b928e19a34e99bd9ad77da72c9664}{FindExtension}}(*prop,\ \textcolor{stringliteral}{"{}KHR\_texture\_transform"{}}))\ \{}
\DoxyCodeLine{01225\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.textureTransformSupported\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01226\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *array\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(*pKHR\_texture\_transform,\ \textcolor{stringliteral}{"{}offset"{}}))\ \{}
\DoxyCodeLine{01227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.offset[0]\ =\ (*array)[0].GetFloat();}
\DoxyCodeLine{01228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.offset[1]\ =\ (*array)[1].GetFloat();}
\DoxyCodeLine{01229\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.offset[0]\ =\ 0;}
\DoxyCodeLine{01231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.offset[1]\ =\ 0;}
\DoxyCodeLine{01232\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01233\ }
\DoxyCodeLine{01234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!ReadMember(*pKHR\_texture\_transform,\ \textcolor{stringliteral}{"{}rotation"{}},\ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.rotation))\ \{}
\DoxyCodeLine{01235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.rotation\ =\ 0;}
\DoxyCodeLine{01236\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01237\ }
\DoxyCodeLine{01238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *array\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(*pKHR\_texture\_transform,\ \textcolor{stringliteral}{"{}scale"{}}))\ \{}
\DoxyCodeLine{01239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.scale[0]\ =\ (*array)[0].GetFloat();}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.scale[1]\ =\ (*array)[1].GetFloat();}
\DoxyCodeLine{01241\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.scale[0]\ =\ 1;}
\DoxyCodeLine{01243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.TextureTransformExt\_t.scale[1]\ =\ 1;}
\DoxyCodeLine{01244\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01246\ \ \ \ \ \}}
\DoxyCodeLine{01247\ }
\DoxyCodeLine{01248\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *indexProp\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*prop,\ \textcolor{stringliteral}{"{}index"{}}))\ \{}
\DoxyCodeLine{01249\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.texture\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a0839bb08afd034f769a2bc404e16f34f}{textures}}.Retrieve(indexProp-\/>GetUint());}
\DoxyCodeLine{01250\ \ \ \ \ \}}
\DoxyCodeLine{01251\ }
\DoxyCodeLine{01252\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *texcoord\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*prop,\ \textcolor{stringliteral}{"{}texCoord"{}}))\ \{}
\DoxyCodeLine{01253\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.texCoord\ =\ texcoord-\/>GetUint();}
\DoxyCodeLine{01254\ \ \ \ \ \}}
\DoxyCodeLine{01255\ \}}
\DoxyCodeLine{01256\ }
\DoxyCodeLine{01257\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{Material::ReadTextureProperty}}(\mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r,\ \mbox{\hyperlink{class_value}{Value}}\ \&vals,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *propName,\ \mbox{\hyperlink{structgl_t_f2_1_1_texture_info}{TextureInfo}}\ \&\mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}})\ \{}
\DoxyCodeLine{01258\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *prop\ =\ \mbox{\hyperlink{namespacegl_t_f2_ae42c62866e5b3361c3c2f5d03e013dbb}{FindMember}}(vals,\ propName))\ \{}
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa2f413acd6a11ade44f158f4b2f2e401}{SetTextureProperties}}(r,\ prop,\ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}});}
\DoxyCodeLine{01260\ \ \ \ \ \}}
\DoxyCodeLine{01261\ \}}
\DoxyCodeLine{01262\ }
\DoxyCodeLine{01263\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{Material::ReadTextureProperty}}(\mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r,\ \mbox{\hyperlink{class_value}{Value}}\ \&vals,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *propName,\ \mbox{\hyperlink{structgl_t_f2_1_1_normal_texture_info}{NormalTextureInfo}}\ \&\mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}})\ \{}
\DoxyCodeLine{01264\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *prop\ =\ \mbox{\hyperlink{namespacegl_t_f2_ae42c62866e5b3361c3c2f5d03e013dbb}{FindMember}}(vals,\ propName))\ \{}
\DoxyCodeLine{01265\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa2f413acd6a11ade44f158f4b2f2e401}{SetTextureProperties}}(r,\ prop,\ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}});}
\DoxyCodeLine{01266\ }
\DoxyCodeLine{01267\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *scale\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a4758bfa7973a678a7ed82b9da7bb052b}{FindNumber}}(*prop,\ \textcolor{stringliteral}{"{}scale"{}}))\ \{}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.scale\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(scale-\/>GetDouble());}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01270\ \ \ \ \ \}}
\DoxyCodeLine{01271\ \}}
\DoxyCodeLine{01272\ }
\DoxyCodeLine{01273\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{Material::ReadTextureProperty}}(\mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r,\ \mbox{\hyperlink{class_value}{Value}}\ \&vals,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *propName,\ \mbox{\hyperlink{structgl_t_f2_1_1_occlusion_texture_info}{OcclusionTextureInfo}}\ \&\mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}})\ \{}
\DoxyCodeLine{01274\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *prop\ =\ \mbox{\hyperlink{namespacegl_t_f2_ae42c62866e5b3361c3c2f5d03e013dbb}{FindMember}}(vals,\ propName))\ \{}
\DoxyCodeLine{01275\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa2f413acd6a11ade44f158f4b2f2e401}{SetTextureProperties}}(r,\ prop,\ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}});}
\DoxyCodeLine{01276\ }
\DoxyCodeLine{01277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *strength\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a4758bfa7973a678a7ed82b9da7bb052b}{FindNumber}}(*prop,\ \textcolor{stringliteral}{"{}strength"{}}))\ \{}
\DoxyCodeLine{01278\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_write_dump_8cpp_a1277960b5f2b37137fe9b0b5a1ea0beb}{out}}.strength\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(strength-\/>GetDouble());}
\DoxyCodeLine{01279\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01280\ \ \ \ \ \}}
\DoxyCodeLine{01281\ \}}
\DoxyCodeLine{01282\ }
\DoxyCodeLine{01283\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_ae562cd2b6fb2da9a4adc869fefe4406a}{Material::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&material,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01284\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_a27efd70700449d6be2db3b6fa8c0e3a1}{SetDefaults}}();}
\DoxyCodeLine{01285\ }
\DoxyCodeLine{01286\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curPbrMetallicRoughness\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(material,\ \textcolor{stringliteral}{"{}pbrMetallicRoughness"{}}))\ \{}
\DoxyCodeLine{01287\ \ \ \ \ \ \ \ \ ReadMember(*curPbrMetallicRoughness,\ \textcolor{stringliteral}{"{}baseColorFactor"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.baseColorFactor);}
\DoxyCodeLine{01288\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curPbrMetallicRoughness,\ \textcolor{stringliteral}{"{}baseColorTexture"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.baseColorTexture);}
\DoxyCodeLine{01289\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curPbrMetallicRoughness,\ \textcolor{stringliteral}{"{}metallicRoughnessTexture"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.metallicRoughnessTexture);}
\DoxyCodeLine{01290\ \ \ \ \ \ \ \ \ ReadMember(*curPbrMetallicRoughness,\ \textcolor{stringliteral}{"{}metallicFactor"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.metallicFactor);}
\DoxyCodeLine{01291\ \ \ \ \ \ \ \ \ ReadMember(*curPbrMetallicRoughness,\ \textcolor{stringliteral}{"{}roughnessFactor"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.roughnessFactor);}
\DoxyCodeLine{01292\ \ \ \ \ \}}
\DoxyCodeLine{01293\ }
\DoxyCodeLine{01294\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ material,\ \textcolor{stringliteral}{"{}normalTexture"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a273b49b5599485aeeff8d40f6b229eb5}{normalTexture}});}
\DoxyCodeLine{01295\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ material,\ \textcolor{stringliteral}{"{}occlusionTexture"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_abeecebbc5fd75415c4384dba6f3c3fe0}{occlusionTexture}});}
\DoxyCodeLine{01296\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ material,\ \textcolor{stringliteral}{"{}emissiveTexture"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a31a7646c9c2f6e9aa99ce1613f3395e0}{emissiveTexture}});}
\DoxyCodeLine{01297\ \ \ \ \ ReadMember(material,\ \textcolor{stringliteral}{"{}emissiveFactor"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_ab4fe712bf2bf8f239db38401d3fd5b78}{emissiveFactor}});}
\DoxyCodeLine{01298\ }
\DoxyCodeLine{01299\ \ \ \ \ ReadMember(material,\ \textcolor{stringliteral}{"{}doubleSided"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_ae8efc14e9f42375eb4a7608426e9491f}{doubleSided}});}
\DoxyCodeLine{01300\ \ \ \ \ ReadMember(material,\ \textcolor{stringliteral}{"{}alphaMode"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_aebed2b890951764b50edb737039579b4}{alphaMode}});}
\DoxyCodeLine{01301\ \ \ \ \ ReadMember(material,\ \textcolor{stringliteral}{"{}alphaCutoff"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_ad5e745212d7635eb0b0433aaa0d407bd}{alphaCutoff}});}
\DoxyCodeLine{01302\ }
\DoxyCodeLine{01303\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *extensions\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(material,\ \textcolor{stringliteral}{"{}extensions"{}}))\ \{}
\DoxyCodeLine{01304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_aaee8e6ee8a25edb3fcf9e3a37c55a9b6}{KHR\_materials\_pbrSpecularGlossiness}})\ \{}
\DoxyCodeLine{01305\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curPbrSpecularGlossiness\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_pbrSpecularGlossiness"{}}))\ \{}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness}{PbrSpecularGlossiness}}\ pbrSG;}
\DoxyCodeLine{01307\ }
\DoxyCodeLine{01308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curPbrSpecularGlossiness,\ \textcolor{stringliteral}{"{}diffuseFactor"{}},\ pbrSG.\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a874fa9081020e0b9c93fdaf6891f356e}{diffuseFactor}});}
\DoxyCodeLine{01309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curPbrSpecularGlossiness,\ \textcolor{stringliteral}{"{}diffuseTexture"{}},\ pbrSG.\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a25018d29cdce977dc94c7ffaaaef3362}{diffuseTexture}});}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curPbrSpecularGlossiness,\ \textcolor{stringliteral}{"{}specularGlossinessTexture"{}},\ pbrSG.\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a47e18c886940511c858c25cadb84903a}{specularGlossinessTexture}});}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curPbrSpecularGlossiness,\ \textcolor{stringliteral}{"{}specularFactor"{}},\ pbrSG.\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a1fcd1e465a841b5fd0b9ffb95b3896a7}{specularFactor}});}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curPbrSpecularGlossiness,\ \textcolor{stringliteral}{"{}glossinessFactor"{}},\ pbrSG.\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a99acc27bbf330cb47138740425d07e90}{glossinessFactor}});}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a55f9334930951a97fa3b5dfc7dccc46d}{pbrSpecularGlossiness}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<PbrSpecularGlossiness>}}(pbrSG);}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01317\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_a2d8cafd92b29416198075491d1bab70d}{KHR\_materials\_specular}})\ \{}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMatSpecular\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_specular"{}}))\ \{}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_specular}{MaterialSpecular}}\ specular;}
\DoxyCodeLine{01321\ }
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMatSpecular,\ \textcolor{stringliteral}{"{}specularFactor"{}},\ specular.\mbox{\hyperlink{structgl_t_f2_1_1_material_specular_a4678c40e03d6d1a75cc1840a4839fbc9}{specularFactor}});}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMatSpecular,\ \textcolor{stringliteral}{"{}specularTexture"{}},\ specular.\mbox{\hyperlink{structgl_t_f2_1_1_material_specular_a2d5d6310e16556bf37034428531c3992}{specularTexture}});}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMatSpecular,\ \textcolor{stringliteral}{"{}specularColorFactor"{}},\ specular.\mbox{\hyperlink{structgl_t_f2_1_1_material_specular_a162bd2baf29c9a0d600a102a153bf761}{specularColorFactor}});}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMatSpecular,\ \textcolor{stringliteral}{"{}specularColorTexture"{}},\ specular.\mbox{\hyperlink{structgl_t_f2_1_1_material_specular_af0f7782f176a211d0f10c00d39a9bd54}{specularColorTexture}});}
\DoxyCodeLine{01326\ }
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a091328a77872b2f7ffbd35c7f06862c6}{materialSpecular}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialSpecular>}}(specular);}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01330\ }
\DoxyCodeLine{01331\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extension\ KHR\_texture\_transform\ is\ handled\ in\ ReadTextureProperty}}
\DoxyCodeLine{01332\ }
\DoxyCodeLine{01333\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_ab6a0a934d48153b7df9dc0c127d23f9a}{KHR\_materials\_sheen}})\ \{}
\DoxyCodeLine{01334\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialSheen\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_sheen"{}}))\ \{}
\DoxyCodeLine{01335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_sheen}{MaterialSheen}}\ sheen;}
\DoxyCodeLine{01336\ }
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialSheen,\ \textcolor{stringliteral}{"{}sheenColorFactor"{}},\ sheen.\mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_a9a073b571790f0920cd11e060113906a}{sheenColorFactor}});}
\DoxyCodeLine{01338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialSheen,\ \textcolor{stringliteral}{"{}sheenColorTexture"{}},\ sheen.\mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_a78ce39bb31d777657579612689b56dad}{sheenColorTexture}});}
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialSheen,\ \textcolor{stringliteral}{"{}sheenRoughnessFactor"{}},\ sheen.\mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_a9c62210bb7ff5a81663718088805946b}{sheenRoughnessFactor}});}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialSheen,\ \textcolor{stringliteral}{"{}sheenRoughnessTexture"{}},\ sheen.\mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_af27c14002fe4229774c246fe85bc2884}{sheenRoughnessTexture}});}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_aa68feaabcedecc60c2690f799d98f695}{materialSheen}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialSheen>}}(sheen);}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01345\ }
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_aee9dc1aeb6ae083a1019fa2cc80959cf}{KHR\_materials\_clearcoat}})\ \{}
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialClearcoat\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_clearcoat"{}}))\ \{}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat}{MaterialClearcoat}}\ clearcoat;}
\DoxyCodeLine{01349\ }
\DoxyCodeLine{01350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialClearcoat,\ \textcolor{stringliteral}{"{}clearcoatFactor"{}},\ clearcoat.\mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat_a18a01eccd944e50be115829b26b0b32c}{clearcoatFactor}});}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialClearcoat,\ \textcolor{stringliteral}{"{}clearcoatTexture"{}},\ clearcoat.\mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat_aa67547455a617499c5ef5aa11304a344}{clearcoatTexture}});}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialClearcoat,\ \textcolor{stringliteral}{"{}clearcoatRoughnessFactor"{}},\ clearcoat.\mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat_afa711e5af10717ddd24c8791787b24a8}{clearcoatRoughnessFactor}});}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialClearcoat,\ \textcolor{stringliteral}{"{}clearcoatRoughnessTexture"{}},\ clearcoat.\mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat_a30ef1ba6900f9af2445f065559b4d505}{clearcoatRoughnessTexture}});}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialClearcoat,\ \textcolor{stringliteral}{"{}clearcoatNormalTexture"{}},\ clearcoat.\mbox{\hyperlink{structgl_t_f2_1_1_material_clearcoat_a6b7ebc981a39d3939fdaa53ef5647b41}{clearcoatNormalTexture}});}
\DoxyCodeLine{01355\ }
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_abf671b7503209c70c17991a103f113c2}{materialClearcoat}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialClearcoat>}}(clearcoat);}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01358\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01359\ }
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_a469c991e92b92c6fcc10c726cb477300}{KHR\_materials\_transmission}})\ \{}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialTransmission\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_transmission"{}}))\ \{}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_transmission}{MaterialTransmission}}\ transmission;}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialTransmission,\ \textcolor{stringliteral}{"{}transmissionFactor"{}},\ transmission.\mbox{\hyperlink{structgl_t_f2_1_1_material_transmission_a0f70c925d291ca11c3484126b249ebb2}{transmissionFactor}});}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialTransmission,\ \textcolor{stringliteral}{"{}transmissionTexture"{}},\ transmission.\mbox{\hyperlink{structgl_t_f2_1_1_material_transmission_a211605be1e8c3cb9b62c0d8a1292b4d0}{transmissionTexture}});}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_afea5c4b5dc5473fc9eaa508675933f4c}{materialTransmission}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialTransmission>}}(transmission);}
\DoxyCodeLine{01368\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01370\ }
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_ad33eaa49d50f82ce05234f09cc2b9300}{KHR\_materials\_volume}})\ \{}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialVolume\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_volume"{}}))\ \{}
\DoxyCodeLine{01373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_volume}{MaterialVolume}}\ volume;}
\DoxyCodeLine{01374\ }
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialVolume,\ \textcolor{stringliteral}{"{}thicknessFactor"{}},\ volume.\mbox{\hyperlink{structgl_t_f2_1_1_material_volume_ab29e014831e634c720680554319e9edb}{thicknessFactor}});}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aa7099c6f0dd1249c9a80862c8463ec10}{ReadTextureProperty}}(r,\ *curMaterialVolume,\ \textcolor{stringliteral}{"{}thicknessTexture"{}},\ volume.\mbox{\hyperlink{structgl_t_f2_1_1_material_volume_a8ee39ffad33f36f86976b377aa459462}{thicknessTexture}});}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialVolume,\ \textcolor{stringliteral}{"{}attenuationDistance"{}},\ volume.\mbox{\hyperlink{structgl_t_f2_1_1_material_volume_aa2af1da93e4a3c5243ada6b93a794acd}{attenuationDistance}});}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialVolume,\ \textcolor{stringliteral}{"{}attenuationColor"{}},\ volume.\mbox{\hyperlink{structgl_t_f2_1_1_material_volume_a98acb9c82940216b78a1f96785f8842c}{attenuationColor}});}
\DoxyCodeLine{01379\ }
\DoxyCodeLine{01380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_ade5104bb621a21375341b3b9aae025c8}{materialVolume}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialVolume>}}(volume);}
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01383\ }
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_ab90d669c0726ecdd532e3238f8a931d4}{KHR\_materials\_ior}})\ \{}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialIOR\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_ior"{}}))\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_i_o_r}{MaterialIOR}}\ ior;}
\DoxyCodeLine{01387\ }
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialIOR,\ \textcolor{stringliteral}{"{}ior"{}},\ ior.\mbox{\hyperlink{structgl_t_f2_1_1_material_i_o_r_ada9f62e3df064bbd02622cffbc6cd758}{ior}});}
\DoxyCodeLine{01389\ }
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a4f01fb37e65579bdaaa5cd0e808180b7}{materialIOR}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialIOR>}}(ior);}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01393\ }
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_a3d64ad6854f417b2091064df095dcd2d}{KHR\_materials\_emissive\_strength}})\ \{}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curMaterialEmissiveStrength\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_emissive\_strength"{}}))\ \{}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_emissive_strength}{MaterialEmissiveStrength}}\ emissiveStrength;}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curMaterialEmissiveStrength,\ \textcolor{stringliteral}{"{}emissiveStrength"{}},\ emissiveStrength.\mbox{\hyperlink{structgl_t_f2_1_1_material_emissive_strength_a7c64ed363a6880eb0d145fef1ac22b10}{emissiveStrength}});}
\DoxyCodeLine{01399\ }
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_material_a5d74daa1a3f6977f61c94b1bf7ab9f9b}{materialEmissiveStrength}}\ =\ \mbox{\hyperlink{structgl_t_f_common_1_1_nullable}{Nullable<MaterialEmissiveStrength>}}(emissiveStrength);}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_a0288e3f426f4e9ccd7ae754229a8c02e}{unlit}}\ =\ \textcolor{keyword}{nullptr}\ !=\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*extensions,\ \textcolor{stringliteral}{"{}KHR\_materials\_unlit"{}});}
\DoxyCodeLine{01405\ \ \ \ \ \}}
\DoxyCodeLine{01406\ \}}
\DoxyCodeLine{01407\ }
\DoxyCodeLine{01408\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_a27efd70700449d6be2db3b6fa8c0e3a1}{Material::SetDefaults}}()\ \{}
\DoxyCodeLine{01409\ \ \ \ \ \textcolor{comment}{//pbr\ materials}}
\DoxyCodeLine{01410\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.baseColorFactor,\ \mbox{\hyperlink{namespacegl_t_f2_aa106e33fe7eae9868f2937602f434085}{defaultBaseColor}});}
\DoxyCodeLine{01411\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.metallicFactor\ =\ 1.0f;}
\DoxyCodeLine{01412\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_a42cb42f87dc57e3e61120673c93ff4e5}{pbrMetallicRoughness}}.roughnessFactor\ =\ 1.0f;}
\DoxyCodeLine{01413\ }
\DoxyCodeLine{01414\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_material_ab4fe712bf2bf8f239db38401d3fd5b78}{emissiveFactor}},\ \mbox{\hyperlink{namespacegl_t_f2_a155d565814ca2eb402b5438d29881285}{defaultEmissiveFactor}});}
\DoxyCodeLine{01415\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_aebed2b890951764b50edb737039579b4}{alphaMode}}\ =\ \textcolor{stringliteral}{"{}OPAQUE"{}};}
\DoxyCodeLine{01416\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_ad5e745212d7635eb0b0433aaa0d407bd}{alphaCutoff}}\ =\ 0.5f;}
\DoxyCodeLine{01417\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_ae8efc14e9f42375eb4a7608426e9491f}{doubleSided}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01418\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_a0288e3f426f4e9ccd7ae754229a8c02e}{unlit}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01419\ \}}
\DoxyCodeLine{01420\ }
\DoxyCodeLine{01421\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a285d4cf83551260962e7f8b4365e2378}{PbrSpecularGlossiness::SetDefaults}}()\ \{}
\DoxyCodeLine{01422\ \ \ \ \ \textcolor{comment}{//pbrSpecularGlossiness\ properties}}
\DoxyCodeLine{01423\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a874fa9081020e0b9c93fdaf6891f356e}{diffuseFactor}},\ \mbox{\hyperlink{namespacegl_t_f2_aa14d22d07f595755c332833df8959ddf}{defaultDiffuseFactor}});}
\DoxyCodeLine{01424\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a1fcd1e465a841b5fd0b9ffb95b3896a7}{specularFactor}},\ \mbox{\hyperlink{namespacegl_t_f2_a564fcdb17291901b16caefedcd76edc0}{defaultSpecularFactor}});}
\DoxyCodeLine{01425\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_pbr_specular_glossiness_a99acc27bbf330cb47138740425d07e90}{glossinessFactor}}\ =\ 1.0f;}
\DoxyCodeLine{01426\ \}}
\DoxyCodeLine{01427\ }
\DoxyCodeLine{01428\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_specular_af4ba6ac65eab901c8a67c4701f754aa2}{MaterialSpecular::SetDefaults}}()\ \{}
\DoxyCodeLine{01429\ \ \ \ \ \textcolor{comment}{//KHR\_materials\_specular\ properties}}
\DoxyCodeLine{01430\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_material_specular_a162bd2baf29c9a0d600a102a153bf761}{specularColorFactor}},\ \mbox{\hyperlink{namespacegl_t_f2_aa08972aa7fbd9126afbb5128031c56f5}{defaultSpecularColorFactor}});}
\DoxyCodeLine{01431\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_specular_a4678c40e03d6d1a75cc1840a4839fbc9}{specularFactor}}\ =\ 1.f;}
\DoxyCodeLine{01432\ \}}
\DoxyCodeLine{01433\ }
\DoxyCodeLine{01434\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_aba37a1c9e3b837272f482556cc79df14}{MaterialSheen::SetDefaults}}()\ \{}
\DoxyCodeLine{01435\ \ \ \ \ \textcolor{comment}{//KHR\_materials\_sheen\ properties}}
\DoxyCodeLine{01436\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_a9a073b571790f0920cd11e060113906a}{sheenColorFactor}},\ \mbox{\hyperlink{namespacegl_t_f2_a9ea699380e3b0693d6d5ab6969b33dca}{defaultSheenFactor}});}
\DoxyCodeLine{01437\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_sheen_a9c62210bb7ff5a81663718088805946b}{sheenRoughnessFactor}}\ =\ 0.f;}
\DoxyCodeLine{01438\ \}}
\DoxyCodeLine{01439\ }
\DoxyCodeLine{01440\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_volume_a776f4da6e0c4ee86b6e98d3bfc804342}{MaterialVolume::SetDefaults}}()\ \{}
\DoxyCodeLine{01441\ \ \ \ \ \textcolor{comment}{//KHR\_materials\_volume\ properties}}
\DoxyCodeLine{01442\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_volume_ab29e014831e634c720680554319e9edb}{thicknessFactor}}\ =\ 0.f;}
\DoxyCodeLine{01443\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_volume_aa2af1da93e4a3c5243ada6b93a794acd}{attenuationDistance}}\ =\ INFINITY;}
\DoxyCodeLine{01444\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_material_volume_a98acb9c82940216b78a1f96785f8842c}{attenuationColor}},\ \mbox{\hyperlink{namespacegl_t_f2_a3b63912d70b00f95b9be7c8aad2e483c}{defaultAttenuationColor}});}
\DoxyCodeLine{01445\ \}}
\DoxyCodeLine{01446\ }
\DoxyCodeLine{01447\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_i_o_r_acb79b87a5b9add5402724a12fdc5520e}{MaterialIOR::SetDefaults}}()\ \{}
\DoxyCodeLine{01448\ \ \ \ \ \textcolor{comment}{//KHR\_materials\_ior\ properties}}
\DoxyCodeLine{01449\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_i_o_r_ada9f62e3df064bbd02622cffbc6cd758}{ior}}\ =\ 1.5f;}
\DoxyCodeLine{01450\ \}}
\DoxyCodeLine{01451\ }
\DoxyCodeLine{01452\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_material_emissive_strength_aa68a058857a71b0e1d8bcbf9aefd4fff}{MaterialEmissiveStrength::SetDefaults}}()\ \{}
\DoxyCodeLine{01453\ \ \ \ \ \textcolor{comment}{//KHR\_materials\_emissive\_strength\ properties}}
\DoxyCodeLine{01454\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_material_emissive_strength_a7c64ed363a6880eb0d145fef1ac22b10}{emissiveStrength}}\ =\ 0.f;}
\DoxyCodeLine{01455\ \}}
\DoxyCodeLine{01456\ }
\DoxyCodeLine{01457\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a0893b6a7c29d4181117721e53e981fa1}{Mesh::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&pJSON\_Object,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&pAsset\_Root)\ \{}
\DoxyCodeLine{01458\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curName\ =\ \mbox{\hyperlink{namespacegl_t_f2_ae42c62866e5b3361c3c2f5d03e013dbb}{FindMember}}(pJSON\_Object,\ \textcolor{stringliteral}{"{}name"{}});}
\DoxyCodeLine{01459\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curName\ \&\&\ curName-\/>IsString())\ \{}
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ =\ curName-\/>GetString();}
\DoxyCodeLine{01461\ \ \ \ \ \}}
\DoxyCodeLine{01462\ }
\DoxyCodeLine{01463\ \textcolor{comment}{\ \ \ \ /******************\ Mesh\ primitives\ ******************/}}
\DoxyCodeLine{01464\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curPrimitives\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(pJSON\_Object,\ \textcolor{stringliteral}{"{}primitives"{}});}
\DoxyCodeLine{01465\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curPrimitives)\ \{}
\DoxyCodeLine{01466\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_a4e55dd2729cd3d5817b11d16be3adf47}{primitives}}.resize(curPrimitives-\/>Size());}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ curPrimitives-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&primitive\ =\ (*curPrimitives)[i];}
\DoxyCodeLine{01469\ }
\DoxyCodeLine{01470\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive}{Primitive}}\ \&prim\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_a4e55dd2729cd3d5817b11d16be3adf47}{primitives}}[i];}
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ \ \ \ \ prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a765de9ece2300e651e079b4572ac1149}{mode}}\ =\ MemberOrDefault(primitive,\ \textcolor{stringliteral}{"{}mode"{}},\ \mbox{\hyperlink{namespacegl_t_f2_aedd72328c0da7754d617529113c1f91ba2934f68d242e1fed2e3b26535c98186e}{PrimitiveMode\_TRIANGLES}});}
\DoxyCodeLine{01472\ }
\DoxyCodeLine{01473\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *indices\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(primitive,\ \textcolor{stringliteral}{"{}indices"{}}))\ \{}
\DoxyCodeLine{01474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a1142dea8d2b66b382c2e1737a3ad450e}{indices}}\ =\ pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(indices-\/>GetUint());}
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01476\ }
\DoxyCodeLine{01477\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *material\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(primitive,\ \textcolor{stringliteral}{"{}material"{}}))\ \{}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a6985068fc3261df37b157ca9bc1ec124}{material}}\ =\ pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_ad3de630a5a4c7beef972ebd7dd135aeb}{materials}}.Retrieve(material-\/>GetUint());}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *attrs\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(primitive,\ \textcolor{stringliteral}{"{}attributes"{}}))\ \{}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_generic_value_a349b8faae61edc42b4289726820be439}{Value::MemberIterator}}\ it\ =\ attrs-\/>MemberBegin();\ it\ !=\ attrs-\/>MemberEnd();\ ++it)\ \{}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!it-\/>value.IsUint())\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr\ =\ it-\/>name.GetString();}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Valid\ attribute\ semantics\ include\ POSITION,\ NORMAL,\ TANGENT,\ TEXCOORD,\ COLOR,\ JOINT,\ JOINTMATRIX,}}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ WEIGHT.Attribute\ semantics\ can\ be\ of\ the\ form[semantic]\_[set\_index],\ e.g.,\ TEXCOORD\_0,\ TEXCOORD\_1,\ etc.}}
\DoxyCodeLine{01487\ }
\DoxyCodeLine{01488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ undPos\ =\ 0;}
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a2f0f97cabdb5a25407fd7f865127ce59}{Mesh::AccessorList}}\ *vec\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (GetAttribVector(prim,\ attr,\ vec,\ undPos))\ \{}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ idx\ =\ (attr[undPos]\ ==\ \textcolor{charliteral}{'\_'})\ ?\ atoi(attr\ +\ undPos\ +\ 1)\ :\ 0;}
\DoxyCodeLine{01492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*vec).size()\ !=\ idx)\ \{}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ attribute\ in\ mesh:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}},\ \textcolor{stringliteral}{"{}\ primitive:\ "{}},\ i,\ \textcolor{stringliteral}{"{}attrib:\ "{}},\ attr,}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}.\ All\ indices\ for\ indexed\ attribute\ semantics\ must\ start\ with\ 0\ and\ be\ continuous\ positive\ integers:\ TEXCOORD\_0,\ TEXCOORD\_1,\ etc."{}});}
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*vec).resize(idx\ +\ 1);}
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*vec)[idx]\ =\ pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(it-\/>value.GetUint());}
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01501\ }
\DoxyCodeLine{01502\ \textcolor{preprocessor}{\#ifdef\ ASSIMP\_ENABLE\_DRACO}}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ KHR\_draco\_mesh\_compression\ spec:\ Draco\ can\ only\ be\ used\ for\ glTF\ Triangles\ or\ Triangle\ Strips}}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_aaa12c8d48ac07079ba5b5b43cf06931c}{KHR\_draco\_mesh\_compression}}\ \&\&\ (prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a765de9ece2300e651e079b4572ac1149}{mode}}\ ==\ \mbox{\hyperlink{namespacegl_t_f2_aedd72328c0da7754d617529113c1f91ba2934f68d242e1fed2e3b26535c98186e}{PrimitiveMode\_TRIANGLES}}\ ||\ prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a765de9ece2300e651e079b4572ac1149}{mode}}\ ==\ \mbox{\hyperlink{namespacegl_t_f2_aedd72328c0da7754d617529113c1f91ba262194496821322f21857f186e9644e3}{PrimitiveMode\_TRIANGLE\_STRIP}}))\ \{}
\DoxyCodeLine{01505\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Look\ for\ draco\ mesh\ compression\ extension\ and\ bufferView}}
\DoxyCodeLine{01506\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Skip\ if\ any\ missing}}
\DoxyCodeLine{01507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *dracoExt\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a134b928e19a34e99bd9ad77da72c9664}{FindExtension}}(primitive,\ \textcolor{stringliteral}{"{}KHR\_draco\_mesh\_compression"{}}))\ \{}
\DoxyCodeLine{01508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *bufView\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*dracoExt,\ \textcolor{stringliteral}{"{}bufferView"{}}))\ \{}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Attempt\ to\ load\ indices\ and\ attributes\ using\ draco\ compression}}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ bufferView\ =\ pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a7dec3f6cb726292f5b4076fec0994994}{bufferViews}}.Retrieve(bufView-\/>GetUint());}
\DoxyCodeLine{01511\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Attempt\ to\ perform\ the\ draco\ decode\ on\ the\ buffer\ data}}
\DoxyCodeLine{01512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *bufferViewData\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}\ *\textcolor{keyword}{>}(bufferView-\/>buffer-\/>GetPointer()\ +\ bufferView-\/>byteOffset);}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_decoder_buffer}{draco::DecoderBuffer}}\ decoderBuffer;}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ decoderBuffer.\mbox{\hyperlink{classdraco_1_1_decoder_buffer_aefd07f807b12270ffb8b1d943651a251}{Init}}(bufferViewData,\ bufferView-\/>byteLength);}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classdraco_1_1_decoder}{draco::Decoder}}\ decoder;}
\DoxyCodeLine{01516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ decodeResult\ =\ decoder.\mbox{\hyperlink{classdraco_1_1_decoder_a8c8a283e042af356dda79a6904cb2064}{DecodeMeshFromBuffer}}(\&decoderBuffer);}
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!decodeResult.ok())\ \{}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ corrupt\ Draco\ isn't\ actually\ fatal\ if\ the\ primitive\ data\ is\ also\ provided\ in\ a\ standard\ buffer,\ but\ does\ anyone\ do\ that?}}
\DoxyCodeLine{01519\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ Draco\ mesh\ compression\ in\ mesh:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}},\ \textcolor{stringliteral}{"{}\ primitive:\ "{}},\ i,\ \textcolor{stringliteral}{"{}:\ "{}},\ decodeResult.status().error\_msg\_string());}
\DoxyCodeLine{01520\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01521\ }
\DoxyCodeLine{01522\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ we\ have\ a\ draco\ mesh}}
\DoxyCodeLine{01523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::unique\_ptr<draco::Mesh>\ \&pDracoMesh\ =\ decodeResult.value();}
\DoxyCodeLine{01524\ }
\DoxyCodeLine{01525\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Redirect\ the\ accessors\ to\ the\ decoded\ data}}
\DoxyCodeLine{01526\ }
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Indices}}
\DoxyCodeLine{01528\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SetDecodedIndexBuffer\_Draco(*pDracoMesh,\ prim);}
\DoxyCodeLine{01529\ }
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Vertex\ attributes}}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *attrs\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*dracoExt,\ \textcolor{stringliteral}{"{}attributes"{}}))\ \{}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_generic_value_a349b8faae61edc42b4289726820be439}{Value::MemberIterator}}\ it\ =\ attrs-\/>MemberBegin();\ it\ !=\ attrs-\/>MemberEnd();\ ++it)\ \{}
\DoxyCodeLine{01533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!it-\/>value.IsUint())\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr\ =\ it-\/>name.GetString();}
\DoxyCodeLine{01535\ }
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ undPos\ =\ 0;}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a2f0f97cabdb5a25407fd7f865127ce59}{Mesh::AccessorList}}\ *vec\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (GetAttribVector(prim,\ attr,\ vec,\ undPos))\ \{}
\DoxyCodeLine{01539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ idx\ =\ (attr[undPos]\ ==\ \textcolor{charliteral}{'\_'})\ ?\ atoi(attr\ +\ undPos\ +\ 1)\ :\ 0;}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (idx\ >=\ (*vec).size())\ \{}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ draco\ attribute\ in\ mesh:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}},\ \textcolor{stringliteral}{"{}\ primitive:\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ attrib:\ "{}},\ attr,}
\DoxyCodeLine{01542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}.\ All\ indices\ for\ indexed\ attribute\ semantics\ must\ start\ with\ 0\ and\ be\ continuous\ positive\ integers:\ TEXCOORD\_0,\ TEXCOORD\_1,\ etc."{}});}
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01544\ }
\DoxyCodeLine{01545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(*vec)[idx])\ \{}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ draco\ attribute\ in\ mesh:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}},\ \textcolor{stringliteral}{"{}\ primitive:\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ attrib:\ "{}},\ attr,}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}.\ All\ draco-\/encoded\ attributes\ must\ also\ define\ an\ accessor."{}});}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01549\ }
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_accessor}{Accessor}}\ \&attribAccessor\ =\ *(*vec)[idx];}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (attribAccessor.\mbox{\hyperlink{structgl_t_f2_1_1_accessor_a0b2568e05b05acb1f223eb56fb5568eb}{count}}\ ==\ 0)}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ draco\ attribute\ in\ mesh:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}},\ \textcolor{stringliteral}{"{}\ primitive:\ "{}},\ i,\ \textcolor{stringliteral}{"{}\ attrib:\ "{}},\ attr);}
\DoxyCodeLine{01553\ }
\DoxyCodeLine{01554\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Redirect\ this\ accessor\ to\ the\ appropriate\ Draco\ vertex\ attribute\ data}}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}\ dracoAttribId\ =\ it-\/>value.GetUint();}
\DoxyCodeLine{01556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SetDecodedAttributeBuffer\_Draco(*pDracoMesh,\ dracoAttribId,\ attribAccessor);}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01563\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *targetsArray\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(primitive,\ \textcolor{stringliteral}{"{}targets"{}});}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ targetsArray)\ \{}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prim.\mbox{\hyperlink{structgl_t_f2_1_1_mesh_1_1_primitive_a41bfdc33582b6893bf617760c0cbe4b7}{targets}}.resize(targetsArray-\/>Size());}
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ targetsArray-\/>Size();\ ++j)\ \{}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&target\ =\ (*targetsArray)[j];}
\DoxyCodeLine{01570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!target.IsObject())\ \{}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{class_generic_value_a349b8faae61edc42b4289726820be439}{Value::MemberIterator}}\ it\ =\ target.MemberBegin();\ it\ !=\ target.MemberEnd();\ ++it)\ \{}
\DoxyCodeLine{01574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!it-\/>value.IsUint())\ \{}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *attr\ =\ it-\/>name.GetString();}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Valid\ attribute\ semantics\ include\ POSITION,\ NORMAL,\ TANGENT}}
\DoxyCodeLine{01579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ undPos\ =\ 0;}
\DoxyCodeLine{01580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_mesh_a2f0f97cabdb5a25407fd7f865127ce59}{Mesh::AccessorList}}\ *vec\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (GetAttribTargetVector(prim,\ j,\ attr,\ vec,\ undPos))\ \{}
\DoxyCodeLine{01582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ idx\ =\ (attr[undPos]\ ==\ \textcolor{charliteral}{'\_'})\ ?\ atoi(attr\ +\ undPos\ +\ 1)\ :\ 0;}
\DoxyCodeLine{01583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*vec).size()\ <=\ idx)\ \{}
\DoxyCodeLine{01584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*vec).resize(idx\ +\ 1);}
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*vec)[idx]\ =\ pAsset\_Root.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(it-\/>value.GetUint());}
\DoxyCodeLine{01587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01590\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01591\ }
\DoxyCodeLine{01592\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_acbee9a314ca525c603ba4b30e94b9cb2}{targetNames}}.empty())}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curExtras\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(primitive,\ \textcolor{stringliteral}{"{}extras"{}});}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curExtras)\ \{}
\DoxyCodeLine{01596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curTargetNames\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(*curExtras,\ \textcolor{stringliteral}{"{}targetNames"{}}))\ \{}
\DoxyCodeLine{01597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_acbee9a314ca525c603ba4b30e94b9cb2}{targetNames}}.resize(curTargetNames-\/>Size());}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ curTargetNames-\/>Size();\ ++j)\ \{}
\DoxyCodeLine{01599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&targetNameValue\ =\ (*curTargetNames)[j];}
\DoxyCodeLine{01600\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (targetNameValue.IsString())\ \{}
\DoxyCodeLine{01601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_acbee9a314ca525c603ba4b30e94b9cb2}{targetNames}}[j]\ =\ targetNameValue.GetString();}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01606\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01607\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01608\ \ \ \ \ \}}
\DoxyCodeLine{01609\ }
\DoxyCodeLine{01610\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curWeights\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(pJSON\_Object,\ \textcolor{stringliteral}{"{}weights"{}});}
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curWeights)\ \{}
\DoxyCodeLine{01612\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_abc0b7ea843914a5b63d6b703771dc870}{weights}}.resize(curWeights-\/>Size());}
\DoxyCodeLine{01613\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ curWeights-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&weightValue\ =\ (*curWeights)[i];}
\DoxyCodeLine{01615\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (weightValue.IsNumber())\ \{}
\DoxyCodeLine{01616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_abc0b7ea843914a5b63d6b703771dc870}{weights}}[i]\ =\ weightValue.GetFloat();}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01619\ \ \ \ \ \}}
\DoxyCodeLine{01620\ }
\DoxyCodeLine{01621\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curExtras\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(pJSON\_Object,\ \textcolor{stringliteral}{"{}extras"{}});}
\DoxyCodeLine{01622\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curExtras)\ \{}
\DoxyCodeLine{01623\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *curTargetNames\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(*curExtras,\ \textcolor{stringliteral}{"{}targetNames"{}}))\ \{}
\DoxyCodeLine{01624\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_acbee9a314ca525c603ba4b30e94b9cb2}{targetNames}}.resize(curTargetNames-\/>Size());}
\DoxyCodeLine{01625\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ curTargetNames-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01626\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&targetNameValue\ =\ (*curTargetNames)[i];}
\DoxyCodeLine{01627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (targetNameValue.IsString())\ \{}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_mesh_acbee9a314ca525c603ba4b30e94b9cb2}{targetNames}}[i]\ =\ targetNameValue.GetString();}
\DoxyCodeLine{01629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01630\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01631\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01632\ \ \ \ \ \}}
\DoxyCodeLine{01633\ \}}
\DoxyCodeLine{01634\ }
\DoxyCodeLine{01635\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_camera_afbff01f67f4d53aa1ba14e837b246a10}{Camera::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&\ \textcolor{comment}{/*r*/})\ \{}
\DoxyCodeLine{01636\ \ \ \ \ std::string\ type\_string\ =\ std::string(MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}type"{}},\ \textcolor{stringliteral}{"{}perspective"{}}));}
\DoxyCodeLine{01637\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\_string\ ==\ \textcolor{stringliteral}{"{}orthographic"{}})\ \{}
\DoxyCodeLine{01638\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a815e844a4f015aab603aa042826cb70b}{type}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a28a8ab95d06767509540006dec71a964a6ee2a25f272a8fc17c9e5cf02c0130cf}{Camera::Orthographic}};}
\DoxyCodeLine{01639\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01640\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a815e844a4f015aab603aa042826cb70b}{type}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a28a8ab95d06767509540006dec71a964a5fc52228a70839e20b35d1dae2094524}{Camera::Perspective}};}
\DoxyCodeLine{01641\ \ \ \ \ \}}
\DoxyCodeLine{01642\ }
\DoxyCodeLine{01643\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *subobjId\ =\ (\mbox{\hyperlink{structgl_t_f2_1_1_camera_a815e844a4f015aab603aa042826cb70b}{type}}\ ==\ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a28a8ab95d06767509540006dec71a964a6ee2a25f272a8fc17c9e5cf02c0130cf}{Camera::Orthographic}})\ ?\ \textcolor{stringliteral}{"{}orthographic"{}}\ :\ \textcolor{stringliteral}{"{}perspective"{}};}
\DoxyCodeLine{01644\ }
\DoxyCodeLine{01645\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *it\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(obj,\ subobjId);}
\DoxyCodeLine{01646\ \ \ \ \ \textcolor{keywordflow}{if}\ (!it)\ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Camera\ missing\ its\ parameters"{}});}
\DoxyCodeLine{01647\ }
\DoxyCodeLine{01648\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_camera_a815e844a4f015aab603aa042826cb70b}{type}}\ ==\ \mbox{\hyperlink{structgl_t_f2_1_1_camera_a28a8ab95d06767509540006dec71a964a5fc52228a70839e20b35d1dae2094524}{Camera::Perspective}})\ \{}
\DoxyCodeLine{01649\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.perspective.aspectRatio\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}aspectRatio"{}},\ 0.f);}
\DoxyCodeLine{01650\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.perspective.yfov\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}yfov"{}},\ 3.1415f\ /\ 2.f);}
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.perspective.zfar\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}zfar"{}},\ 100.f);}
\DoxyCodeLine{01652\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.perspective.znear\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}znear"{}},\ 0.01f);}
\DoxyCodeLine{01653\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.ortographic.xmag\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}xmag"{}},\ 1.f);}
\DoxyCodeLine{01655\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.ortographic.ymag\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}ymag"{}},\ 1.f);}
\DoxyCodeLine{01656\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.ortographic.zfar\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}zfar"{}},\ 100.f);}
\DoxyCodeLine{01657\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_camera_af385a7eaf68f3631a0535bfac9d77675}{cameraProperties}}.ortographic.znear\ =\ MemberOrDefault(*it,\ \textcolor{stringliteral}{"{}znear"{}},\ 0.01f);}
\DoxyCodeLine{01658\ \ \ \ \ \}}
\DoxyCodeLine{01659\ \}}
\DoxyCodeLine{01660\ }
\DoxyCodeLine{01661\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_light_abbf496aae65620a425c557586516a653}{Light::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&\ \textcolor{comment}{/*r*/})\ \{}
\DoxyCodeLine{01662\ \textcolor{preprocessor}{\#ifndef\ M\_PI}}
\DoxyCodeLine{01663\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{dhcalculator_8h_ae71449b1cc6e6250b91f539153a7a0d3}{M\_PI}}\ =\ 3.14159265358979323846f;}
\DoxyCodeLine{01664\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01665\ }
\DoxyCodeLine{01666\ \ \ \ \ std::string\ type\_string;}
\DoxyCodeLine{01667\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}type"{}},\ type\_string);}
\DoxyCodeLine{01668\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\_string\ ==\ \textcolor{stringliteral}{"{}directional"{}})}
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_a5ebc405bc1e26c463ec65f638eaa8061}{type}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_light_a324f8fffbbd0bf1f935680f3910b56bdaa6bf58c32304842b449c1d3ab1e49db3}{Light::Directional}};}
\DoxyCodeLine{01670\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (type\_string\ ==\ \textcolor{stringliteral}{"{}point"{}})}
\DoxyCodeLine{01671\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_a5ebc405bc1e26c463ec65f638eaa8061}{type}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_light_a324f8fffbbd0bf1f935680f3910b56bdac00cfb804b2bf4ae6d9ca27061c20f02}{Light::Point}};}
\DoxyCodeLine{01672\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01673\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_a5ebc405bc1e26c463ec65f638eaa8061}{type}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_light_a324f8fffbbd0bf1f935680f3910b56bdab270d069567823a238900f9596bee9dc}{Light::Spot}};}
\DoxyCodeLine{01674\ }
\DoxyCodeLine{01675\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}name"{}},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01676\ }
\DoxyCodeLine{01677\ \ \ \ \ SetVector(\mbox{\hyperlink{structgl_t_f2_1_1_light_aae01e20ea11515b81ee8477c23f1909c}{color}},\ vec3\{\ 1.0f,\ 1.0f,\ 1.0f\ \});}
\DoxyCodeLine{01678\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}color"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_light_aae01e20ea11515b81ee8477c23f1909c}{color}});}
\DoxyCodeLine{01679\ }
\DoxyCodeLine{01680\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_aa0305ccf32cc7985ce5e92e729006abc}{intensity}}\ =\ MemberOrDefault(obj,\ \textcolor{stringliteral}{"{}intensity"{}},\ 1.0f);}
\DoxyCodeLine{01681\ }
\DoxyCodeLine{01682\ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}range"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_light_a85d50af0e627849218432e547e3899c0}{range}});}
\DoxyCodeLine{01683\ }
\DoxyCodeLine{01684\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_light_a5ebc405bc1e26c463ec65f638eaa8061}{type}}\ ==\ \mbox{\hyperlink{structgl_t_f2_1_1_light_a324f8fffbbd0bf1f935680f3910b56bdab270d069567823a238900f9596bee9dc}{Light::Spot}})\ \{}
\DoxyCodeLine{01685\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *spot\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(obj,\ \textcolor{stringliteral}{"{}spot"{}});}
\DoxyCodeLine{01686\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!spot)\ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Light\ missing\ its\ spot\ parameters"{}});}
\DoxyCodeLine{01687\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_a39d761447a06265340467436b149c37f}{innerConeAngle}}\ =\ MemberOrDefault(*spot,\ \textcolor{stringliteral}{"{}innerConeAngle"{}},\ 0.0f);}
\DoxyCodeLine{01688\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_light_aa458a47d96102c21e9d3a31272ddce3b}{outerConeAngle}}\ =\ MemberOrDefault(*spot,\ \textcolor{stringliteral}{"{}outerConeAngle"{}},\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(\mbox{\hyperlink{dhcalculator_8h_ae71449b1cc6e6250b91f539153a7a0d3}{M\_PI}}\ /\ 4.0f));}
\DoxyCodeLine{01689\ \ \ \ \ \}}
\DoxyCodeLine{01690\ \}}
\DoxyCodeLine{01691\ }
\DoxyCodeLine{01692\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_node_a5b0129c850c8a11d4b87d800f9d654fa}{Node::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01693\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}.empty())\ \{}
\DoxyCodeLine{01694\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_object_a398805110b7c5baea96e166cd8362309}{name}}\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_abd944756283e5577b6ce4d6056b171d8}{id}};}
\DoxyCodeLine{01695\ \ \ \ \ \}}
\DoxyCodeLine{01696\ }
\DoxyCodeLine{01697\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curChildren\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}children"{}});}
\DoxyCodeLine{01698\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curChildren)\ \{}
\DoxyCodeLine{01699\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_adedcb342edceefa8ec58d8340b2cd4be}{children}}.reserve(curChildren-\/>Size());}
\DoxyCodeLine{01700\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ curChildren-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01701\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&child\ =\ (*curChildren)[i];}
\DoxyCodeLine{01702\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (child.IsUint())\ \{}
\DoxyCodeLine{01703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get/create\ the\ child\ node}}
\DoxyCodeLine{01704\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Node>}}\ chn\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_acf32ff5ad8826a76c3018b292b1f144e}{nodes}}.Retrieve(child.GetUint());}
\DoxyCodeLine{01705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (chn)\ \{}
\DoxyCodeLine{01706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_adedcb342edceefa8ec58d8340b2cd4be}{children}}.push\_back(chn);}
\DoxyCodeLine{01707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01708\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01709\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01710\ \ \ \ \ \}}
\DoxyCodeLine{01711\ }
\DoxyCodeLine{01712\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curMatrix\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}matrix"{}});}
\DoxyCodeLine{01713\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curMatrix)\ \{}
\DoxyCodeLine{01714\ \ \ \ \ \ \ \ \ ReadValue(*curMatrix,\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_aec8beffd09340f67c4997af7862e4117}{matrix}});}
\DoxyCodeLine{01715\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01716\ \ \ \ \ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}translation"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_node_a826b5c979cc2c98a4cf01d8a41b7975d}{translation}});}
\DoxyCodeLine{01717\ \ \ \ \ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}scale"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_node_a45b76b8aecf279344505020eeb606843}{scale}});}
\DoxyCodeLine{01718\ \ \ \ \ \ \ \ \ ReadMember(obj,\ \textcolor{stringliteral}{"{}rotation"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_node_a8fa83a6caf50019cf54ca7ebdd01919a}{rotation}});}
\DoxyCodeLine{01719\ \ \ \ \ \}}
\DoxyCodeLine{01720\ }
\DoxyCodeLine{01721\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curMesh\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}mesh"{}});}
\DoxyCodeLine{01722\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curMesh)\ \{}
\DoxyCodeLine{01723\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ numMeshes\ =\ 1;}
\DoxyCodeLine{01724\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_a194a3bcb61f6f02d84f4aa47f3a1d983}{meshes}}.reserve(numMeshes);}
\DoxyCodeLine{01725\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Mesh>}}\ meshRef\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a14d797d10143e25d63c03b638d2e6ae9}{meshes}}.Retrieve((*curMesh).GetUint());}
\DoxyCodeLine{01726\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (meshRef)\ \{}
\DoxyCodeLine{01727\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_a194a3bcb61f6f02d84f4aa47f3a1d983}{meshes}}.push\_back(meshRef);}
\DoxyCodeLine{01728\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01729\ \ \ \ \ \}}
\DoxyCodeLine{01730\ }
\DoxyCodeLine{01731\ \ \ \ \ \textcolor{comment}{//\ Do\ not\ retrieve\ a\ skin\ here,\ just\ take\ a\ reference,\ to\ avoid\ infinite\ recursion}}
\DoxyCodeLine{01732\ \ \ \ \ \textcolor{comment}{//\ Skins\ will\ be\ properly\ loaded\ later}}
\DoxyCodeLine{01733\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curSkin\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}skin"{}});}
\DoxyCodeLine{01734\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curSkin)\ \{}
\DoxyCodeLine{01735\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_ab43835f2beb4475f118610e46954e09c}{skin}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_afb1f870cc7b65638943dec3427ae88f4}{skins}}.Get(curSkin-\/>GetUint());}
\DoxyCodeLine{01736\ \ \ \ \ \}}
\DoxyCodeLine{01737\ }
\DoxyCodeLine{01738\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curCamera\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}camera"{}});}
\DoxyCodeLine{01739\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curCamera)\ \{}
\DoxyCodeLine{01740\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_a296f30d7b2456b2937e3602c3b028114}{camera}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_abde69079b08f21a6876f1029ef82e12c}{cameras}}.Retrieve(curCamera-\/>GetUint());}
\DoxyCodeLine{01741\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_a296f30d7b2456b2937e3602c3b028114}{camera}})\ \{}
\DoxyCodeLine{01742\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_a296f30d7b2456b2937e3602c3b028114}{camera}}-\/>id\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_object_abd944756283e5577b6ce4d6056b171d8}{id}};}
\DoxyCodeLine{01743\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01744\ \ \ \ \ \}}
\DoxyCodeLine{01745\ }
\DoxyCodeLine{01746\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curExtensions\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(obj,\ \textcolor{stringliteral}{"{}extensions"{}});}
\DoxyCodeLine{01747\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curExtensions)\ \{}
\DoxyCodeLine{01748\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a227b9ba9695baf4988b9eaeb1af47c5b}{extensionsUsed}}.\mbox{\hyperlink{structgl_t_f2_1_1_asset_1_1_extensions_a714421fa4841a022d84759463a63373c}{KHR\_lights\_punctual}})\ \{}
\DoxyCodeLine{01749\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *ext\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(*curExtensions,\ \textcolor{stringliteral}{"{}KHR\_lights\_punctual"{}}))\ \{}
\DoxyCodeLine{01750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curLight\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*ext,\ \textcolor{stringliteral}{"{}light"{}});}
\DoxyCodeLine{01751\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curLight)\ \{}
\DoxyCodeLine{01752\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_afbfdd5032d2040ec1af96c6a0aa83187}{light}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a05ad30de0aec175669882e4de84ece4b}{lights}}.Retrieve(curLight-\/>GetUint());}
\DoxyCodeLine{01753\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_afbfdd5032d2040ec1af96c6a0aa83187}{light}})\ \{}
\DoxyCodeLine{01754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_node_afbfdd5032d2040ec1af96c6a0aa83187}{light}}-\/>id\ =\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_object_abd944756283e5577b6ce4d6056b171d8}{id}};}
\DoxyCodeLine{01755\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01757\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01759\ \ \ \ \ \}}
\DoxyCodeLine{01760\ \}}
\DoxyCodeLine{01761\ }
\DoxyCodeLine{01762\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_scene_aead9e9f775d1513274253c46a669422a}{Scene::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01763\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *scene\_name\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(obj,\ \textcolor{stringliteral}{"{}name"{}}))\ \{}
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (scene\_name-\/>IsString())\ \{}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>name\ =\ scene\_name-\/>GetString();}
\DoxyCodeLine{01766\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01767\ \ \ \ \ \}}
\DoxyCodeLine{01768\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *array\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}nodes"{}}))\ \{}
\DoxyCodeLine{01769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ array-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01770\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(*array)[i].IsUint())\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01771\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Node>}}\ node\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_acf32ff5ad8826a76c3018b292b1f144e}{nodes}}.Retrieve((*array)[i].GetUint());}
\DoxyCodeLine{01772\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node)}
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_scene_a95f77f1b9e5284bcda5180385f9c37c6}{nodes}}.push\_back(node);}
\DoxyCodeLine{01774\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01775\ \ \ \ \ \}}
\DoxyCodeLine{01776\ \}}
\DoxyCodeLine{01777\ }
\DoxyCodeLine{01778\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_skin_adfb18bfa59cb1f04f312dff873b85300}{Skin::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01779\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *matrices\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(obj,\ \textcolor{stringliteral}{"{}inverseBindMatrices"{}}))\ \{}
\DoxyCodeLine{01780\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_skin_a7a7e1fe9db41a14c38df0a141dd108a2}{inverseBindMatrices}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(matrices-\/>GetUint());}
\DoxyCodeLine{01781\ \ \ \ \ \}}
\DoxyCodeLine{01782\ }
\DoxyCodeLine{01783\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *joints\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}joints"{}}))\ \{}
\DoxyCodeLine{01784\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ joints-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(*joints)[i].IsUint())\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01786\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f_common_1_1_ref}{Ref<Node>}}\ node\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_acf32ff5ad8826a76c3018b292b1f144e}{nodes}}.Retrieve((*joints)[i].GetUint());}
\DoxyCodeLine{01787\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (node)\ \{}
\DoxyCodeLine{01788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_skin_a77d371b2357ec42355122abd647488f3}{jointNames}}.push\_back(node);}
\DoxyCodeLine{01789\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01790\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01791\ \ \ \ \ \}}
\DoxyCodeLine{01792\ \}}
\DoxyCodeLine{01793\ }
\DoxyCodeLine{01794\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_animation_aef883904549d458fa9d98a3384f70878}{Animation::Read}}(\mbox{\hyperlink{class_value}{Value}}\ \&obj,\ \mbox{\hyperlink{classgl_t_f2_1_1_asset}{Asset}}\ \&r)\ \{}
\DoxyCodeLine{01795\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curSamplers\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}samplers"{}});}
\DoxyCodeLine{01796\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curSamplers)\ \{}
\DoxyCodeLine{01797\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ curSamplers-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01798\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&sampler\ =\ (*curSamplers)[i];}
\DoxyCodeLine{01799\ }
\DoxyCodeLine{01800\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler}{Sampler}}\ s;}
\DoxyCodeLine{01801\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *input\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(sampler,\ \textcolor{stringliteral}{"{}input"{}}))\ \{}
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_acc25e5644a53fe63d3457539d79ecec4}{input}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(input-\/>GetUint());}
\DoxyCodeLine{01803\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01804\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *output\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(sampler,\ \textcolor{stringliteral}{"{}output"{}}))\ \{}
\DoxyCodeLine{01805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_a07513aa034f2d13b5e370da748b3dadc}{output}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_a4c77a7d6adf00ef2aed32b8ee1895cc2}{accessors}}.Retrieve(output-\/>GetUint());}
\DoxyCodeLine{01806\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01807\ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_a52043e0a5009b2f28b6b777ffd7faf1f}{interpolation}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a4278b7940ed959fe52f7641042b2f8d8af29c2e20ea064c3966c01059d37ef043}{Interpolation\_LINEAR}};}
\DoxyCodeLine{01808\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *interpolation\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(sampler,\ \textcolor{stringliteral}{"{}interpolation"{}}))\ \{}
\DoxyCodeLine{01809\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ interp\ =\ interpolation-\/>GetString();}
\DoxyCodeLine{01810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (interp\ ==\ \textcolor{stringliteral}{"{}LINEAR"{}})\ \{}
\DoxyCodeLine{01811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_a52043e0a5009b2f28b6b777ffd7faf1f}{interpolation}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a4278b7940ed959fe52f7641042b2f8d8af29c2e20ea064c3966c01059d37ef043}{Interpolation\_LINEAR}};}
\DoxyCodeLine{01812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (interp\ ==\ \textcolor{stringliteral}{"{}STEP"{}})\ \{}
\DoxyCodeLine{01813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_a52043e0a5009b2f28b6b777ffd7faf1f}{interpolation}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a4278b7940ed959fe52f7641042b2f8d8a8a7a309be3af4861c905e6c58449dffa}{Interpolation\_STEP}};}
\DoxyCodeLine{01814\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (interp\ ==\ \textcolor{stringliteral}{"{}CUBICSPLINE"{}})\ \{}
\DoxyCodeLine{01815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_sampler_a52043e0a5009b2f28b6b777ffd7faf1f}{interpolation}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a4278b7940ed959fe52f7641042b2f8d8afdd85a204d6489ca4fccf48037091ecb}{Interpolation\_CUBICSPLINE}};}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01818\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_animation_aa1116da3c2755fea835d0145fa46d949}{samplers}}.push\_back(s);}
\DoxyCodeLine{01819\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01820\ \ \ \ \ \}}
\DoxyCodeLine{01821\ }
\DoxyCodeLine{01822\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curChannels\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a7173ed44c28b6a7ab0fd34e407b14764}{FindArray}}(obj,\ \textcolor{stringliteral}{"{}channels"{}});}
\DoxyCodeLine{01823\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curChannels)\ \{}
\DoxyCodeLine{01824\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ i\ =\ 0;\ i\ <\ curChannels-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{01825\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ \&channel\ =\ (*curChannels)[i];}
\DoxyCodeLine{01826\ }
\DoxyCodeLine{01827\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel}{Channel}}\ c;}
\DoxyCodeLine{01828\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curSampler\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(channel,\ \textcolor{stringliteral}{"{}sampler"{}});}
\DoxyCodeLine{01829\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curSampler)\ \{}
\DoxyCodeLine{01830\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a6f2d480bab7e8ef509cf0c76d77b08b4}{sampler}}\ =\ curSampler-\/>GetUint();}
\DoxyCodeLine{01831\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01832\ }
\DoxyCodeLine{01833\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *target\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a159c64e3a0cacbebf1da5feb33043773}{FindObject}}(channel,\ \textcolor{stringliteral}{"{}target"{}}))\ \{}
\DoxyCodeLine{01834\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *node\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_a16ac007880a5b4b37939ed03089342b3}{FindUInt}}(*target,\ \textcolor{stringliteral}{"{}node"{}}))\ \{}
\DoxyCodeLine{01835\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a11306ec4959adb6a7db2063f11b7b643}{target}}.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_target_a73a7362e329a0c1b1c92ad8f3fbf4aa5}{node}}\ =\ r.\mbox{\hyperlink{classgl_t_f2_1_1_asset_acf32ff5ad8826a76c3018b292b1f144e}{nodes}}.Retrieve(node-\/>GetUint());}
\DoxyCodeLine{01836\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01837\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *path\ =\ \mbox{\hyperlink{structgl_t_f2_1_1_object_ace6d2773b41bd9b1fb3630c854a1c17e}{FindString}}(*target,\ \textcolor{stringliteral}{"{}path"{}}))\ \{}
\DoxyCodeLine{01838\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ p\ =\ path-\/>GetString();}
\DoxyCodeLine{01839\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ ==\ \textcolor{stringliteral}{"{}translation"{}})\ \{}
\DoxyCodeLine{01840\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a11306ec4959adb6a7db2063f11b7b643}{target}}.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_target_a53fd342780151b2897ed26c1d9adf974}{path}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a370a88f1df6a8f4231b6fba0e25e8341ac107aa47bc67c961979c78af5844bbe4}{AnimationPath\_TRANSLATION}};}
\DoxyCodeLine{01841\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (p\ ==\ \textcolor{stringliteral}{"{}rotation"{}})\ \{}
\DoxyCodeLine{01842\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a11306ec4959adb6a7db2063f11b7b643}{target}}.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_target_a53fd342780151b2897ed26c1d9adf974}{path}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a370a88f1df6a8f4231b6fba0e25e8341adb23609d4bb9836175955dd5372c1748}{AnimationPath\_ROTATION}};}
\DoxyCodeLine{01843\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (p\ ==\ \textcolor{stringliteral}{"{}scale"{}})\ \{}
\DoxyCodeLine{01844\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a11306ec4959adb6a7db2063f11b7b643}{target}}.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_target_a53fd342780151b2897ed26c1d9adf974}{path}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a370a88f1df6a8f4231b6fba0e25e8341a963ef4f339045ad6d47fed75ee93fb9c}{AnimationPath\_SCALE}};}
\DoxyCodeLine{01845\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (p\ ==\ \textcolor{stringliteral}{"{}weights"{}})\ \{}
\DoxyCodeLine{01846\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_channel_a11306ec4959adb6a7db2063f11b7b643}{target}}.\mbox{\hyperlink{structgl_t_f2_1_1_animation_1_1_target_a53fd342780151b2897ed26c1d9adf974}{path}}\ =\ \mbox{\hyperlink{namespacegl_t_f2_a370a88f1df6a8f4231b6fba0e25e8341a5eee7315723585298aba509bb167e0d7}{AnimationPath\_WEIGHTS}};}
\DoxyCodeLine{01847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01848\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01849\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01850\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_animation_ae701174130491bbbdd624bc2876c92a3}{channels}}.push\_back(c);}
\DoxyCodeLine{01851\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01852\ \ \ \ \ \}}
\DoxyCodeLine{01853\ \}}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_ae8e46c8871c81ba9ede13887d92873b2}{AssetMetadata::Read}}(\mbox{\hyperlink{document_8h_ac6ea5b168e3fe8c7fa532450fc9391f7}{Document}}\ \&doc)\ \{}
\DoxyCodeLine{01856\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *obj\ =\ \mbox{\hyperlink{namespacegl_t_f2_a3af2e37e2f400f1a9c4e0489a68e7f65}{FindObject}}(doc,\ \textcolor{stringliteral}{"{}asset"{}}))\ \{}
\DoxyCodeLine{01857\ \ \ \ \ \ \ \ \ ReadMember(*obj,\ \textcolor{stringliteral}{"{}copyright"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a0f6902c016c3de5b055dfa8401838d03}{copyright}});}
\DoxyCodeLine{01858\ \ \ \ \ \ \ \ \ ReadMember(*obj,\ \textcolor{stringliteral}{"{}generator"{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a6b27d54c11392e40b2b6cf8fa6f583b0}{generator}});}
\DoxyCodeLine{01859\ }
\DoxyCodeLine{01860\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *versionString\ =\ \mbox{\hyperlink{namespacegl_t_f2_aea30069c714cdc1b3788898b18dbd985}{FindStringInContext}}(*obj,\ \textcolor{stringliteral}{"{}version"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)"{}asset\(\backslash\)"{}"{}}))\ \{}
\DoxyCodeLine{01861\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a542fbe8ab389553e054cc8781de220c9}{version}}\ =\ versionString-\/>GetString();}
\DoxyCodeLine{01862\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curProfile\ =\ \mbox{\hyperlink{namespacegl_t_f2_aafb32c802777a624f3be6186297b592c}{FindObjectInContext}}(*obj,\ \textcolor{stringliteral}{"{}profile"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)"{}asset\(\backslash\)"{}"{}});}
\DoxyCodeLine{01864\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curProfile)\ \{}
\DoxyCodeLine{01865\ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curProfile,\ \textcolor{stringliteral}{"{}api"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a7d83f530b5ca747127caac5424614ecd}{profile}}.api);}
\DoxyCodeLine{01866\ \ \ \ \ \ \ \ \ \ \ \ \ ReadMember(*curProfile,\ \textcolor{stringliteral}{"{}version"{}},\ this-\/>\mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a7d83f530b5ca747127caac5424614ecd}{profile}}.version);}
\DoxyCodeLine{01867\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01868\ \ \ \ \ \}}
\DoxyCodeLine{01869\ }
\DoxyCodeLine{01870\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a542fbe8ab389553e054cc8781de220c9}{version}}.empty()\ ||\ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a542fbe8ab389553e054cc8781de220c9}{version}}[0]\ !=\ \textcolor{charliteral}{'2'})\ \{}
\DoxyCodeLine{01871\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unsupported\ glTF\ version:\ "{}},\ \mbox{\hyperlink{structgl_t_f2_1_1_asset_metadata_a542fbe8ab389553e054cc8781de220c9}{version}});}
\DoxyCodeLine{01872\ \ \ \ \ \}}
\DoxyCodeLine{01873\ \}}
\DoxyCodeLine{01874\ }
\DoxyCodeLine{01875\ \textcolor{comment}{//}}
\DoxyCodeLine{01876\ \textcolor{comment}{//\ Asset\ methods\ implementation}}
\DoxyCodeLine{01877\ \textcolor{comment}{//}}
\DoxyCodeLine{01878\ }
\DoxyCodeLine{01879\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Asset::ReadBinaryHeader(\mbox{\hyperlink{classgl_t_f_common_1_1_i_o_stream}{IOStream}}\ \&\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ std::vector<char>\ \&sceneData)\ \{}
\DoxyCodeLine{01880\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_logger_8hpp_a1a20dc2c2ad4ba28557c1c53375589c9}{ASSIMP\_LOG\_DEBUG}}(\textcolor{stringliteral}{"{}Reading\ GLTF2\ binary"{}});}
\DoxyCodeLine{01881\ \ \ \ \ \mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header}{GLB\_Header}}\ header;}
\DoxyCodeLine{01882\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(\&header,\ \textcolor{keyword}{sizeof}(header),\ 1)\ !=\ 1)\ \{}
\DoxyCodeLine{01883\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unable\ to\ read\ the\ file\ header"{}});}
\DoxyCodeLine{01884\ \ \ \ \ \}}
\DoxyCodeLine{01885\ }
\DoxyCodeLine{01886\ \ \ \ \ \textcolor{keywordflow}{if}\ (strncmp((\textcolor{keywordtype}{char}\ *)header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_a458c180877e8cf0c37ed71555e2ccc6d}{magic}},\ \mbox{\hyperlink{gl_t_f_asset_8h_ae55dacb1b4d65083f47e59fc66cd5499}{AI\_GLB\_MAGIC\_NUMBER}},\ \textcolor{keyword}{sizeof}(header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_a458c180877e8cf0c37ed71555e2ccc6d}{magic}}))\ !=\ 0)\ \{}
\DoxyCodeLine{01887\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Invalid\ binary\ glTF\ file"{}});}
\DoxyCodeLine{01888\ \ \ \ \ \}}
\DoxyCodeLine{01889\ }
\DoxyCodeLine{01890\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_af3d7f0b0b24ce06a19c5924defda8359}{version}});}
\DoxyCodeLine{01891\ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_aec4725200fca4d396cfa1a640e4c9ffd}{asset}}.version\ =\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a0621e8ddd291d29d765a02b4575a3ee5}{ai\_to\_string}}(header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_af3d7f0b0b24ce06a19c5924defda8359}{version}});}
\DoxyCodeLine{01892\ \ \ \ \ \textcolor{keywordflow}{if}\ (header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_af3d7f0b0b24ce06a19c5924defda8359}{version}}\ !=\ 2)\ \{}
\DoxyCodeLine{01893\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unsupported\ binary\ glTF\ version"{}});}
\DoxyCodeLine{01894\ \ \ \ \ \}}
\DoxyCodeLine{01895\ }
\DoxyCodeLine{01896\ \ \ \ \ GLB\_Chunk\ chunk;}
\DoxyCodeLine{01897\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(\&chunk,\ \textcolor{keyword}{sizeof}(chunk),\ 1)\ !=\ 1)\ \{}
\DoxyCodeLine{01898\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unable\ to\ read\ JSON\ chunk"{}});}
\DoxyCodeLine{01899\ \ \ \ \ \}}
\DoxyCodeLine{01900\ }
\DoxyCodeLine{01901\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(chunk.chunkLength);}
\DoxyCodeLine{01902\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(chunk.chunkType);}
\DoxyCodeLine{01903\ }
\DoxyCodeLine{01904\ \ \ \ \ \textcolor{keywordflow}{if}\ (chunk.chunkType\ !=\ \mbox{\hyperlink{namespacegl_t_f2_af53833300b8e9cad6d2f3dfea882fca4a92aa7e6c79ef5919c8909866f3c54e80}{ChunkType\_JSON}})\ \{}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ JSON\ chunk\ missing"{}});}
\DoxyCodeLine{01906\ \ \ \ \ \}}
\DoxyCodeLine{01907\ }
\DoxyCodeLine{01908\ \ \ \ \ \textcolor{comment}{//\ read\ the\ scene\ data,\ ensure\ null\ termination}}
\DoxyCodeLine{01909\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::numeric\_limits<uint32\_t>::max()\ <=\ std::numeric\_limits<size\_t>::max(),\ \textcolor{stringliteral}{"{}size\_t\ must\ be\ at\ least\ 32bits"{}});}
\DoxyCodeLine{01910\ \ \ \ \ mSceneLength\ =\ chunk.chunkLength;\ \textcolor{comment}{//\ Can't\ be\ larger\ than\ 4GB\ (max.\ uint32\_t)}}
\DoxyCodeLine{01911\ \ \ \ \ sceneData.resize(mSceneLength\ +\ 1);}
\DoxyCodeLine{01912\ \ \ \ \ sceneData[mSceneLength]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01913\ }
\DoxyCodeLine{01914\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(\&sceneData[0],\ 1,\ mSceneLength)\ !=\ mSceneLength)\ \{}
\DoxyCodeLine{01915\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Could\ not\ read\ the\ file\ contents"{}});}
\DoxyCodeLine{01916\ \ \ \ \ \}}
\DoxyCodeLine{01917\ }
\DoxyCodeLine{01918\ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_h_m_p_a277b5ab88d2a332428ac5d80338e90b5}{uint32\_t}}\ padding\ =\ ((chunk.chunkLength\ +\ 3)\ \&\ \string~3)\ -\/\ chunk.chunkLength;}
\DoxyCodeLine{01919\ \ \ \ \ \textcolor{keywordflow}{if}\ (padding\ >\ 0)\ \{}
\DoxyCodeLine{01920\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Seek(padding,\ \mbox{\hyperlink{assimp-install_2include_2assimp_2types_8h_ac50fbaa57d78776ca99e42104d9b2786a34f9f30078835fdb09212bf69d5ebb36}{aiOrigin\_CUR}});}
\DoxyCodeLine{01921\ \ \ \ \ \}}
\DoxyCodeLine{01922\ }
\DoxyCodeLine{01923\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_a273b20d7a108b82effab13516f3fc5d6}{length}});}
\DoxyCodeLine{01924\ \ \ \ \ mBodyOffset\ =\ 12\ +\ 8\ +\ chunk.chunkLength\ +\ padding\ +\ 8;}
\DoxyCodeLine{01925\ \ \ \ \ \textcolor{keywordflow}{if}\ (header.\mbox{\hyperlink{structgl_t_f2_1_1_g_l_b___header_a273b20d7a108b82effab13516f3fc5d6}{length}}\ >=\ mBodyOffset)\ \{}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(\&chunk,\ \textcolor{keyword}{sizeof}(chunk),\ 1)\ !=\ 1)\ \{}
\DoxyCodeLine{01927\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unable\ to\ read\ BIN\ chunk"{}});}
\DoxyCodeLine{01928\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01929\ }
\DoxyCodeLine{01930\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(chunk.chunkLength);}
\DoxyCodeLine{01931\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_byte_swapper_8h_a079ff42aa49346c815cf6f4aaa1128ee}{AI\_SWAP4}}(chunk.chunkType);}
\DoxyCodeLine{01932\ }
\DoxyCodeLine{01933\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (chunk.chunkType\ !=\ \mbox{\hyperlink{namespacegl_t_f2_af53833300b8e9cad6d2f3dfea882fca4a3dd9d86043d2db9458d8f30cc242bb20}{ChunkType\_BIN}})\ \{}
\DoxyCodeLine{01934\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ BIN\ chunk\ missing"{}});}
\DoxyCodeLine{01935\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01936\ }
\DoxyCodeLine{01937\ \ \ \ \ \ \ \ \ mBodyLength\ =\ chunk.chunkLength;}
\DoxyCodeLine{01938\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01939\ \ \ \ \ \ \ \ \ mBodyOffset\ =\ mBodyLength\ =\ 0;}
\DoxyCodeLine{01940\ \ \ \ \ \}}
\DoxyCodeLine{01941\ \}}
\DoxyCodeLine{01942\ }
\DoxyCodeLine{01943\ \textcolor{keyword}{inline}\ rapidjson::Document\ Asset::ReadDocument(\mbox{\hyperlink{classgl_t_f_common_1_1_i_o_stream}{IOStream}}\ \&\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ \textcolor{keywordtype}{bool}\ isBinary,\ std::vector<char>\ \&sceneData)\ \{}
\DoxyCodeLine{01944\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_logger_8hpp_a1a20dc2c2ad4ba28557c1c53375589c9}{ASSIMP\_LOG\_DEBUG}}(\textcolor{stringliteral}{"{}Loading\ GLTF2\ asset"{}});}
\DoxyCodeLine{01945\ }
\DoxyCodeLine{01946\ \ \ \ \ \textcolor{comment}{//\ is\ binary?\ then\ read\ the\ header}}
\DoxyCodeLine{01947\ \ \ \ \ \textcolor{keywordflow}{if}\ (isBinary)\ \{}
\DoxyCodeLine{01948\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_a529276eb71bf868fd4d74961a42f709c}{SetAsBinary}}();\ \textcolor{comment}{//\ also\ creates\ the\ body\ buffer}}
\DoxyCodeLine{01949\ \ \ \ \ \ \ \ \ ReadBinaryHeader(\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ sceneData);}
\DoxyCodeLine{01950\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01951\ \ \ \ \ \ \ \ \ mSceneLength\ =\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.FileSize();}
\DoxyCodeLine{01952\ \ \ \ \ \ \ \ \ mBodyLength\ =\ 0;}
\DoxyCodeLine{01953\ }
\DoxyCodeLine{01954\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Binary\ format\ only\ supports\ up\ to\ 4GB\ of\ JSON,\ use\ that\ as\ a\ maximum}}
\DoxyCodeLine{01955\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mSceneLength\ >=\ std::numeric\_limits<uint32\_t>::max())\ \{}
\DoxyCodeLine{01956\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ JSON\ size\ greater\ than\ 4GB"{}});}
\DoxyCodeLine{01957\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01958\ }
\DoxyCodeLine{01959\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ read\ the\ scene\ data,\ ensure\ null\ termination}}
\DoxyCodeLine{01960\ \ \ \ \ \ \ \ \ sceneData.resize(mSceneLength\ +\ 1);}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ sceneData[mSceneLength]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01962\ }
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}.Read(\&sceneData[0],\ 1,\ mSceneLength)\ !=\ mSceneLength)\ \{}
\DoxyCodeLine{01964\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Could\ not\ read\ the\ file\ contents"{}});}
\DoxyCodeLine{01965\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01966\ \ \ \ \ \}}
\DoxyCodeLine{01967\ }
\DoxyCodeLine{01968\ \ \ \ \ \textcolor{comment}{//\ Smallest\ legal\ JSON\ file\ is\ "{}\{\}"{}\ Smallest\ loadable\ glTF\ file\ is\ larger\ than\ that\ but\ catch\ it\ later}}
\DoxyCodeLine{01969\ \ \ \ \ \textcolor{keywordflow}{if}\ (mSceneLength\ <\ 2)\ \{}
\DoxyCodeLine{01970\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ No\ JSON\ file\ contents"{}});}
\DoxyCodeLine{01971\ \ \ \ \ \}}
\DoxyCodeLine{01972\ }
\DoxyCodeLine{01973\ \ \ \ \ \textcolor{comment}{//\ parse\ the\ JSON\ document}}
\DoxyCodeLine{01974\ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_logger_8hpp_a1a20dc2c2ad4ba28557c1c53375589c9}{ASSIMP\_LOG\_DEBUG}}(\textcolor{stringliteral}{"{}Parsing\ GLTF2\ JSON"{}});}
\DoxyCodeLine{01975\ \ \ \ \ \mbox{\hyperlink{document_8h_ac6ea5b168e3fe8c7fa532450fc9391f7}{Document}}\ doc;}
\DoxyCodeLine{01976\ \ \ \ \ doc.\mbox{\hyperlink{class_generic_document_a13f68b1896a24eea4cdbc03a3916225f}{ParseInsitu}}(\&sceneData[0]);}
\DoxyCodeLine{01977\ }
\DoxyCodeLine{01978\ \ \ \ \ \textcolor{keywordflow}{if}\ (doc.\mbox{\hyperlink{class_generic_document_a510a0588db4eb372f5d81bc3646578fb}{HasParseError}}())\ \{}
\DoxyCodeLine{01979\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ buffer[32];}
\DoxyCodeLine{01980\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a15ab1a7a316884426fdd86b1c9706ce2}{ai\_snprintf}}(buffer,\ 32,\ \textcolor{stringliteral}{"{}\%d"{}},\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(doc.\mbox{\hyperlink{class_generic_document_ae1ef7ca99ced428e9300c68e5142afdb}{GetErrorOffset}}()));}
\DoxyCodeLine{01981\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ JSON\ parse\ error,\ offset\ "{}},\ buffer,\ \textcolor{stringliteral}{"{}:\ "{}},\ \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga28835eb93d2c3c07bbea13515eb31415}{GetParseError\_En}}(doc.\mbox{\hyperlink{class_generic_document_a9400a5bd3169cc6ed545e681ccc06070}{GetParseError}}()));}
\DoxyCodeLine{01982\ \ \ \ \ \}}
\DoxyCodeLine{01983\ }
\DoxyCodeLine{01984\ \ \ \ \ \textcolor{keywordflow}{if}\ (!doc.IsObject())\ \{}
\DoxyCodeLine{01985\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{namespacegl_t_f_common_ac943b667539fee11ae1316e512d49ddc}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ JSON\ document\ root\ must\ be\ a\ JSON\ object"{}});}
\DoxyCodeLine{01986\ \ \ \ \ \}}
\DoxyCodeLine{01987\ }
\DoxyCodeLine{01988\ \ \ \ \ \textcolor{keywordflow}{return}\ doc;}
\DoxyCodeLine{01989\ \}}
\DoxyCodeLine{01990\ }
\DoxyCodeLine{01991\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_af650663c90c14a659a85974585dba90e}{Asset::Load}}(\textcolor{keyword}{const}\ std::string\ \&pFile,\ \textcolor{keywordtype}{bool}\ isBinary)}
\DoxyCodeLine{01992\ \{}
\DoxyCodeLine{01993\ \ \ \ \ mCurrentAssetDir.clear();}
\DoxyCodeLine{01994\ \ \ \ \ \textcolor{keywordflow}{if}\ (0\ !=\ strncmp(pFile.c\_str(),\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_memory_i_o_wrapper_8h_a68dd7d3f79f33c2c9c68fa97df2e10e5}{AI\_MEMORYIO\_MAGIC\_FILENAME}},\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_memory_i_o_wrapper_8h_a96d6cede3dff866d038e00b1442f1415}{AI\_MEMORYIO\_MAGIC\_FILENAME\_LENGTH}}))\ \{}
\DoxyCodeLine{01995\ \ \ \ \ \ \ \ \ mCurrentAssetDir\ =\ \mbox{\hyperlink{namespacegl_t_f_common_afb845b5dd3a817a95500895da7239255}{glTFCommon::getCurrentAssetDir}}(pFile);}
\DoxyCodeLine{01996\ \ \ \ \ \}}
\DoxyCodeLine{01997\ }
\DoxyCodeLine{01998\ \ \ \ \ shared\_ptr<IOStream>\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}(OpenFile(pFile.c\_str(),\ \textcolor{stringliteral}{"{}rb"{}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{01999\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}})\ \{}
\DoxyCodeLine{02000\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Could\ not\ open\ file\ for\ reading"{}});}
\DoxyCodeLine{02001\ \ \ \ \ \}}
\DoxyCodeLine{02002\ }
\DoxyCodeLine{02003\ \ \ \ \ std::vector<char>\ sceneData;}
\DoxyCodeLine{02004\ \ \ \ \ rapidjson::Document\ doc\ =\ ReadDocument(*\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ isBinary,\ sceneData);}
\DoxyCodeLine{02005\ }
\DoxyCodeLine{02006\ \ \ \ \ \textcolor{comment}{//\ If\ a\ schemaDocumentProvider\ is\ available,\ see\ if\ the\ glTF\ schema\ is\ present.}}
\DoxyCodeLine{02007\ \ \ \ \ \textcolor{comment}{//\ If\ so,\ use\ it\ to\ validate\ the\ document.}}
\DoxyCodeLine{02008\ \ \ \ \ \textcolor{keywordflow}{if}\ (mSchemaDocumentProvider)\ \{}
\DoxyCodeLine{02009\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ rapidjson::SchemaDocument\ *gltfSchema\ =\ mSchemaDocumentProvider-\/>GetRemoteDocument(\textcolor{stringliteral}{"{}glTF.schema.json"{}},\ 16))\ \{}
\DoxyCodeLine{02010\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ schemas\ are\ found\ here:\ https://github.com/KhronosGroup/glTF/tree/main/specification/2.0/schema}}
\DoxyCodeLine{02011\ \ \ \ \ \ \ \ \ \ \ \ \ rapidjson::SchemaValidator\ validator(*gltfSchema);}
\DoxyCodeLine{02012\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!doc.Accept(validator))\ \{}
\DoxyCodeLine{02013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rapidjson::StringBuffer\ pathBuffer;}
\DoxyCodeLine{02014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.GetInvalidSchemaPointer().StringifyUriFragment(pathBuffer);}
\DoxyCodeLine{02015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rapidjson::StringBuffer\ argumentBuffer;}
\DoxyCodeLine{02016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ validator.GetInvalidDocumentPointer().StringifyUriFragment(argumentBuffer);}
\DoxyCodeLine{02017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ The\ JSON\ document\ did\ not\ satisfy\ the\ glTF2\ schema.\ Schema\ keyword:\ "{}},\ validator.GetInvalidSchemaKeyword(),\ \textcolor{stringliteral}{"{},\ document\ path:\ "{}},\ pathBuffer.GetString(),\ \textcolor{stringliteral}{"{},\ argument:\ "{}},\ argumentBuffer.GetString());}
\DoxyCodeLine{02018\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02019\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02020\ \ \ \ \ \}}
\DoxyCodeLine{02021\ }
\DoxyCodeLine{02022\ \ \ \ \ \textcolor{comment}{//\ Fill\ the\ buffer\ instance\ for\ the\ current\ file\ embedded\ contents}}
\DoxyCodeLine{02023\ \ \ \ \ \textcolor{keywordflow}{if}\ (mBodyLength\ >\ 0)\ \{}
\DoxyCodeLine{02024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!mBodyBuffer-\/>LoadFromStream(*\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ mBodyLength,\ mBodyOffset))\ \{}
\DoxyCodeLine{02025\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Unable\ to\ read\ gltf\ file"{}});}
\DoxyCodeLine{02026\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02027\ \ \ \ \ \}}
\DoxyCodeLine{02028\ }
\DoxyCodeLine{02029\ \ \ \ \ \textcolor{comment}{//\ Load\ the\ metadata}}
\DoxyCodeLine{02030\ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_aec4725200fca4d396cfa1a640e4c9ffd}{asset}}.Read(doc);}
\DoxyCodeLine{02031\ \ \ \ \ ReadExtensionsUsed(doc);}
\DoxyCodeLine{02032\ \ \ \ \ ReadExtensionsRequired(doc);}
\DoxyCodeLine{02033\ }
\DoxyCodeLine{02034\ \textcolor{preprocessor}{\#ifndef\ ASSIMP\_ENABLE\_DRACO}}
\DoxyCodeLine{02035\ \ \ \ \ \textcolor{comment}{//\ Is\ Draco\ required?}}
\DoxyCodeLine{02036\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classgl_t_f2_1_1_asset_ab401eb930b4fae9848b7db65e2624d6d}{extensionsRequired}}.KHR\_draco\_mesh\_compression)\ \{}
\DoxyCodeLine{02037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_deadly_import_error}{DeadlyImportError}}(\textcolor{stringliteral}{"{}GLTF:\ Draco\ mesh\ compression\ not\ supported."{}});}
\DoxyCodeLine{02038\ \ \ \ \ \}}
\DoxyCodeLine{02039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02040\ }
\DoxyCodeLine{02041\ \ \ \ \ \textcolor{comment}{//\ Prepare\ the\ dictionaries}}
\DoxyCodeLine{02042\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ mDicts.size();\ ++i)\ \{}
\DoxyCodeLine{02043\ \ \ \ \ \ \ \ \ mDicts[i]-\/>AttachToDocument(doc);}
\DoxyCodeLine{02044\ \ \ \ \ \}}
\DoxyCodeLine{02045\ }
\DoxyCodeLine{02046\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ "{}scene"{}\ property,\ which\ specifies\ which\ scene\ to\ load}}
\DoxyCodeLine{02047\ \ \ \ \ \textcolor{comment}{//\ and\ recursively\ load\ everything\ referenced\ by\ it}}
\DoxyCodeLine{02048\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ sceneIndex\ =\ 0;}
\DoxyCodeLine{02049\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *curScene\ =\ \mbox{\hyperlink{namespacegl_t_f2_a73864af4740aadf6f9895ee9f5744ab9}{FindUInt}}(doc,\ \textcolor{stringliteral}{"{}scene"{}});}
\DoxyCodeLine{02050\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ !=\ curScene)\ \{}
\DoxyCodeLine{02051\ \ \ \ \ \ \ \ \ sceneIndex\ =\ curScene-\/>GetUint();}
\DoxyCodeLine{02052\ \ \ \ \ \}}
\DoxyCodeLine{02053\ }
\DoxyCodeLine{02054\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *scenesArray\ =\ \mbox{\hyperlink{namespacegl_t_f2_ad381d1d227cc641c8141e5701c09c7bb}{FindArray}}(doc,\ \textcolor{stringliteral}{"{}scenes"{}}))\ \{}
\DoxyCodeLine{02055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sceneIndex\ <\ scenesArray-\/>Size())\ \{}
\DoxyCodeLine{02056\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classgl_t_f2_1_1_asset_a3b4fdc0d56a91d646a8318beaed684ac}{scene}}\ =\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_a991f60db6c3118a02c60c57286ae4bd2}{scenes}}.Retrieve(sceneIndex);}
\DoxyCodeLine{02057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02058\ \ \ \ \ \}}
\DoxyCodeLine{02059\ }
\DoxyCodeLine{02060\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *skinsArray\ =\ \mbox{\hyperlink{namespacegl_t_f2_ad381d1d227cc641c8141e5701c09c7bb}{FindArray}}(doc,\ \textcolor{stringliteral}{"{}skins"{}}))\ \{}
\DoxyCodeLine{02061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ skinsArray-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{02062\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_afb1f870cc7b65638943dec3427ae88f4}{skins}}.Retrieve(i);}
\DoxyCodeLine{02063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02064\ \ \ \ \ \}}
\DoxyCodeLine{02065\ }
\DoxyCodeLine{02066\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_value}{Value}}\ *animsArray\ =\ \mbox{\hyperlink{namespacegl_t_f2_ad381d1d227cc641c8141e5701c09c7bb}{FindArray}}(doc,\ \textcolor{stringliteral}{"{}animations"{}}))\ \{}
\DoxyCodeLine{02067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ animsArray-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{02068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_ab13c53e91ab389d590ea4fbf05e1a639}{animations}}.Retrieve(i);}
\DoxyCodeLine{02069\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02070\ \ \ \ \ \}}
\DoxyCodeLine{02071\ }
\DoxyCodeLine{02072\ \ \ \ \ \textcolor{comment}{//\ Clean\ up}}
\DoxyCodeLine{02073\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ mDicts.size();\ ++i)\ \{}
\DoxyCodeLine{02074\ \ \ \ \ \ \ \ \ mDicts[i]-\/>DetachFromDocument();}
\DoxyCodeLine{02075\ \ \ \ \ \}}
\DoxyCodeLine{02076\ \}}
\DoxyCodeLine{02077\ }
\DoxyCodeLine{02078\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_aae640d9edd161d9edbae3bf990c6d1ff}{Asset::CanRead}}(\textcolor{keyword}{const}\ std::string\ \&pFile,\ \textcolor{keywordtype}{bool}\ isBinary)\ \{}
\DoxyCodeLine{02079\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{02080\ \ \ \ \ \ \ \ \ shared\_ptr<IOStream>\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}}(OpenFile(pFile.c\_str(),\ \textcolor{stringliteral}{"{}rb"{}},\ \textcolor{keyword}{true}));}
\DoxyCodeLine{02081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}})\ \{}
\DoxyCodeLine{02082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02083\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02084\ \ \ \ \ \ \ \ \ std::vector<char>\ sceneData;}
\DoxyCodeLine{02085\ \ \ \ \ \ \ \ \ rapidjson::Document\ doc\ =\ ReadDocument(*\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a4ed0a20697a8c37f8af699a8ec6d76a8}{stream}},\ isBinary,\ sceneData);}
\DoxyCodeLine{02086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classgl_t_f2_1_1_asset_aec4725200fca4d396cfa1a640e4c9ffd}{asset}}.Read(doc);}
\DoxyCodeLine{02087\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{02088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{02089\ \ \ \ \ \}}
\DoxyCodeLine{02090\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{02091\ \}}
\DoxyCodeLine{02092\ }
\DoxyCodeLine{02093\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_a529276eb71bf868fd4d74961a42f709c}{Asset::SetAsBinary}}()\ \{}
\DoxyCodeLine{02094\ \ \ \ \ \textcolor{keywordflow}{if}\ (!mBodyBuffer)\ \{}
\DoxyCodeLine{02095\ \ \ \ \ \ \ \ \ mBodyBuffer\ =\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_aab6dc30f3ecbebf57949b09c98f3550b}{buffers}}.Create(\textcolor{stringliteral}{"{}binary\_glTF"{}});}
\DoxyCodeLine{02096\ \ \ \ \ \ \ \ \ mBodyBuffer-\/>MarkAsSpecial();}
\DoxyCodeLine{02097\ \ \ \ \ \}}
\DoxyCodeLine{02098\ \}}
\DoxyCodeLine{02099\ }
\DoxyCodeLine{02100\ \textcolor{comment}{//\ As\ required\ extensions\ are\ only\ a\ concept\ in\ glTF\ 2.0,\ this\ is\ here}}
\DoxyCodeLine{02101\ \textcolor{comment}{//\ instead\ of\ glTFCommon.h}}
\DoxyCodeLine{02102\ \textcolor{preprocessor}{\#define\ CHECK\_REQUIRED\_EXT(EXT)\ \(\backslash\)}}
\DoxyCodeLine{02103\ \textcolor{preprocessor}{\ \ \ \ if\ (exts.find(\#EXT)\ !=\ exts.end())\ extensionsRequired.EXT\ =\ true;}}
\DoxyCodeLine{02104\ }
\DoxyCodeLine{02105\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Asset::ReadExtensionsRequired(\mbox{\hyperlink{document_8h_ac6ea5b168e3fe8c7fa532450fc9391f7}{Document}}\ \&doc)\ \{}
\DoxyCodeLine{02106\ \ \ \ \ \mbox{\hyperlink{class_value}{Value}}\ *extsRequired\ =\ \mbox{\hyperlink{namespacegl_t_f2_ad381d1d227cc641c8141e5701c09c7bb}{FindArray}}(doc,\ \textcolor{stringliteral}{"{}extensionsRequired"{}});}
\DoxyCodeLine{02107\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{nullptr}\ ==\ extsRequired)\ \{}
\DoxyCodeLine{02108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02109\ \ \ \ \ \}}
\DoxyCodeLine{02110\ }
\DoxyCodeLine{02111\ \ \ \ \ std::gltf\_unordered\_map<std::string,\ bool>\ exts;}
\DoxyCodeLine{02112\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ extsRequired-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{02113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*extsRequired)[i].IsString())\ \{}
\DoxyCodeLine{02114\ \ \ \ \ \ \ \ \ \ \ \ \ exts[(*extsRequired)[i].GetString()]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02115\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02116\ \ \ \ \ \}}
\DoxyCodeLine{02117\ }
\DoxyCodeLine{02118\ \ \ \ \ \mbox{\hyperlink{gl_t_f2_asset_8inl_ac67fe732bae4c79cb590ec3ce6f16813}{CHECK\_REQUIRED\_EXT}}(KHR\_draco\_mesh\_compression);}
\DoxyCodeLine{02119\ }
\DoxyCodeLine{02120\ \textcolor{preprocessor}{\#undef\ CHECK\_REQUIRED\_EXT}}
\DoxyCodeLine{02121\ \}}
\DoxyCodeLine{02122\ }
\DoxyCodeLine{02123\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Asset::ReadExtensionsUsed(\mbox{\hyperlink{document_8h_ac6ea5b168e3fe8c7fa532450fc9391f7}{Document}}\ \&doc)\ \{}
\DoxyCodeLine{02124\ \ \ \ \ \mbox{\hyperlink{document_8h_a071cf97155ba72ac9a1fc4ad7e63d481}{Value}}\ *extsUsed\ =\ \mbox{\hyperlink{namespacegl_t_f2_ad381d1d227cc641c8141e5701c09c7bb}{FindArray}}(doc,\ \textcolor{stringliteral}{"{}extensionsUsed"{}});}
\DoxyCodeLine{02125\ \ \ \ \ \textcolor{keywordflow}{if}\ (!extsUsed)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{02126\ }
\DoxyCodeLine{02127\ \ \ \ \ std::gltf\_unordered\_map<std::string,\ bool>\ exts;}
\DoxyCodeLine{02128\ }
\DoxyCodeLine{02129\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ extsUsed-\/>Size();\ ++i)\ \{}
\DoxyCodeLine{02130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((*extsUsed)[i].IsString())\ \{}
\DoxyCodeLine{02131\ \ \ \ \ \ \ \ \ \ \ \ \ exts[(*extsUsed)[i].GetString()]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02132\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02133\ \ \ \ \ \}}
\DoxyCodeLine{02134\ }
\DoxyCodeLine{02135\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_pbrSpecularGlossiness);}
\DoxyCodeLine{02136\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_specular);}
\DoxyCodeLine{02137\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_unlit);}
\DoxyCodeLine{02138\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_lights\_punctual);}
\DoxyCodeLine{02139\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_texture\_transform);}
\DoxyCodeLine{02140\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_sheen);}
\DoxyCodeLine{02141\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_clearcoat);}
\DoxyCodeLine{02142\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_transmission);}
\DoxyCodeLine{02143\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_volume);}
\DoxyCodeLine{02144\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_ior);}
\DoxyCodeLine{02145\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_materials\_emissive\_strength);}
\DoxyCodeLine{02146\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_draco\_mesh\_compression);}
\DoxyCodeLine{02147\ \ \ \ \ \mbox{\hyperlink{gl_t_f_common_8h_a19b714a9f28397ad6627f0ba5fb2f162}{CHECK\_EXT}}(KHR\_texture\_basisu);}
\DoxyCodeLine{02148\ }
\DoxyCodeLine{02149\ \textcolor{preprocessor}{\#undef\ CHECK\_EXT}}
\DoxyCodeLine{02150\ \}}
\DoxyCodeLine{02151\ }
\DoxyCodeLine{02152\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classgl_t_f_common_1_1_i_o_stream}{IOStream}}\ *Asset::OpenFile(\textcolor{keyword}{const}\ std::string\ \&path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a7e43d41c2fe013a373b540cba02505cf}{mode}},\ \textcolor{keywordtype}{bool}\ \textcolor{comment}{/*absolute*/})\ \{}
\DoxyCodeLine{02153\ \textcolor{preprocessor}{\#ifdef\ ASSIMP\_API}}
\DoxyCodeLine{02154\ \ \ \ \ \textcolor{keywordflow}{return}\ mIOSystem-\/>Open(path,\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a7e43d41c2fe013a373b540cba02505cf}{mode}});}
\DoxyCodeLine{02155\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{02156\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespace_assimp_1_1_d3_m_f_1_1_xml_tag_a65976964b929d459ca3569243d46ad7f}{path}}.size()\ <\ 2)\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02157\ \ \ \ \ \textcolor{keywordflow}{if}\ (!absolute\ \&\&\ path[1]\ !=\ \textcolor{charliteral}{':'}\ \&\&\ path[0]\ !=\ \textcolor{charliteral}{'/'})\ \{\ \textcolor{comment}{//\ relative?}}
\DoxyCodeLine{02158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_assimp_1_1_d3_m_f_1_1_xml_tag_a65976964b929d459ca3569243d46ad7f}{path}}\ =\ mCurrentAssetDir\ +\ \mbox{\hyperlink{namespace_assimp_1_1_d3_m_f_1_1_xml_tag_a65976964b929d459ca3569243d46ad7f}{path}};}
\DoxyCodeLine{02159\ \ \ \ \ \}}
\DoxyCodeLine{02160\ \ \ \ \ \mbox{\hyperlink{namespaceassimp_1_1types_a52da3a6c31d2b1f04a0f897a22c5b3a6a0635dd4225361cb6b8db05572f6e3d23}{FILE}}\ *f\ =\ \mbox{\hyperlink{miniz__tester_8cpp_a029f6d343db87fe8c80cf3e5bea2b5c1}{fopen}}(\mbox{\hyperlink{namespace_assimp_1_1_d3_m_f_1_1_xml_tag_a65976964b929d459ca3569243d46ad7f}{path}}.c\_str(),\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a7e43d41c2fe013a373b540cba02505cf}{mode}});}
\DoxyCodeLine{02161\ \ \ \ \ \textcolor{keywordflow}{return}\ f\ ?\ \textcolor{keyword}{new}\ IOStream(f)\ :\ \mbox{\hyperlink{_open_d_d_l_common_8h_ab979d9d4b4923f7c54d6caa6e1a61936}{nullptr}};}
\DoxyCodeLine{02162\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02163\ \}}
\DoxyCodeLine{02164\ }
\DoxyCodeLine{02165\ \textcolor{keyword}{inline}\ std::string\ \mbox{\hyperlink{classgl_t_f2_1_1_asset_af50cc41ccf4373727fb68d7248774771}{Asset::FindUniqueID}}(\textcolor{keyword}{const}\ std::string\ \&str,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *suffix)\ \{}
\DoxyCodeLine{02166\ \ \ \ \ std::string\ \textcolor{keywordtype}{id}\ =\ str;}
\DoxyCodeLine{02167\ }
\DoxyCodeLine{02168\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\textcolor{keywordtype}{id}.empty())\ \{}
\DoxyCodeLine{02169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mUsedIds.find(\textcolor{keywordtype}{id})\ ==\ mUsedIds.end())}
\DoxyCodeLine{02170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{02171\ }
\DoxyCodeLine{02172\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ +=\ \textcolor{stringliteral}{"{}\_"{}};}
\DoxyCodeLine{02173\ \ \ \ \ \}}
\DoxyCodeLine{02174\ }
\DoxyCodeLine{02175\ \ \ \ \ \textcolor{keywordtype}{id}\ +=\ suffix;}
\DoxyCodeLine{02176\ }
\DoxyCodeLine{02177\ \ \ \ \ Asset::IdMap::iterator\ it\ =\ mUsedIds.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02178\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ mUsedIds.end())\ \{}
\DoxyCodeLine{02179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{02180\ \ \ \ \ \}}
\DoxyCodeLine{02181\ }
\DoxyCodeLine{02182\ \ \ \ \ std::vector<char>\ buffer;}
\DoxyCodeLine{02183\ \ \ \ \ buffer.resize(\textcolor{keywordtype}{id}.\mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a014d89bd76f74ef3a29c8f04b473eb76}{size}}()\ +\ 16);}
\DoxyCodeLine{02184\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}}\ =\ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a15ab1a7a316884426fdd86b1c9706ce2}{ai\_snprintf}}(buffer.data(),\ buffer.size(),\ \textcolor{stringliteral}{"{}\%s\_"{}},\ \textcolor{keywordtype}{id}.c\_str());}
\DoxyCodeLine{02185\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ it\ !=\ mUsedIds.end();\ ++i)\ \{}
\DoxyCodeLine{02186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{assimp-install_2include_2assimp_2_string_utils_8h_a15ab1a7a316884426fdd86b1c9706ce2}{ai\_snprintf}}(buffer.data()\ +\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}},\ buffer.size()\ -\/\ \mbox{\hyperlink{zlib_2contrib_2minizip_2ioapi_8h_a601c4660e8a1a14a1b87fe387e934d19}{offset}},\ \textcolor{stringliteral}{"{}\%d"{}},\ i);}
\DoxyCodeLine{02187\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ =\ buffer.data();}
\DoxyCodeLine{02188\ \ \ \ \ \ \ \ \ it\ =\ mUsedIds.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{02189\ \ \ \ \ \}}
\DoxyCodeLine{02190\ }
\DoxyCodeLine{02191\ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{02192\ \}}
\DoxyCodeLine{02193\ }
\DoxyCodeLine{02194\ \textcolor{preprocessor}{\#if\ \_MSC\_VER}}
\DoxyCodeLine{02195\ \textcolor{preprocessor}{\#\ \ \ pragma\ warning(pop)}}
\DoxyCodeLine{02196\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_MSC\_VER}}
\DoxyCodeLine{02197\ }
\DoxyCodeLine{02198\ \}\ \textcolor{comment}{//\ namespace\ glTF2}}

\end{DoxyCode}
